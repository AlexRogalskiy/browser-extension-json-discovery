(()=>{var Hs=Object.defineProperty,yl=H=>Hs(H,"__esModule",{value:!0}),Ws=(H,pe)=>()=>(pe||(pe={exports:{}},H(pe.exports,pe)),pe.exports),bl=(H,pe)=>{yl(H);for(var k in pe)Hs(H,k,{get:pe[k],enumerable:!0})},qs=Ws((Bs,xa)=>{!function(H){typeof Bs=="object"&&typeof xa!="undefined"?xa.exports=H():typeof define=="function"&&define.amd?define([],H):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).discovery=H()}(function(){return function H(pe,k,_){function F(w,u){if(!k[w]){if(!pe[w]){var y=!1;if(!u&&y)return y(w,!0);if(A)return A(w,!0);var S=new Error("Cannot find module '"+w+"'");throw S.code="MODULE_NOT_FOUND",S}var O=k[w]={exports:{}};pe[w][0].call(O.exports,function(m){return F(pe[w][1][m]||m)},O,O.exports,H,pe,k,_)}return k[w].exports}for(var A=!1,h=0;h<_.length;h++)F(_[h]);return F}({1:[function(H,pe,k){pe=void 0;var _,F=function(){let A=arguments[arguments.length-1];_=A(),F=void 0};F.amd=!0,function(A,h){typeof k=="object"&&pe!==void 0?pe.exports=h():typeof F=="function"&&F.amd?F(h):(A=typeof globalThis!="undefined"?globalThis:A||self).jsonExt=h()}(this,function(){"use strict";function A(L){return typeof L.pipe=="function"&&typeof L._read=="function"&&typeof L._readableState=="object"&&L._readableState!==null}var h={escapableCharCodeSubstitution:{8:"\\b",9:"\\t",10:"\\n",12:"\\f",13:"\\r",34:'\\"',92:"\\\\"},isLeadingSurrogate:function(L){return L>=55296&&L<=56319},isTrailingSurrogate:function(L){return L>=56320&&L<=57343},type:{PRIMITIVE:1,PROMISE:4,ARRAY:3,OBJECT:2,STRING_STREAM:5,OBJECT_STREAM:6},isReadableStream:A,replaceValue:function(L,W,V,z){switch(V&&typeof V.toJSON=="function"&&(V=V.toJSON()),z!==null&&(V=z.call(L,String(W),V)),typeof V){case"function":case"symbol":V=void 0;break;case"object":if(V!==null){let I=V.constructor;I!==String&&I!==Number&&I!==Boolean||(V=V.valueOf())}}return V},getTypeNative:function(L){return L===null||typeof L!="object"?1:Array.isArray(L)?3:2},getTypeAsync:function(L){return L===null||typeof L!="object"?1:typeof L.then=="function"?4:A(L)?L._readableState.objectMode?6:5:Array.isArray(L)?3:2},normalizeReplacer:function(L){if(typeof L=="function")return L;if(Array.isArray(L)){let W=new Set(L.map(V=>typeof V=="string"||typeof V=="number"?String(V):null).filter(V=>typeof V=="string"));return W.add(""),(V,z)=>W.has(V)?z:void 0}return null},normalizeSpace:function(L){return typeof L=="number"?!(!Number.isFinite(L)||L<1)&&" ".repeat(Math.min(L,10)):typeof L=="string"&&L.slice(0,10)||!1}};let{normalizeReplacer:w,normalizeSpace:u,replaceValue:y,getTypeNative:S,getTypeAsync:O,isLeadingSurrogate:m,isTrailingSurrogate:x,escapableCharCodeSubstitution:f,type:{PRIMITIVE:p,OBJECT:g,ARRAY:d,PROMISE:l,STRING_STREAM:c,OBJECT_STREAM:v}}=h,j=Array.from({length:2048}).map((L,W)=>f.hasOwnProperty(W)?2:W<32?6:W<128?1:2);function E(L){let W=0,V=!1;for(let z=0;z<L.length;z++){let I=L.charCodeAt(z);if(I<2048)W+=j[I];else{if(m(I)){W+=6,V=!0;continue}x(I)?W=V?W-2:W+6:W+=3}V=!1}return W+2}return{stringifyInfo:function(L,W,V,z){W=w(W),V=function(X){return typeof(X=u(X))=="string"?X.length:0}(V),z=z||{};let I=new Map,P=new Set,D=new Set,N=new Set,ne=new Set,Y=z.async?O:S,ee={"":L},Z=!1,R=0;return function X(le,ue){if(Z)return;ue=y(this,le,ue,W);let Ce=Y(ue);if(Ce!==p&&P.has(ue))return N.add(ue),R+=4,void(z.continueOnCircular||(Z=!0));switch(Ce){case p:ue!==void 0||Array.isArray(this)?R+=function(ie){switch(typeof ie){case"string":return E(ie);case"number":return Number.isFinite(ie)?String(ie).length:4;case"boolean":return ie?4:5;case"undefined":case"object":return 4;default:throw new TypeError("Do not know how to serialize a "+typeof ie)}}(ue):this===ee&&(R+=9);break;case g:{if(I.has(ue)){D.add(ue),R+=I.get(ue);break}let ie=R,te=0;R+=2,P.add(ue);for(let se in ue)if(hasOwnProperty.call(ue,se)){let me=R;X.call(ue,se,ue[se]),me!==R&&(R+=E(se)+1,te++)}te>1&&(R+=te-1),P.delete(ue),V>0&&te>0&&(R+=(1+(P.size+1)*V+1)*te,R+=1+P.size*V),I.set(ue,R-ie);break}case d:{if(I.has(ue)){D.add(ue),R+=I.get(ue);break}let ie=R;R+=2,P.add(ue);for(let te=0;te<ue.length;te++)X.call(ue,String(te),ue[te]);ue.length>1&&(R+=ue.length-1),P.delete(ue),V>0&&ue.length>0&&(R+=(1+(P.size+1)*V)*ue.length,R+=1+P.size*V),I.set(ue,R-ie);break}case l:case c:ne.add(ue);break;case v:R+=2,ne.add(ue)}}.call(ee,"",L),{minLength:isNaN(R)?1/0:R,circular:[...N],duplicate:[...D],async:[...ne]}},stringifyStream:"Method is not supported"}}),Object.defineProperty(k,"__esModule",{value:!0}),k.default=_},{}],2:[function(H,pe,k){pe=void 0;var _,F,A=function(){let h=arguments[arguments.length-1];_=h(),A=void 0};A.amd=!0,function(h,w){typeof k=="object"&&pe!==void 0?pe.exports=w():typeof A=="function"&&A.amd?A(w):(h=h||self).CodeMirror=w()}(this,function(){"use strict";var h=navigator.userAgent,w=navigator.platform,u=/gecko\/\d/i.test(h),y=/MSIE \d/.test(h),S=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(h),O=/Edge\/(\d+)/.exec(h),m=y||S||O,x=m&&(y?document.documentMode||6:+(O||S)[1]),f=!O&&/WebKit\//.test(h),p=f&&/Qt\/\d+\.\d+/.test(h),g=!O&&/Chrome\//.test(h),d=/Opera\//.test(h),l=/Apple Computer/.test(navigator.vendor),c=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(h),v=/PhantomJS/.test(h),j=!O&&/AppleWebKit/.test(h)&&/Mobile\/\w+/.test(h),E=/Android/.test(h),L=j||E||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(h),W=j||/Mac/.test(w),V=/\bCrOS\b/.test(h),z=/win/i.test(w),I=d&&h.match(/Version\/(\d*\.\d*)/);I&&(I=Number(I[1])),I&&I>=15&&(d=!1,f=!0);var P=W&&(p||d&&(I==null||I<12.11)),D=u||m&&x>=9;function N(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var ne,Y=function(e,t){var r=e.className,n=N(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function ee(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Z(e,t){return ee(e).appendChild(t)}function R(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),typeof t=="string")i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function X(e,t,r,n){var i=R(e,t,r,n);return i.setAttribute("role","presentation"),i}function le(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function ue(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function Ce(e,t){var r=e.className;N(t).test(r)||(e.className+=(r?" ":"")+t)}function ie(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!N(r[n]).test(t)&&(t+=" "+r[n]);return t}ne=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var te=function(e){e.select()};function se(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function me(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function Pe(e,t,r,n,i){t==null&&(t=e.search(/[^\s\u00a0]/))==-1&&(t=e.length);for(var a=n||0,b=i||0;;){var C=e.indexOf("	",a);if(C<0||C>=t)return b+(t-a);b+=C-a,b+=r-b%r,a=C+1}}j?te=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:m&&(te=function(e){try{e.select()}catch(t){}});var Ke=function(){this.id=null,this.f=null,this.time=0,this.handler=se(this.onTimeout,this)};function oe(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}Ke.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Ke.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var ce={toString:function(){return"CodeMirror.Pass"}},_e={scroll:!1},Ee={origin:"*mouse"},Je={origin:"+move"};function ft(e,t,r){for(var n=0,i=0;;){var a=e.indexOf("	",n);a==-1&&(a=e.length);var b=a-n;if(a==e.length||i+b>=t)return n+Math.min(b,t-i);if(i+=a-n,n=a+1,(i+=r-i%r)>=t)return n}}var be=[""];function je(e){for(;be.length<=e;)be.push(ye(be)+" ");return be[e]}function ye(e){return e[e.length-1]}function ke(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function dt(){}function kt(e,t){var r;return Object.create?r=Object.create(e):(dt.prototype=e,r=new dt),t&&me(t,r),r}var pt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ot(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||pt.test(e))}function sn(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Ot(e))||t.test(e):Ot(e)}function Vt(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var Mt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Me(e){return e.charCodeAt(0)>=768&&Mt.test(e)}function ge(e,t,r){for(;(r<0?t>0:t<e.length)&&Me(e.charAt(t));)t+=r;return t}function q(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,a=n<0?Math.ceil(i):Math.floor(i);if(a==t)return e(a)?t:r;e(a)?r=a:t=a+n}}var J=null;function U(e,t,r){var n;J=null;for(var i=0;i<e.length;++i){var a=e[i];if(a.from<t&&a.to>t)return i;a.to==t&&(a.from!=a.to&&r=="before"?n=i:J=i),a.from==t&&(a.from!=a.to&&r!="before"?n=i:J=i)}return n??J}var de=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,r=/[LRr]/,n=/[Lb1n]/,i=/[1n]/;function a(b,C,M){this.level=b,this.from=C,this.to=M}return function(b,C){var M=C=="ltr"?"L":"R";if(b.length==0||C=="ltr"&&!e.test(b))return!1;for(var T,K=b.length,G=[],ae=0;ae<K;++ae)G.push((T=b.charCodeAt(ae))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(T):1424<=T&&T<=1524?"R":1536<=T&&T<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(T-1536):1774<=T&&T<=2220?"r":8192<=T&&T<=8203?"w":T==8204?"b":"L");for(var re=0,ve=M;re<K;++re){var we=G[re];we=="m"?G[re]=ve:ve=we}for(var fe=0,Se=M;fe<K;++fe){var Be=G[fe];Be=="1"&&Se=="r"?G[fe]="n":r.test(Be)&&(Se=Be,Be=="r"&&(G[fe]="R"))}for(var Ne=1,Xe=G[0];Ne<K-1;++Ne){var Ve=G[Ne];Ve=="+"&&Xe=="1"&&G[Ne+1]=="1"?G[Ne]="1":Ve!=","||Xe!=G[Ne+1]||Xe!="1"&&Xe!="n"||(G[Ne]=Xe),Xe=Ve}for(var Ge=0;Ge<K;++Ge){var Ct=G[Ge];if(Ct==",")G[Ge]="N";else if(Ct=="%"){var gt=void 0;for(gt=Ge+1;gt<K&&G[gt]=="%";++gt);for(var on=Ge&&G[Ge-1]=="!"||gt<K&&G[gt]=="1"?"1":"N",Lt=Ge;Lt<gt;++Lt)G[Lt]=on;Ge=gt-1}}for(var Yt=0,On=M;Yt<K;++Yt){var en=G[Yt];On=="L"&&en=="1"?G[Yt]="L":r.test(en)&&(On=en)}for(var ln=0;ln<K;++ln)if(t.test(G[ln])){var tn=void 0;for(tn=ln+1;tn<K&&t.test(G[tn]);++tn);for(var Ut=(ln?G[ln-1]:M)=="L",fn=Ut==((tn<K?G[tn]:M)=="L")?Ut?"L":"R":M,Kt=ln;Kt<tn;++Kt)G[Kt]=fn;ln=tn-1}for(var nn,zt=[],pn=0;pn<K;)if(n.test(G[pn])){var Nn=pn;for(++pn;pn<K&&n.test(G[pn]);++pn);zt.push(new a(0,Nn,pn))}else{var Mn=pn,Jn=zt.length,er=C=="rtl"?1:0;for(++pn;pn<K&&G[pn]!="L";++pn);for(var kn=Mn;kn<pn;)if(i.test(G[kn])){Mn<kn&&(zt.splice(Jn,0,new a(1,Mn,kn)),Jn+=er);var tr=kn;for(++kn;kn<pn&&i.test(G[kn]);++kn);zt.splice(Jn,0,new a(2,tr,kn)),Jn+=er,Mn=kn}else++kn;Mn<pn&&zt.splice(Jn,0,new a(1,Mn,pn))}return C=="ltr"&&(zt[0].level==1&&(nn=b.match(/^\s+/))&&(zt[0].from=nn[0].length,zt.unshift(new a(0,0,nn[0].length))),ye(zt).level==1&&(nn=b.match(/\s+$/))&&(ye(zt).to-=nn[0].length,zt.push(new a(0,K-nn[0].length,K)))),C=="rtl"?zt.reverse():zt}}();function nt(e,t){var r=e.order;return r==null&&(r=e.order=de(e.text,t)),r}var Re=[],Le=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Re).concat(r)}};function Ue(e,t){return e._handlers&&e._handlers[t]||Re}function st(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var a=oe(i,r);a>-1&&(n[t]=i.slice(0,a).concat(i.slice(a+1)))}}}function lt(e,t){var r=Ue(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function Dt(e,t,r){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),lt(e,r||t.type,e,t),rr(t)||t.codemirrorIgnore}function $n(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)oe(r,t[n])==-1&&r.push(t[n])}function wn(e,t){return Ue(e,t).length>0}function rn(e){e.prototype.on=function(t,r){Le(this,t,r)},e.prototype.off=function(t,r){st(this,t,r)}}function Cn(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function qn(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function rr(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==0}function Dn(e){Cn(e),qn(e)}function Yn(e){return e.target||e.srcElement}function ir(e){var t=e.which;return t==null&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),W&&e.ctrlKey&&t==1&&(t=3),t}var fr,Wr,Bi=function(){if(m&&x<9)return!1;var e=R("div");return"draggable"in e||"dragDrop"in e}();function _r(e){if(fr==null){var t=R("span","\u200B");Z(e,R("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(fr=t.offsetWidth<=1&&t.offsetHeight>2&&!(m&&x<8))}var r=fr?R("span","\u200B"):R("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Un(e){if(Wr!=null)return Wr;var t=Z(e,document.createTextNode("A\u062EA")),r=ne(t,0,1).getBoundingClientRect(),n=ne(t,1,2).getBoundingClientRect();return ee(e),!(!r||r.left==r.right)&&(Wr=n.right-r.right<3)}var Fn,Br=`

b`.split(/\n/).length!=3?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf(`
`,t);i==-1&&(i=e.length);var a=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),b=a.indexOf("\r");b!=-1?(r.push(a.slice(0,b)),t+=b+1):(r.push(a),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},br=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!(!t||t.parentElement()!=e)&&t.compareEndPoints("StartToEnd",t)!=0},qi="oncopy"in(Fn=R("div"))||(Fn.setAttribute("oncopy","return;"),typeof Fn.oncopy=="function"),qr=null,wr={},zn={};function Dr(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),wr[e]=t}function Ar(e){if(typeof e=="string"&&zn.hasOwnProperty(e))e=zn[e];else if(e&&typeof e.name=="string"&&zn.hasOwnProperty(e.name)){var t=zn[e.name];typeof t=="string"&&(t={name:t}),(e=kt(t,e)).name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ar("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ar("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Ur(e,t){t=Ar(t);var r=wr[t.name];if(!r)return Ur(e,"text/plain");var n=r(e,t);if(xr.hasOwnProperty(t.name)){var i=xr[t.name];for(var a in i)i.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&(n["_"+a]=n[a]),n[a]=i[a])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var b in t.modeProps)n[b]=t.modeProps[b];return n}var xr={};function Mr(e,t){me(t,xr.hasOwnProperty(e)?xr[e]:xr[e]={})}function dr(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function ai(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Vr(e,t,r){return!e.startState||e.startState(t,r)}var Tn=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function vt(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],a=i.chunkSize();if(t<a){r=i;break}t-=a}return r.lines[t]}function kr(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(a){var b=a.text;i==r.line&&(b=b.slice(0,r.ch)),i==t.line&&(b=b.slice(t.ch)),n.push(b),++i}),n}function Gr(e,t,r){var n=[];return e.iter(t,r,function(i){n.push(i.text)}),n}function B(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function Q(e){if(e.parent==null)return null;for(var t=e.parent,r=oe(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function tt(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],a=i.height;if(t<a){e=i;continue e}t-=a,r+=i.chunkSize()}return r}while(!e.lines);for(var b=0;b<e.lines.length;++b){var C=e.lines[b].height;if(t<C)break;t-=C}return r+b}function rt(e,t){return t>=e.first&&t<e.first+e.size}function s(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function o(e,t,r){if(r===void 0&&(r=null),!(this instanceof o))return new o(e,t,r);this.line=e,this.ch=t,this.sticky=r}function $(e,t){return e.line-t.line||e.ch-t.ch}function he(e,t){return e.sticky==t.sticky&&$(e,t)==0}function Ae(e){return o(e.line,e.ch)}function xe(e,t){return $(e,t)<0?t:e}function Oe(e,t){return $(e,t)<0?e:t}function He(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Te(e,t){if(t.line<e.first)return o(e.first,0);var r=e.first+e.size-1;return t.line>r?o(r,vt(e,r).text.length):function(n,i){var a=n.ch;return a==null||a>i?o(n.line,i):a<0?o(n.line,0):n}(t,vt(e,t.line).text.length)}function at(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=Te(e,t[n]);return r}Tn.prototype.eol=function(){return this.pos>=this.string.length},Tn.prototype.sol=function(){return this.pos==this.lineStart},Tn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Tn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Tn.prototype.eat=function(e){var t=this.string.charAt(this.pos);if(typeof e=="string"?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Tn.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Tn.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Tn.prototype.skipToEnd=function(){this.pos=this.string.length},Tn.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Tn.prototype.backUp=function(e){this.pos-=e},Tn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Pe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Pe(this.string,this.lineStart,this.tabSize):0)},Tn.prototype.indentation=function(){return Pe(this.string,null,this.tabSize)-(this.lineStart?Pe(this.string,this.lineStart,this.tabSize):0)},Tn.prototype.match=function(e,t,r){if(typeof e!="string"){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(a){return r?a.toLowerCase():a};if(i(this.string.substr(this.pos,e.length))==i(e))return t!==!1&&(this.pos+=e.length),!0},Tn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Tn.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Tn.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Tn.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Ze=function(e,t){this.state=e,this.lookAhead=t},$e=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Ie(e,t,r,n){var i=[e.state.modeGen],a={};mt(e,t.text,e.doc.mode,r,function(T,K){return i.push(T,K)},a,n);for(var b=r.state,C=function(T){r.baseTokens=i;var K=e.state.overlays[T],G=1,ae=0;r.state=!0,mt(e,t.text,K.mode,r,function(re,ve){for(var we=G;ae<re;){var fe=i[G];fe>re&&i.splice(G,1,re,i[G+1],fe),G+=2,ae=Math.min(re,fe)}if(ve)if(K.opaque)i.splice(we,G-we,re,"overlay "+ve),G=we+2;else for(;we<G;we+=2){var Se=i[we+1];i[we+1]=(Se?Se+" ":"")+"overlay "+ve}},a),r.state=b,r.baseTokens=null,r.baseTokenPos=1},M=0;M<e.state.overlays.length;++M)C(M);return{styles:i,classes:a.bgClass||a.textClass?a:null}}function Fe(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=We(e,Q(t)),i=t.text.length>e.options.maxHighlightLength&&dr(e.doc.mode,n.state),a=Ie(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=a.styles,a.classes?t.styleClasses=a.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function We(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new $e(n,!0,t);var a=function(M,T,K){for(var G,ae,re=M.doc,ve=K?-1:T-(M.doc.mode.innerMode?1e3:100),we=T;we>ve;--we){if(we<=re.first)return re.first;var fe=vt(re,we-1),Se=fe.stateAfter;if(Se&&(!K||we+(Se instanceof Ze?Se.lookAhead:0)<=re.modeFrontier))return we;var Be=Pe(fe.text,null,M.options.tabSize);(ae==null||G>Be)&&(ae=we-1,G=Be)}return ae}(e,t,r),b=a>n.first&&vt(n,a-1).stateAfter,C=b?$e.fromSaved(n,b,a):new $e(n,Vr(n.mode),a);return n.iter(a,t,function(M){Ye(e,M.text,C);var T=C.line;M.stateAfter=T==t-1||T%5==0||T>=i.viewFrom&&T<i.viewTo?C.save():null,C.nextLine()}),r&&(n.modeFrontier=C.line),C}function Ye(e,t,r,n){var i=e.doc.mode,a=new Tn(t,e.options.tabSize,r);for(a.start=a.pos=n||0,t==""&&it(i,r.state);!a.eol();)Qe(i,a,r.state),a.start=a.pos}function it(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=ai(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Qe(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=ai(e,r).mode);var a=e.token(t,r);if(t.pos>t.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}$e.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},$e.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},$e.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},$e.fromSaved=function(e,t,r){return t instanceof Ze?new $e(e,dr(e.mode,t.state),r,t.lookAhead):new $e(e,dr(e.mode,t),r)},$e.prototype.save=function(e){var t=e!==!1?dr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ze(t,this.maxLookAhead):t};var qe=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function ot(e,t,r,n){var i,a,b=e.doc,C=b.mode,M=vt(b,(t=Te(b,t)).line),T=We(e,t.line,r),K=new Tn(M.text,e.options.tabSize,T);for(n&&(a=[]);(n||K.pos<t.ch)&&!K.eol();)K.start=K.pos,i=Qe(C,K,T.state),n&&a.push(new qe(K,i,dr(b.mode,T.state)));return n?a:new qe(K,i,T.state)}function ut(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";t[n]==null?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function mt(e,t,r,n,i,a,b){var C=r.flattenSpans;C==null&&(C=e.options.flattenSpans);var M,T=0,K=null,G=new Tn(t,e.options.tabSize,n),ae=e.options.addModeClass&&[null];for(t==""&&ut(it(r,n.state),a);!G.eol();){if(G.pos>e.options.maxHighlightLength?(C=!1,b&&Ye(e,t,n,G.pos),G.pos=t.length,M=null):M=ut(Qe(r,G,n.state,ae),a),ae){var re=ae[0].name;re&&(M="m-"+(M?re+" "+M:re))}if(!C||K!=M){for(;T<G.start;)i(T=Math.min(G.start,T+5e3),K);K=M}G.start=G.pos}for(;T<G.pos;){var ve=Math.min(G.pos,T+5e3);i(ve,K),T=ve}}var yt=!1,ht=!1;function wt(e,t,r){this.marker=e,this.from=t,this.to=r}function bt(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function St(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function xt(e,t){if(t.full)return null;var r=rt(e,t.from.line)&&vt(e,t.from.line).markedSpans,n=rt(e,t.to.line)&&vt(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,a=t.to.ch,b=$(t.from,t.to)==0,C=function(Ve,Ge,Ct){var gt;if(Ve)for(var on=0;on<Ve.length;++on){var Lt=Ve[on],Yt=Lt.marker;if(Lt.from==null||(Yt.inclusiveLeft?Lt.from<=Ge:Lt.from<Ge)||Lt.from==Ge&&Yt.type=="bookmark"&&(!Ct||!Lt.marker.insertLeft)){var On=Lt.to==null||(Yt.inclusiveRight?Lt.to>=Ge:Lt.to>Ge);(gt||(gt=[])).push(new wt(Yt,Lt.from,On?null:Lt.to))}}return gt}(r,i,b),M=function(Ve,Ge,Ct){var gt;if(Ve)for(var on=0;on<Ve.length;++on){var Lt=Ve[on],Yt=Lt.marker;if(Lt.to==null||(Yt.inclusiveRight?Lt.to>=Ge:Lt.to>Ge)||Lt.from==Ge&&Yt.type=="bookmark"&&(!Ct||Lt.marker.insertLeft)){var On=Lt.from==null||(Yt.inclusiveLeft?Lt.from<=Ge:Lt.from<Ge);(gt||(gt=[])).push(new wt(Yt,On?null:Lt.from-Ge,Lt.to==null?null:Lt.to-Ge))}}return gt}(n,a,b),T=t.text.length==1,K=ye(t.text).length+(T?i:0);if(C)for(var G=0;G<C.length;++G){var ae=C[G];if(ae.to==null){var re=bt(M,ae.marker);re?T&&(ae.to=re.to==null?null:re.to+K):ae.to=i}}if(M)for(var ve=0;ve<M.length;++ve){var we=M[ve];(we.to!=null&&(we.to+=K),we.from==null)?bt(C,we.marker)||(we.from=K,T&&(C||(C=[])).push(we)):(we.from+=K,T&&(C||(C=[])).push(we))}C&&(C=jt(C)),M&&M!=C&&(M=jt(M));var fe=[C];if(!T){var Se,Be=t.text.length-2;if(Be>0&&C)for(var Ne=0;Ne<C.length;++Ne)C[Ne].to==null&&(Se||(Se=[])).push(new wt(C[Ne].marker,null,null));for(var Xe=0;Xe<Be;++Xe)fe.push(Se);fe.push(M)}return fe}function jt(e){for(var t=0;t<e.length;++t){var r=e[t];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function wi(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Pn(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Ht(e){return e.inclusiveLeft?-1:0}function Wt(e){return e.inclusiveRight?1:0}function dn(e,t){var r=e.lines.length-t.lines.length;if(r!=0)return r;var n=e.find(),i=t.find(),a=$(n.from,i.from)||Ht(e)-Ht(t);if(a)return-a;var b=$(n.to,i.to)||Wt(e)-Wt(t);return b||t.id-e.id}function hn(e,t){var r,n=ht&&e.markedSpans;if(n)for(var i=void 0,a=0;a<n.length;++a)(i=n[a]).marker.collapsed&&(t?i.from:i.to)==null&&(!r||dn(r,i.marker)<0)&&(r=i.marker);return r}function gn(e){return hn(e,!0)}function cn(e){return hn(e,!1)}function vn(e,t){var r,n=ht&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var a=n[i];a.marker.collapsed&&(a.from==null||a.from<t)&&(a.to==null||a.to>t)&&(!r||dn(r,a.marker)<0)&&(r=a.marker)}return r}function yn(e,t,r,n,i){var a=vt(e,t),b=ht&&a.markedSpans;if(b)for(var C=0;C<b.length;++C){var M=b[C];if(M.marker.collapsed){var T=M.marker.find(0),K=$(T.from,r)||Ht(M.marker)-Ht(i),G=$(T.to,n)||Wt(M.marker)-Wt(i);if(!(K>=0&&G<=0||K<=0&&G>=0)&&(K<=0&&(M.marker.inclusiveRight&&i.inclusiveLeft?$(T.to,r)>=0:$(T.to,r)>0)||K>=0&&(M.marker.inclusiveRight&&i.inclusiveLeft?$(T.from,n)<=0:$(T.from,n)<0)))return!0}}}function Tt(e){for(var t;t=gn(e);)e=t.find(-1,!0).line;return e}function It(e,t){var r=vt(e,t),n=Tt(r);return r==n?t:Q(n)}function $t(e,t){if(t>e.lastLine())return t;var r,n=vt(e,t);if(!Gt(e,n))return t;for(;r=cn(n);)n=r.find(1,!0).line;return Q(n)+1}function Gt(e,t){var r=ht&&t.markedSpans;if(r){for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&an(e,t,n))return!0}}}function an(e,t,r){if(r.to==null){var n=r.marker.find(1,!0);return an(e,n.line,bt(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,a=0;a<t.markedSpans.length;++a)if((i=t.markedSpans[a]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(i.to==null||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&an(e,t,i))return!0}function Ft(e){for(var t=0,r=(e=Tt(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var a=r.parent;a;a=(r=a).parent)for(var b=0;b<a.children.length;++b){var C=a.children[b];if(C==r)break;t+=C.height}return t}function Jt(e){if(e.height==0)return 0;for(var t,r=e.text.length,n=e;t=gn(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=cn(n);){var a=t.find(0,!0);r-=n.text.length-a.from.ch,r+=(n=a.to.line).text.length-a.to.ch}return r}function Xt(e){var t=e.display,r=e.doc;t.maxLine=vt(r,r.first),t.maxLineLength=Jt(t.maxLine),t.maxLineChanged=!0,r.iter(function(n){var i=Jt(n);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=n)})}var qt=function(e,t,r){this.text=e,Pn(this,t),this.height=r?r(this):1};function un(e){e.parent=null,wi(e)}qt.prototype.lineNo=function(){return Q(this)},rn(qt);var xn={},Zr={};function Or(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Zr:xn;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function xi(e,t){var r=X("span",null,null,f?"padding-right: .1px":null),n={pre:X("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a=i?t.rest[i-1]:t.line,b=void 0;n.pos=0,n.addToken=Vi,Un(e.display.measure)&&(b=nt(a,e.doc.direction))&&(n.addToken=Gi(n.addToken,b)),n.map=[],Zi(a,n,Fe(e,a,t!=e.display.externalMeasured&&Q(a))),a.styleClasses&&(a.styleClasses.bgClass&&(n.bgClass=ie(a.styleClasses.bgClass,n.bgClass||"")),a.styleClasses.textClass&&(n.textClass=ie(a.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(_r(e.display.measure))),i==0?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(f){var C=n.content.lastChild;(/\bcm-tab\b/.test(C.className)||C.querySelector&&C.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return lt(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=ie(n.pre.className,n.textClass||"")),n}function Ui(e){var t=R("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Vi(e,t,r,n,i,a,b){if(t){var C,M=e.splitSpaces?function(Ve,Ge){if(Ve.length>1&&!/  /.test(Ve))return Ve;for(var Ct=Ge,gt="",on=0;on<Ve.length;on++){var Lt=Ve.charAt(on);Lt!=" "||!Ct||on!=Ve.length-1&&Ve.charCodeAt(on+1)!=32||(Lt="\xA0"),gt+=Lt,Ct=Lt==" "}return gt}(t,e.trailingSpace):t,T=e.cm.state.specialChars,K=!1;if(T.test(t)){C=document.createDocumentFragment();for(var G=0;;){T.lastIndex=G;var ae=T.exec(t),re=ae?ae.index-G:t.length-G;if(re){var ve=document.createTextNode(M.slice(G,G+re));m&&x<9?C.appendChild(R("span",[ve])):C.appendChild(ve),e.map.push(e.pos,e.pos+re,ve),e.col+=re,e.pos+=re}if(!ae)break;G+=re+1;var we=void 0;if(ae[0]=="	"){var fe=e.cm.options.tabSize,Se=fe-e.col%fe;(we=C.appendChild(R("span",je(Se),"cm-tab"))).setAttribute("role","presentation"),we.setAttribute("cm-text","	"),e.col+=Se}else ae[0]=="\r"||ae[0]==`
`?((we=C.appendChild(R("span",ae[0]=="\r"?"\u240D":"\u2424","cm-invalidchar"))).setAttribute("cm-text",ae[0]),e.col+=1):((we=e.cm.options.specialCharPlaceholder(ae[0])).setAttribute("cm-text",ae[0]),m&&x<9?C.appendChild(R("span",[we])):C.appendChild(we),e.col+=1);e.map.push(e.pos,e.pos+1,we),e.pos++}}else e.col+=t.length,C=document.createTextNode(M),e.map.push(e.pos,e.pos+t.length,C),m&&x<9&&(K=!0),e.pos+=t.length;if(e.trailingSpace=M.charCodeAt(t.length-1)==32,r||n||i||K||a||b){var Be=r||"";n&&(Be+=n),i&&(Be+=i);var Ne=R("span",[C],Be,a);if(b)for(var Xe in b)b.hasOwnProperty(Xe)&&Xe!="style"&&Xe!="class"&&Ne.setAttribute(Xe,b[Xe]);return e.content.appendChild(Ne)}e.content.appendChild(C)}}function Gi(e,t){return function(r,n,i,a,b,C,M){i=i?i+" cm-force-border":"cm-force-border";for(var T=r.pos,K=T+n.length;;){for(var G=void 0,ae=0;ae<t.length&&!((G=t[ae]).to>T&&G.from<=T);ae++);if(G.to>=K)return e(r,n,i,a,b,C,M);e(r,n.slice(0,G.to-T),i,a,null,C,M),a=null,n=n.slice(G.to-T),T=G.to}}}function ki(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Zi(e,t,r){var n=e.markedSpans,i=e.text,a=0;if(n)for(var b,C,M,T,K,G,ae,re=i.length,ve=0,we=1,fe="",Se=0;;){if(Se==ve){M=T=K=C="",ae=null,G=null,Se=1/0;for(var Be=[],Ne=void 0,Xe=0;Xe<n.length;++Xe){var Ve=n[Xe],Ge=Ve.marker;if(Ge.type=="bookmark"&&Ve.from==ve&&Ge.widgetNode)Be.push(Ge);else if(Ve.from<=ve&&(Ve.to==null||Ve.to>ve||Ge.collapsed&&Ve.to==ve&&Ve.from==ve)){if(Ve.to!=null&&Ve.to!=ve&&Se>Ve.to&&(Se=Ve.to,T=""),Ge.className&&(M+=" "+Ge.className),Ge.css&&(C=(C?C+";":"")+Ge.css),Ge.startStyle&&Ve.from==ve&&(K+=" "+Ge.startStyle),Ge.endStyle&&Ve.to==Se&&(Ne||(Ne=[])).push(Ge.endStyle,Ve.to),Ge.title&&((ae||(ae={})).title=Ge.title),Ge.attributes)for(var Ct in Ge.attributes)(ae||(ae={}))[Ct]=Ge.attributes[Ct];Ge.collapsed&&(!G||dn(G.marker,Ge)<0)&&(G=Ve)}else Ve.from>ve&&Se>Ve.from&&(Se=Ve.from)}if(Ne)for(var gt=0;gt<Ne.length;gt+=2)Ne[gt+1]==Se&&(T+=" "+Ne[gt]);if(!G||G.from==ve)for(var on=0;on<Be.length;++on)ki(t,0,Be[on]);if(G&&(G.from||0)==ve){if(ki(t,(G.to==null?re+1:G.to)-ve,G.marker,G.from==null),G.to==null)return;G.to==ve&&(G=!1)}}if(ve>=re)break;for(var Lt=Math.min(re,Se);;){if(fe){var Yt=ve+fe.length;if(!G){var On=Yt>Lt?fe.slice(0,Lt-ve):fe;t.addToken(t,On,b?b+M:M,K,ve+On.length==Se?T:"",C,ae)}if(Yt>=Lt){fe=fe.slice(Lt-ve),ve=Lt;break}ve=Yt,K=""}fe=i.slice(a,a=r[we++]),b=Or(r[we++],t.cm.options)}}else for(var en=1;en<r.length;en+=2)t.addToken(t,i.slice(a,a=r[en]),Or(r[en+1],t.cm.options))}function Yi(e,t,r){this.line=t,this.rest=function(n){for(var i,a;i=cn(n);)n=i.find(1,!0).line,(a||(a=[])).push(n);return a}(t),this.size=this.rest?Q(ye(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Gt(e,t)}function Nt(e,t,r){for(var n,i=[],a=t;a<r;a=n){var b=new Yi(e.doc,vt(e.doc,a),a);n=a+b.size,i.push(b)}return i}var Ir=null,Yr=null;function Hn(e,t){var r=Ue(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);Ir?n=Ir.delayedCallbacks:Yr?n=Yr:(n=Yr=[],setTimeout(So,0));for(var a=function(C){n.push(function(){return r[C].apply(null,i)})},b=0;b<r.length;++b)a(b)}}function So(){var e=Yr;Yr=null;for(var t=0;t<e.length;++t)e[t]()}function Ki(e,t,r,n){for(var i=0;i<t.changes.length;i++){var a=t.changes[i];a=="text"?Pt(e,t):a=="gutter"?Rr(e,t,r,n):a=="class"?ji(e,t):a=="widget"&&Co(e,t,n)}t.changes=null}function Kr(e){return e.node==e.text&&(e.node=R("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),m&&x<8&&(e.node.style.zIndex=2)),e.node}function Oi(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):xi(e,t)}function Pt(e,t){var r=t.text.className,n=Oi(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,ji(e,t)):r&&(t.text.className=r)}function ji(e,t){!function(n,i){var a=i.bgClass?i.bgClass+" "+(i.line.bgClass||""):i.line.bgClass;if(a&&(a+=" CodeMirror-linebackground"),i.background)a?i.background.className=a:(i.background.parentNode.removeChild(i.background),i.background=null);else if(a){var b=Kr(i);i.background=b.insertBefore(R("div",null,a),b.firstChild),n.display.input.setUneditable(i.background)}}(e,t),t.line.wrapClass?Kr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Rr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Kr(t);t.gutterBackground=R("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var b=Kr(t),C=t.gutter=R("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(C),b.insertBefore(C,t.text),t.line.gutterClass&&(C.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=C.appendChild(R("div",s(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var M=0;M<e.display.gutterSpecs.length;++M){var T=e.display.gutterSpecs[M].className,K=a.hasOwnProperty(T)&&a[T];K&&C.appendChild(R("div",[K],"CodeMirror-gutter-elt","left: "+n.gutterLeft[T]+"px; width: "+n.gutterWidth[T]+"px"))}}}function Co(e,t,r){t.alignable&&(t.alignable=null);for(var n=N("CodeMirror-linewidget"),i=t.node.firstChild,a=void 0;i;i=a)a=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);li(e,t,r)}function si(e,t,r,n){var i=Oi(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),ji(e,t),Rr(e,t,r,n),li(e,t,n),t.node}function li(e,t,r){if(ui(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)ui(e,t.rest[n],t,r,!1)}function ui(e,t,r,n,i){if(t.widgets)for(var a=Kr(r),b=0,C=t.widgets;b<C.length;++b){var M=C[b],T=R("div",[M.node],"CodeMirror-linewidget"+(M.className?" "+M.className:""));M.handleMouseEvents||T.setAttribute("cm-ignore-events","true"),Po(M,T,r,n),e.display.input.setUneditable(T),i&&M.above?a.insertBefore(T,r.gutter||r.text):a.appendChild(T),Hn(M,"redraw")}}function Po(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Tr(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!le(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),Z(t.display.measure,R("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function or(e,t){for(var r=Yn(t);r!=e.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return!0}function $r(e){return e.lineSpace.offsetTop}function Jr(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ci(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Z(e.measure,R("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function pr(e){return 50-e.display.nativeBarWidth}function vr(e){return e.display.scroller.clientWidth-pr(e)-e.display.barWidth}function Si(e){return e.display.scroller.clientHeight-pr(e)-e.display.barHeight}function fi(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(Q(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Fr(e,t,r,n){return jn(e,zr(e,t),r,n)}function Ci(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[_t(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function zr(e,t){var r=Q(t),n=Ci(e,r);n&&!n.text?n=null:n&&n.changes&&(Ki(e,n,r,yr(e)),e.curOp.forceUpdate=!0),n||(n=function(a,b){var C=Q(b=Tt(b)),M=a.display.externalMeasured=new Yi(a.doc,b,C);M.lineN=C;var T=M.built=xi(a,M);return M.text=T.pre,Z(a.display.lineMeasure,T.pre),M}(e,t));var i=fi(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function jn(e,t,r,n,i){t.before&&(r=-1);var a,b=r+(n||"");return t.cache.hasOwnProperty(b)?a=t.cache[b]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(C,M,T){var K=C.options.lineWrapping,G=K&&vr(C);if(!M.measure.heights||K&&M.measure.width!=G){var ae=M.measure.heights=[];if(K){M.measure.width=G;for(var re=M.text.firstChild.getClientRects(),ve=0;ve<re.length-1;ve++){var we=re[ve],fe=re[ve+1];Math.abs(we.bottom-fe.bottom)>2&&ae.push((we.bottom+fe.top)/2-T.top)}}ae.push(T.bottom-T.top)}}(e,t.view,t.rect),t.hasHeights=!0),(a=function(C,M,T,K){var G,ae=di(M.map,T,K),re=ae.node,ve=ae.start,we=ae.end,fe=ae.collapse;if(re.nodeType==3){for(var Se=0;Se<4;Se++){for(;ve&&Me(M.line.text.charAt(ae.coverStart+ve));)--ve;for(;ae.coverStart+we<ae.coverEnd&&Me(M.line.text.charAt(ae.coverStart+we));)++we;if((G=m&&x<9&&ve==0&&we==ae.coverEnd-ae.coverStart?re.parentNode.getBoundingClientRect():Xi(ne(re,ve,we).getClientRects(),K)).left||G.right||ve==0)break;we=ve,ve-=1,fe="right"}m&&x<11&&(G=function(On,en){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!function(Ut){if(qr!=null)return qr;var fn=Z(Ut,R("span","x")),Kt=fn.getBoundingClientRect(),nn=ne(fn,0,1).getBoundingClientRect();return qr=Math.abs(Kt.left-nn.left)>1}(On))return en;var ln=screen.logicalXDPI/screen.deviceXDPI,tn=screen.logicalYDPI/screen.deviceYDPI;return{left:en.left*ln,right:en.right*ln,top:en.top*tn,bottom:en.bottom*tn}}(C.display.measure,G))}else{var Be;ve>0&&(fe=K="right"),G=C.options.lineWrapping&&(Be=re.getClientRects()).length>1?Be[K=="right"?Be.length-1:0]:re.getBoundingClientRect()}if(m&&x<9&&!ve&&(!G||!G.left&&!G.right)){var Ne=re.parentNode.getClientRects()[0];G=Ne?{left:Ne.left,right:Ne.left+In(C.display),top:Ne.top,bottom:Ne.bottom}:Ji}for(var Xe=G.top-M.rect.top,Ve=G.bottom-M.rect.top,Ge=(Xe+Ve)/2,Ct=M.view.measure.heights,gt=0;gt<Ct.length-1&&!(Ge<Ct[gt]);gt++);var on=gt?Ct[gt-1]:0,Lt=Ct[gt],Yt={left:(fe=="right"?G.right:G.left)-M.rect.left,right:(fe=="left"?G.left:G.right)-M.rect.left,top:on,bottom:Lt};return G.left||G.right||(Yt.bogus=!0),C.options.singleCursorHeightPerLine||(Yt.rtop=Xe,Yt.rbottom=Ve),Yt}(e,t,r,n)).bogus||(t.cache[b]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}var Er,Ji={left:0,right:0,top:0,bottom:0};function di(e,t,r){for(var n,i,a,b,C,M,T=0;T<e.length;T+=3)if(C=e[T],M=e[T+1],t<C?(i=0,a=1,b="left"):t<M?a=(i=t-C)+1:(T==e.length-3||t==M&&e[T+3]>t)&&(i=(a=M-C)-1,t>=M&&(b="right")),i!=null){if(n=e[T+2],C==M&&r==(n.insertLeft?"left":"right")&&(b=r),r=="left"&&i==0)for(;T&&e[T-2]==e[T-3]&&e[T-1].insertLeft;)n=e[2+(T-=3)],b="left";if(r=="right"&&i==M-C)for(;T<e.length-3&&e[T+3]==e[T+4]&&!e[T+5].insertLeft;)n=e[(T+=3)+2],b="right";break}return{node:n,start:i,end:a,collapse:b,coverStart:C,coverEnd:M}}function Xi(e,t){var r=Ji;if(t=="left")for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function pi(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Qi(e){e.display.externalMeasure=null,ee(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)pi(e.display.view[t])}function Xr(e){Qi(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function eo(){return g&&E?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function to(){return g&&E?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Pi(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Tr(e.widgets[r]));return t}function Qr(e,t,r,n,i){if(!i){var a=Pi(t);r.top+=a,r.bottom+=a}if(n=="line")return r;n||(n="local");var b=Ft(t);if(n=="local"?b+=$r(e.display):b-=e.display.viewOffset,n=="page"||n=="window"){var C=e.display.lineSpace.getBoundingClientRect();b+=C.top+(n=="window"?0:to());var M=C.left+(n=="window"?0:eo());r.left+=M,r.right+=M}return r.top+=b,r.bottom+=b,r}function _o(e,t,r){if(r=="div")return t;var n=t.left,i=t.top;if(r=="page")n-=eo(),i-=to();else if(r=="local"||!r){var a=e.display.sizer.getBoundingClientRect();n+=a.left,i+=a.top}var b=e.display.lineSpace.getBoundingClientRect();return{left:n-b.left,top:i-b.top}}function hi(e,t,r,n,i){return n||(n=vt(e.doc,t.line)),Qr(e,n,Fr(e,n,t.ch,i),r)}function ar(e,t,r,n,i,a){function b(ve,we){var fe=jn(e,i,ve,we?"right":"left",a);return we?fe.left=fe.right:fe.right=fe.left,Qr(e,n,fe,r)}n=n||vt(e.doc,t.line),i||(i=zr(e,n));var C=nt(n,e.doc.direction),M=t.ch,T=t.sticky;if(M>=n.text.length?(M=n.text.length,T="before"):M<=0&&(M=0,T="after"),!C)return b(T=="before"?M-1:M,T=="before");function K(ve,we,fe){return b(fe?ve-1:ve,C[we].level==1!=fe)}var G=U(C,M,T),ae=J,re=K(M,G,T=="before");return ae!=null&&(re.other=K(M,ae,T!="before")),re}function _n(e,t){var r=0;t=Te(e.doc,t),e.options.lineWrapping||(r=In(e.display)*t.ch);var n=vt(e.doc,t.line),i=Ft(n)+$r(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function et(e,t,r,n,i){var a=o(e,t,r);return a.xRel=i,n&&(a.outside=n),a}function At(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return et(n.first,0,null,-1,-1);var i=tt(n,r),a=n.first+n.size-1;if(i>a)return et(n.first+n.size-1,vt(n,a).text.length,null,1,1);t<0&&(t=0);for(var b=vt(n,i);;){var C=Sn(e,b,i,t,r),M=vn(b,C.ch+(C.xRel>0||C.outside>0?1:0));if(!M)return C;var T=M.find(1);if(T.line==i)return T;b=vt(n,i=T.line)}}function Rt(e,t,r,n){n-=Pi(t);var i=t.text.length,a=q(function(b){return jn(e,r,b-1).bottom<=n},i,0);return{begin:a,end:i=q(function(b){return jn(e,r,b).top>n},a,i)}}function Zt(e,t,r,n){return r||(r=zr(e,t)),Rt(e,t,r,Qr(e,t,jn(e,r,n),"line").top)}function De(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Sn(e,t,r,n,i){i-=Ft(t);var a=zr(e,t),b=Pi(t),C=0,M=t.text.length,T=!0,K=nt(t,e.doc.direction);if(K){var G=(e.options.lineWrapping?jr:ze)(e,t,r,a,K,n,i);C=(T=G.level!=1)?G.from:G.to-1,M=T?G.to:G.from-1}var ae,re,ve=null,we=null,fe=q(function(Ve){var Ge=jn(e,a,Ve);return Ge.top+=b,Ge.bottom+=b,!!De(Ge,n,i,!1)&&(Ge.top<=i&&Ge.left<=n&&(ve=Ve,we=Ge),!0)},C,M),Se=!1;if(we){var Be=n-we.left<we.right-n,Ne=Be==T;fe=ve+(Ne?0:1),re=Ne?"after":"before",ae=Be?we.left:we.right}else{T||fe!=M&&fe!=C||fe++,re=fe==0?"after":fe==t.text.length?"before":jn(e,a,fe-(T?1:0)).bottom+b<=i==T?"after":"before";var Xe=ar(e,o(r,fe,re),"line",t,a);ae=Xe.left,Se=i<Xe.top?-1:i>=Xe.bottom?1:0}return et(r,fe=ge(t.text,fe,1),re,Se,n-ae)}function ze(e,t,r,n,i,a,b){var C=q(function(G){var ae=i[G],re=ae.level!=1;return De(ar(e,o(r,re?ae.to:ae.from,re?"before":"after"),"line",t,n),a,b,!0)},0,i.length-1),M=i[C];if(C>0){var T=M.level!=1,K=ar(e,o(r,T?M.from:M.to,T?"after":"before"),"line",t,n);De(K,a,b,!0)&&K.top>b&&(M=i[C-1])}return M}function jr(e,t,r,n,i,a,b){var C=Rt(e,t,n,b),M=C.begin,T=C.end;/\s/.test(t.text.charAt(T-1))&&T--;for(var K=null,G=null,ae=0;ae<i.length;ae++){var re=i[ae];if(!(re.from>=T||re.to<=M)){var ve=jn(e,n,re.level!=1?Math.min(T,re.to)-1:Math.max(M,re.from)).right,we=ve<a?a-ve+1e9:ve-a;(!K||G>we)&&(K=re,G=we)}}return K||(K=i[i.length-1]),K.from<M&&(K={from:M,to:K.to,level:K.level}),K.to>T&&(K={from:K.from,to:T,level:K.level}),K}function sr(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Er==null){Er=R("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Er.appendChild(document.createTextNode("x")),Er.appendChild(R("br"));Er.appendChild(document.createTextNode("x"))}Z(e.measure,Er);var r=Er.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),ee(e.measure),r||1}function In(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=R("span","xxxxxxxxxx"),r=R("pre",[t],"CodeMirror-line-like");Z(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function yr(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,a=t.gutters.firstChild,b=0;a;a=a.nextSibling,++b){var C=e.display.gutterSpecs[b].className;r[C]=a.offsetLeft+a.clientLeft+i,n[C]=a.clientWidth}return{fixedPos:An(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function An(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function En(e){var t=sr(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/In(e.display)-3);return function(i){if(Gt(e.doc,i))return 0;var a=0;if(i.widgets)for(var b=0;b<i.widgets.length;b++)i.widgets[b].height&&(a+=i.widgets[b].height);return r?a+(Math.ceil(i.text.length/n)||1)*t:a+t}}function Sr(e){var t=e.doc,r=En(e);t.iter(function(n){var i=r(n);i!=n.height&&B(n,i)})}function lr(e,t,r,n){var i=e.display;if(!r&&Yn(t).getAttribute("cm-not-content")=="true")return null;var a,b,C=i.lineSpace.getBoundingClientRect();try{a=t.clientX-C.left,b=t.clientY-C.top}catch(G){return null}var M,T=At(e,a,b);if(n&&T.xRel>0&&(M=vt(e.doc,T.line).text).length==T.ch){var K=Pe(M,M.length,e.options.tabSize)-M.length;T=o(T.line,Math.max(0,Math.round((a-ci(e.display).left)/In(e.display))-K))}return T}function _t(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function Et(e,t,r,n){t==null&&(t=e.doc.first),r==null&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)ht&&It(e.doc,t)<i.viewTo&&ct(e);else if(r<=i.viewFrom)ht&&$t(e.doc,r+n)>i.viewFrom?ct(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)ct(e);else if(t<=i.viewFrom){var a=Bt(e,r,r+n,1);a?(i.view=i.view.slice(a.index),i.viewFrom=a.lineN,i.viewTo+=n):ct(e)}else if(r>=i.viewTo){var b=Bt(e,t,t,-1);b?(i.view=i.view.slice(0,b.index),i.viewTo=b.lineN):ct(e)}else{var C=Bt(e,t,t,-1),M=Bt(e,r,r+n,1);C&&M?(i.view=i.view.slice(0,C.index).concat(Nt(e,C.lineN,M.lineN)).concat(i.view.slice(M.index)),i.viewTo+=n):ct(e)}var T=i.externalMeasured;T&&(r<T.lineN?T.lineN+=n:t<T.lineN+T.size&&(i.externalMeasured=null))}function Qt(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var a=n.view[_t(e,t)];if(a.node!=null){var b=a.changes||(a.changes=[]);oe(b,r)==-1&&b.push(r)}}}function ct(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Bt(e,t,r,n){var i,a=_t(e,t),b=e.display.view;if(!ht||r==e.doc.first+e.doc.size)return{index:a,lineN:r};for(var C=e.display.viewFrom,M=0;M<a;M++)C+=b[M].size;if(C!=t){if(n>0){if(a==b.length-1)return null;i=C+b[a].size-t,a++}else i=C-t;t+=i,r+=i}for(;It(e.doc,r)!=r;){if(a==(n<0?0:b.length-1))return null;r+=n*b[a-(n<0?1:0)].size,a+=n}return{index:a,lineN:r}}function Wn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Bn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Vn(e,t){t===void 0&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),b=0;b<r.sel.ranges.length;b++)if(t||b!=r.sel.primIndex){var C=r.sel.ranges[b];if(!(C.from().line>=e.display.viewTo||C.to().line<e.display.viewFrom)){var M=C.empty();(M||e.options.showCursorWhenSelecting)&&Lr(e,C.head,i),M||Ai(e,C,a)}}return n}function Lr(e,t,r){var n=ar(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(R("div","\xA0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var a=r.appendChild(R("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=n.other.left+"px",a.style.top=n.other.top+"px",a.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function _i(e,t){return e.top-t.top||e.left-t.left}function Ai(e,t,r){var n=e.display,i=e.doc,a=document.createDocumentFragment(),b=ci(e.display),C=b.left,M=Math.max(n.sizerWidth,vr(e)-n.sizer.offsetLeft)-b.right,T=i.direction=="ltr";function K(Ne,Xe,Ve,Ge){Xe<0&&(Xe=0),Xe=Math.round(Xe),Ge=Math.round(Ge),a.appendChild(R("div",null,"CodeMirror-selected","position: absolute; left: "+Ne+`px;
                             top: `+Xe+"px; width: "+(Ve??M-Ne)+`px;
                             height: `+(Ge-Xe)+"px"))}function G(Ne,Xe,Ve){var Ge,Ct,gt=vt(i,Ne),on=gt.text.length;function Lt(en,ln){return hi(e,o(Ne,en),"div",gt,ln)}function Yt(en,ln,tn){var Ut=Zt(e,gt,null,en),fn=ln=="ltr"==(tn=="after")?"left":"right";return Lt(tn=="after"?Ut.begin:Ut.end-(/\s/.test(gt.text.charAt(Ut.end-1))?2:1),fn)[fn]}var On=nt(gt,i.direction);return function(en,ln,tn,Ut){if(!en)return Ut(ln,tn,"ltr",0);for(var fn=!1,Kt=0;Kt<en.length;++Kt){var nn=en[Kt];(nn.from<tn&&nn.to>ln||ln==tn&&nn.to==ln)&&(Ut(Math.max(nn.from,ln),Math.min(nn.to,tn),nn.level==1?"rtl":"ltr",Kt),fn=!0)}fn||Ut(ln,tn,"ltr")}(On,Xe||0,Ve??on,function(en,ln,tn,Ut){var fn=tn=="ltr",Kt=Lt(en,fn?"left":"right"),nn=Lt(ln-1,fn?"right":"left"),zt=Xe==null&&en==0,pn=Ve==null&&ln==on,Nn=Ut==0,Mn=!On||Ut==On.length-1;if(nn.top-Kt.top<=3){var Jn=(T?pn:zt)&&Mn,er=(T?zt:pn)&&Nn?C:(fn?Kt:nn).left,kn=Jn?M:(fn?nn:Kt).right;K(er,Kt.top,kn-er,Kt.bottom)}else{var tr,nr,mr,Nr;fn?(tr=T&&zt&&Nn?C:Kt.left,nr=T?M:Yt(en,tn,"before"),mr=T?C:Yt(ln,tn,"after"),Nr=T&&pn&&Mn?M:nn.right):(tr=T?Yt(en,tn,"before"):C,nr=!T&&zt&&Nn?M:Kt.right,mr=!T&&pn&&Mn?C:nn.left,Nr=T?Yt(ln,tn,"after"):M),K(tr,Kt.top,nr-tr,Kt.bottom),Kt.bottom<nn.top&&K(C,Kt.bottom,null,nn.top),K(mr,nn.top,Nr-mr,nn.bottom)}(!Ge||_i(Kt,Ge)<0)&&(Ge=Kt),_i(nn,Ge)<0&&(Ge=nn),(!Ct||_i(Kt,Ct)<0)&&(Ct=Kt),_i(nn,Ct)<0&&(Ct=nn)}),{start:Ge,end:Ct}}var ae=t.from(),re=t.to();if(ae.line==re.line)G(ae.line,ae.ch,re.ch);else{var ve=vt(i,ae.line),we=vt(i,re.line),fe=Tt(ve)==Tt(we),Se=G(ae.line,ae.ch,fe?ve.text.length+1:null).end,Be=G(re.line,fe?0:null,re.ch).start;fe&&(Se.top<Be.top-2?(K(Se.right,Se.top,null,Se.bottom),K(C,Be.top,Be.left,Be.bottom)):K(Se.right,Se.top,Be.left-Se.right,Se.bottom)),Se.bottom<Be.top&&K(C,Se.bottom,null,Be.top)}r.appendChild(a)}function Zo(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Mi(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function ka(e){e.state.focused||(e.display.input.focus(),Yo(e))}function Oa(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Mi(e))},100)}function Yo(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(lt(e,"focus",e,t),e.state.focused=!0,Ce(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),f&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Zo(e))}function Mi(e,t){e.state.delayingBlurEvent||(e.state.focused&&(lt(e,"blur",e,t),e.state.focused=!1,Y(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Ao(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],a=e.options.lineWrapping,b=void 0,C=0;if(!i.hidden){if(m&&x<8){var M=i.node.offsetTop+i.node.offsetHeight;b=M-r,r=M}else{var T=i.node.getBoundingClientRect();b=T.bottom-T.top,!a&&i.text.firstChild&&(C=i.text.firstChild.getBoundingClientRect().right-T.left-1)}var K=i.line.height-b;if((K>.005||K<-.005)&&(B(i.line,b),ja(i.line),i.rest))for(var G=0;G<i.rest.length;G++)ja(i.rest[G]);if(C>e.display.sizerWidth){var ae=Math.ceil(C/In(e.display));ae>e.display.maxLineLength&&(e.display.maxLineLength=ae,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function ja(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function Mo(e,t,r){var n=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-$r(e));var i=r&&r.bottom!=null?r.bottom:n+e.wrapper.clientHeight,a=tt(t,n),b=tt(t,i);if(r&&r.ensure){var C=r.ensure.from.line,M=r.ensure.to.line;C<a?(a=C,b=tt(t,Ft(vt(t,C))+e.wrapper.clientHeight)):Math.min(M,t.lastLine())>=b&&(a=tt(t,Ft(vt(t,M))-e.wrapper.clientHeight),b=M)}return{from:a,to:Math.max(b,a+1)}}function Ko(e,t){var r=e.display,n=sr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:r.scroller.scrollTop,a=Si(e),b={};t.bottom-t.top>a&&(t.bottom=t.top+a);var C=e.doc.height+Jr(r),M=t.top<n,T=t.bottom>C-n;if(t.top<i)b.scrollTop=M?0:t.top;else if(t.bottom>i+a){var K=Math.min(t.top,(T?C:t.bottom)-a);K!=i&&(b.scrollTop=K)}var G=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:r.scroller.scrollLeft,ae=vr(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),re=t.right-t.left>ae;return re&&(t.right=t.left+ae),t.left<10?b.scrollLeft=0:t.left<G?b.scrollLeft=Math.max(0,t.left-(re?0:10)):t.right>ae+G-3&&(b.scrollLeft=t.right+(re?0:10)-ae),b}function Jo(e,t){t!=null&&(To(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ti(e){To(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function no(e,t,r){t==null&&r==null||To(e),t!=null&&(e.curOp.scrollLeft=t),r!=null&&(e.curOp.scrollTop=r)}function To(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Sa(e,_n(e,t.from),_n(e,t.to),t.margin))}function Sa(e,t,r,n){var i=Ko(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});no(e,i.scrollLeft,i.scrollTop)}function ro(e,t){Math.abs(e.doc.scrollTop-t)<2||(u||Qo(e,{top:t}),Ca(e,t,!0),u&&Qo(e),ao(e,100))}function Ca(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function gi(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Ta(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function io(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Jr(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+pr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var mi=function(e,t,r){this.cm=r;var n=this.vert=R("div",[R("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=R("div",[R("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),Le(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Le(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,m&&x<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};mi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},mi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},mi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},mi.prototype.zeroWidthHack=function(){var e=W&&!c?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ke,this.disableVert=new Ke},mi.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,function n(){var i=e.getBoundingClientRect();(r=="vert"?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)})},mi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var oo=function(){};function Ei(e,t){t||(t=io(e));var r=e.display.barWidth,n=e.display.barHeight;Pa(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Ao(e),Pa(e,io(e)),r=e.display.barWidth,n=e.display.barHeight}function Pa(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}oo.prototype.update=function(){return{bottom:0,right:0}},oo.prototype.setScrollLeft=function(){},oo.prototype.setScrollTop=function(){},oo.prototype.clear=function(){};var _a={native:mi,null:oo};function Aa(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Y(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new _a[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Le(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){r=="horizontal"?gi(e,t):ro(e,t)},e),e.display.scrollbars.addClass&&Ce(e.display.wrapper,e.display.scrollbars.addClass)}var Zs=0;function vi(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Zs},t=e.curOp,Ir?Ir.ops.push(t):t.ownsGroup=Ir={ops:[t],delayedCallbacks:[]}}function yi(e){var t=e.curOp;t&&function(r,n){var i=r.ownsGroup;if(i)try{!function(a){var b=a.delayedCallbacks,C=0;do{for(;C<b.length;C++)b[C].call(null);for(var M=0;M<a.ops.length;M++){var T=a.ops[M];if(T.cursorActivityHandlers)for(;T.cursorActivityCalled<T.cursorActivityHandlers.length;)T.cursorActivityHandlers[T.cursorActivityCalled++].call(null,T.cm)}}while(C<b.length)}(i)}finally{Ir=null,n(i)}}(t,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;!function(i){for(var a=i.ops,b=0;b<a.length;b++)Ys(a[b]);for(var C=0;C<a.length;C++)Ks(a[C]);for(var M=0;M<a.length;M++)Js(a[M]);for(var T=0;T<a.length;T++)Xs(a[T]);for(var K=0;K<a.length;K++)Qs(a[K])}(r)})}function Ys(e){var t=e.cm,r=t.display;!function(n){var i=n.display;!i.scrollbarsClipped&&i.scroller.offsetWidth&&(i.nativeBarWidth=i.scroller.offsetWidth-i.scroller.clientWidth,i.heightForcer.style.height=pr(n)+"px",i.sizer.style.marginBottom=-i.nativeBarWidth+"px",i.sizer.style.borderRightWidth=pr(n)+"px",i.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Xt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Eo(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ks(e){e.updatedDisplay=e.mustUpdate&&Xo(e.cm,e.update)}function Js(e){var t=e.cm,r=t.display;e.updatedDisplay&&Ao(t),e.barMeasure=io(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Fr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+pr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-vr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Xs(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&gi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==ue();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Ei(t,e.barMeasure),e.updatedDisplay&&ta(t,e.barMeasure),e.selectionChanged&&Zo(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&ka(e.cm)}function Qs(e){var t=e.cm,r=t.display,n=t.doc;(e.updatedDisplay&&Ma(t,e.update),r.wheelStartX==null||e.scrollTop==null&&e.scrollLeft==null&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),e.scrollTop!=null&&Ca(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&gi(t,e.scrollLeft,!0,!0),e.scrollToPos)&&function(M,T){if(!Dt(M,"scrollCursorIntoView")){var K=M.display,G=K.sizer.getBoundingClientRect(),ae=null;if(T.top+G.top<0?ae=!0:T.bottom+G.top>(window.innerHeight||document.documentElement.clientHeight)&&(ae=!1),ae!=null&&!v){var re=R("div","\u200B",null,`position: absolute;
                         top: `+(T.top-K.viewOffset-$r(M.display))+`px;
                         height: `+(T.bottom-T.top+pr(M)+K.barHeight)+`px;
                         left: `+T.left+"px; width: "+Math.max(2,T.right-T.left)+"px;");M.display.lineSpace.appendChild(re),re.scrollIntoView(ae),M.display.lineSpace.removeChild(re)}}}(t,function(M,T,K,G){var ae;G==null&&(G=0),M.options.lineWrapping||T!=K||(K=(T=T.ch?o(T.line,T.sticky=="before"?T.ch-1:T.ch,"after"):T).sticky=="before"?o(T.line,T.ch+1,"before"):T);for(var re=0;re<5;re++){var ve=!1,we=ar(M,T),fe=K&&K!=T?ar(M,K):we,Se=Ko(M,ae={left:Math.min(we.left,fe.left),top:Math.min(we.top,fe.top)-G,right:Math.max(we.left,fe.left),bottom:Math.max(we.bottom,fe.bottom)+G}),Be=M.doc.scrollTop,Ne=M.doc.scrollLeft;if(Se.scrollTop!=null&&(ro(M,Se.scrollTop),Math.abs(M.doc.scrollTop-Be)>1&&(ve=!0)),Se.scrollLeft!=null&&(gi(M,Se.scrollLeft),Math.abs(M.doc.scrollLeft-Ne)>1&&(ve=!0)),!ve)break}return ae}(t,Te(n,e.scrollToPos.from),Te(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(i)for(var b=0;b<i.length;++b)i[b].lines.length||lt(i[b],"hide");if(a)for(var C=0;C<a.length;++C)a[C].lines.length&&lt(a[C],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&lt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function ur(e,t){if(e.curOp)return t();vi(e);try{return t()}finally{yi(e)}}function Gn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);vi(e);try{return t.apply(e,arguments)}finally{yi(e)}}}function Xn(e){return function(){if(this.curOp)return e.apply(this,arguments);vi(this);try{return e.apply(this,arguments)}finally{yi(this)}}}function Zn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);vi(t);try{return e.apply(this,arguments)}finally{yi(t)}}}function ao(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,se(el,e))}function el(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=We(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(a){if(n.line>=e.display.viewFrom){var b=a.styles,C=a.text.length>e.options.maxHighlightLength?dr(t.mode,n.state):null,M=Ie(e,a,n,!0);C&&(n.state=C),a.styles=M.styles;var T=a.styleClasses,K=M.classes;K?a.styleClasses=K:T&&(a.styleClasses=null);for(var G=!b||b.length!=a.styles.length||T!=K&&(!T||!K||T.bgClass!=K.bgClass||T.textClass!=K.textClass),ae=0;!G&&ae<b.length;++ae)G=b[ae]!=a.styles[ae];G&&i.push(n.line),a.stateAfter=n.save(),n.nextLine()}else a.text.length<=e.options.maxHighlightLength&&Ye(e,a.text,n),a.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ao(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&ur(e,function(){for(var a=0;a<i.length;a++)Qt(e,i[a],"text")})}}var Eo=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Mo(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=vr(e),this.force=r,this.dims=yr(e),this.events=[]};function Xo(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return ct(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&Wn(e)==0)return!1;Ea(e)&&(ct(e),t.dims=yr(e));var i=n.first+n.size,a=Math.max(t.visible.from-e.options.viewportMargin,n.first),b=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(n.first,r.viewFrom)),r.viewTo>b&&r.viewTo-b<20&&(b=Math.min(i,r.viewTo)),ht&&(a=It(e.doc,a),b=$t(e.doc,b));var C=a!=r.viewFrom||b!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;!function(K,G,ae){var re=K.display;re.view.length==0||G>=re.viewTo||ae<=re.viewFrom?(re.view=Nt(K,G,ae),re.viewFrom=G):(re.viewFrom>G?re.view=Nt(K,G,re.viewFrom).concat(re.view):re.viewFrom<G&&(re.view=re.view.slice(_t(K,G))),re.viewFrom=G,re.viewTo<ae?re.view=re.view.concat(Nt(K,re.viewTo,ae)):re.viewTo>ae&&(re.view=re.view.slice(0,_t(K,ae)))),re.viewTo=ae}(e,a,b),r.viewOffset=Ft(vt(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var M=Wn(e);if(!C&&M==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;var T=function(K){if(K.hasFocus())return null;var G=ue();if(!G||!le(K.display.lineDiv,G))return null;var ae={activeElt:G};if(window.getSelection){var re=window.getSelection();re.anchorNode&&re.extend&&le(K.display.lineDiv,re.anchorNode)&&(ae.anchorNode=re.anchorNode,ae.anchorOffset=re.anchorOffset,ae.focusNode=re.focusNode,ae.focusOffset=re.focusOffset)}return ae}(e);return M>4&&(r.lineDiv.style.display="none"),function(K,G,ae){var re=K.display,ve=K.options.lineNumbers,we=re.lineDiv,fe=we.firstChild;function Se(gt){var on=gt.nextSibling;return f&&W&&K.display.currentWheelTarget==gt?gt.style.display="none":gt.parentNode.removeChild(gt),on}for(var Be=re.view,Ne=re.viewFrom,Xe=0;Xe<Be.length;Xe++){var Ve=Be[Xe];if(!Ve.hidden)if(Ve.node&&Ve.node.parentNode==we){for(;fe!=Ve.node;)fe=Se(fe);var Ge=ve&&G!=null&&G<=Ne&&Ve.lineNumber;Ve.changes&&(oe(Ve.changes,"gutter")>-1&&(Ge=!1),Ki(K,Ve,Ne,ae)),Ge&&(ee(Ve.lineNumber),Ve.lineNumber.appendChild(document.createTextNode(s(K.options,Ne)))),fe=Ve.node.nextSibling}else{var Ct=si(K,Ve,Ne,ae);we.insertBefore(Ct,fe)}Ne+=Ve.size}for(;fe;)fe=Se(fe)}(e,r.updateLineNumbers,t.dims),M>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(K){if(K&&K.activeElt&&K.activeElt!=ue()&&(K.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(K.activeElt.nodeName)&&K.anchorNode&&le(document.body,K.anchorNode)&&le(document.body,K.focusNode))){var G=window.getSelection(),ae=document.createRange();ae.setEnd(K.anchorNode,K.anchorOffset),ae.collapse(!1),G.removeAllRanges(),G.addRange(ae),G.extend(K.focusNode,K.focusOffset)}}(T),ee(r.cursorDiv),ee(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,C&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,ao(e,400)),r.updateLineNumbers=null,!0}function Ma(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=vr(e))n&&(t.visible=Mo(e.display,e.doc,r));else if(r&&r.top!=null&&(r={top:Math.min(e.doc.height+Jr(e.display)-Si(e),r.top)}),t.visible=Mo(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Xo(e,t))break;Ao(e);var i=io(e);Bn(e),Ei(e,i),ta(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Qo(e,t){var r=new Eo(e,t);if(Xo(e,r)){Ao(e),Ma(e,r);var n=io(e);Bn(e),Ei(e,n),ta(e,n),r.finish()}}function ea(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function ta(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+pr(e)+"px"}function Ta(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=An(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=n+"px",b=0;b<r.length;b++)if(!r[b].hidden){e.options.fixedGutter&&(r[b].gutter&&(r[b].gutter.style.left=a),r[b].gutterBackground&&(r[b].gutterBackground.style.left=a));var C=r[b].alignable;if(C)for(var M=0;M<C.length;M++)C[M].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Ea(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=s(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(R("div",[R("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=i.firstChild.offsetWidth,b=i.offsetWidth-a;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(a,n.lineGutter.offsetWidth-b)+1,n.lineNumWidth=n.lineNumInnerWidth+b,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ea(e.display),!0}return!1}function na(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var a=e[i],b=null;if(typeof a!="string"&&(b=a.style,a=a.className),a=="CodeMirror-linenumbers"){if(!t)continue;n=!0}r.push({className:a,style:b})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function La(e){var t=e.gutters,r=e.gutterSpecs;ee(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],a=i.className,b=i.style,C=t.appendChild(R("div",null,"CodeMirror-gutter "+a));b&&(C.style.cssText=b),a=="CodeMirror-linenumbers"&&(e.lineGutter=C,C.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",ea(e)}function so(e){La(e.display),Et(e),Ta(e)}function tl(e,t,r,n){var i=this;this.input=r,i.scrollbarFiller=R("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=R("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=X("div",null,"CodeMirror-code"),i.selectionDiv=R("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=R("div",null,"CodeMirror-cursors"),i.measure=R("div",null,"CodeMirror-measure"),i.lineMeasure=R("div",null,"CodeMirror-measure"),i.lineSpace=X("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var a=X("div",[i.lineSpace],"CodeMirror-lines");i.mover=R("div",[a],null,"position: relative"),i.sizer=R("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=R("div",null,null,"position: absolute; height: 50px; width: 1px;"),i.gutters=R("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=R("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=R("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),m&&x<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),f||u&&L||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=na(n.gutters,n.lineNumbers),La(i),r.init(i)}Eo.prototype.signal=function(e,t){wn(e,t)&&this.events.push(arguments)},Eo.prototype.finish=function(){for(var e=0;e<this.events.length;e++)lt.apply(null,this.events[e])};var Lo=0,hr=null;function Na(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),r==null&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:r==null&&(r=e.wheelDelta),{x:t,y:r}}function nl(e){var t=Na(e);return t.x*=hr,t.y*=hr,t}function Da(e,t){var r=Na(t),n=r.x,i=r.y,a=e.display,b=a.scroller,C=b.scrollWidth>b.clientWidth,M=b.scrollHeight>b.clientHeight;if(n&&C||i&&M){if(i&&W&&f)e:for(var T=t.target,K=a.view;T!=b;T=T.parentNode)for(var G=0;G<K.length;G++)if(K[G].node==T){e.display.currentWheelTarget=T;break e}if(n&&!u&&!d&&hr!=null)return i&&M&&ro(e,Math.max(0,b.scrollTop+i*hr)),gi(e,Math.max(0,b.scrollLeft+n*hr)),(!i||i&&M)&&Cn(t),void(a.wheelStartX=null);if(i&&hr!=null){var ae=i*hr,re=e.doc.scrollTop,ve=re+a.wrapper.clientHeight;ae<0?re=Math.max(0,re+ae-50):ve=Math.min(e.doc.height,ve+ae+50),Qo(e,{top:re,bottom:ve})}Lo<20&&(a.wheelStartX==null?(a.wheelStartX=b.scrollLeft,a.wheelStartY=b.scrollTop,a.wheelDX=n,a.wheelDY=i,setTimeout(function(){if(a.wheelStartX!=null){var we=b.scrollLeft-a.wheelStartX,fe=b.scrollTop-a.wheelStartY,Se=fe&&a.wheelDY&&fe/a.wheelDY||we&&a.wheelDX&&we/a.wheelDX;a.wheelStartX=a.wheelStartY=null,Se&&(hr=(hr*Lo+Se)/(Lo+1),++Lo)}},200)):(a.wheelDX+=n,a.wheelDY+=i))}}m?hr=-.53:u?hr=15:g?hr=-.7:l&&(hr=-1/3);var gr=function(e,t){this.ranges=e,this.primIndex=t};gr.prototype.primary=function(){return this.ranges[this.primIndex]},gr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!he(r.anchor,n.anchor)||!he(r.head,n.head))return!1}return!0},gr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new mn(Ae(this.ranges[t].anchor),Ae(this.ranges[t].head));return new gr(e,this.primIndex)},gr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},gr.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if($(t,n.from())>=0&&$(e,n.to())<=0)return r}return-1};var mn=function(e,t){this.anchor=e,this.head=t};function Cr(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort(function(ae,re){return $(ae.from(),re.from())}),r=oe(t,i);for(var a=1;a<t.length;a++){var b=t[a],C=t[a-1],M=$(C.to(),b.from());if(n&&!b.empty()?M>0:M>=0){var T=Oe(C.from(),b.from()),K=xe(C.to(),b.to()),G=C.empty()?b.from()==b.head:C.from()==C.head;a<=r&&--r,t.splice(--a,2,new mn(G?K:T,G?T:K))}}return new gr(t,r)}function ei(e,t){return new gr([new mn(e,t||e)],0)}function ti(e){return e.text?o(e.from.line+e.text.length-1,ye(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function Ia(e,t){if($(e,t.from)<0)return e;if($(e,t.to)<=0)return ti(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=ti(t).ch-t.to.ch),o(r,n)}function ra(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new mn(Ia(i.anchor,t),Ia(i.head,t)))}return Cr(e.cm,r,e.sel.primIndex)}function Ra(e,t,r){return e.line==t.line?o(r.line,e.ch-t.ch+r.ch):o(r.line+(e.line-t.line),e.ch)}function ia(e){e.doc.mode=Ur(e.options,e.doc.modeOption),lo(e)}function lo(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ao(e,100),e.state.modeGen++,e.curOp&&Et(e)}function $a(e,t){return t.from.ch==0&&t.to.ch==0&&ye(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function oa(e,t,r,n){function i(Be){return r?r[Be]:null}function a(Be,Ne,Xe){!function(Ve,Ge,Ct,gt){Ve.text=Ge,Ve.stateAfter&&(Ve.stateAfter=null),Ve.styles&&(Ve.styles=null),Ve.order!=null&&(Ve.order=null),wi(Ve),Pn(Ve,Ct);var on=gt?gt(Ve):1;on!=Ve.height&&B(Ve,on)}(Be,Ne,Xe,n),Hn(Be,"change",Be,t)}function b(Be,Ne){for(var Xe=[],Ve=Be;Ve<Ne;++Ve)Xe.push(new qt(T[Ve],i(Ve),n));return Xe}var C=t.from,M=t.to,T=t.text,K=vt(e,C.line),G=vt(e,M.line),ae=ye(T),re=i(T.length-1),ve=M.line-C.line;if(t.full)e.insert(0,b(0,T.length)),e.remove(T.length,e.size-T.length);else if($a(e,t)){var we=b(0,T.length-1);a(G,G.text,re),ve&&e.remove(C.line,ve),we.length&&e.insert(C.line,we)}else if(K==G)if(T.length==1)a(K,K.text.slice(0,C.ch)+ae+K.text.slice(M.ch),re);else{var fe=b(1,T.length-1);fe.push(new qt(ae+K.text.slice(M.ch),re,n)),a(K,K.text.slice(0,C.ch)+T[0],i(0)),e.insert(C.line+1,fe)}else if(T.length==1)a(K,K.text.slice(0,C.ch)+T[0]+G.text.slice(M.ch),i(0)),e.remove(C.line+1,ve);else{a(K,K.text.slice(0,C.ch)+T[0],i(0)),a(G,ae+G.text.slice(M.ch),re);var Se=b(1,T.length-1);ve>1&&e.remove(C.line+1,ve-1),e.insert(C.line+1,Se)}Hn(e,"change",e,t)}function ni(e,t,r){!function n(i,a,b){if(i.linked)for(var C=0;C<i.linked.length;++C){var M=i.linked[C];if(M.doc!=a){var T=b&&M.sharedHist;r&&!T||(t(M.doc,T),n(M.doc,i,T))}}}(e,null,!0)}function Fa(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Sr(e),ia(e),za(e),e.options.lineWrapping||Xt(e),e.options.mode=t.modeOption,Et(e)}function za(e){(e.doc.direction=="rtl"?Ce:Y)(e.display.lineDiv,"CodeMirror-rtl")}function No(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function aa(e,t){var r={from:Ae(t.from),to:ti(t),text:kr(e,t.from,t.to)};return Ba(e,r,t.from.line,t.to.line+1),ni(e,function(n){return Ba(n,r,t.from.line,t.to.line+1)},!0),r}function Ha(e){for(;e.length&&ye(e).ranges;)e.pop()}function Wa(e,t,r,n){var i=e.history;i.undone.length=0;var a,b,C=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&i.lastModTime>C-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(a=function(T,K){return K?(Ha(T.done),ye(T.done)):T.done.length&&!ye(T.done).ranges?ye(T.done):T.done.length>1&&!T.done[T.done.length-2].ranges?(T.done.pop(),ye(T.done)):void 0}(i,i.lastOp==n)))b=ye(a.changes),$(t.from,t.to)==0&&$(t.from,b.to)==0?b.to=ti(t):a.changes.push(aa(e,t));else{var M=ye(i.done);for(M&&M.ranges||Do(e.sel,i.done),a={changes:[aa(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=C,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,b||lt(e,"historyAdded")}function rl(e,t,r,n){var i=e.history,a=n&&n.origin;r==i.lastSelOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||function(b,C,M,T){var K=C.charAt(0);return K=="*"||K=="+"&&M.ranges.length==T.ranges.length&&M.somethingSelected()==T.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:500)}(e,a,ye(i.done),t))?i.done[i.done.length-1]=t:Do(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastSelOp=r,n&&n.clearRedo!==!1&&Ha(i.undone)}function Do(e,t){var r=ye(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Ba(e,t,r,n){var i=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(b){b.markedSpans&&((i||(i=t["spans_"+e.id]={}))[a]=b.markedSpans),++a})}function il(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function qa(e,t){var r=function(K,G){var ae=G["spans_"+K.id];if(!ae)return null;for(var re=[],ve=0;ve<G.text.length;++ve)re.push(il(ae[ve]));return re}(e,t),n=xt(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var a=r[i],b=n[i];if(a&&b)e:for(var C=0;C<b.length;++C){for(var M=b[C],T=0;T<a.length;++T)if(a[T].marker==M.marker)continue e;a.push(M)}else b&&(r[i]=b)}return r}function Li(e,t,r){for(var n=[],i=0;i<e.length;++i){var a=e[i];if(a.ranges)n.push(r?gr.prototype.deepCopy.call(a):a);else{var b=a.changes,C=[];n.push({changes:C});for(var M=0;M<b.length;++M){var T=b[M],K=void 0;if(C.push({from:T.from,to:T.to,text:T.text}),t)for(var G in T)(K=G.match(/^spans_(\d+)$/))&&oe(t,Number(K[1]))>-1&&(ye(C)[G]=T[G],delete T[G])}}}return n}function sa(e,t,r,n){if(n){var i=e.anchor;if(r){var a=$(t,i)<0;a!=$(r,i)<0?(i=t,t=r):a!=$(t,r)<0&&(t=r)}return new mn(i,t)}return new mn(r||t,t)}function Io(e,t,r,n,i){i==null&&(i=e.cm&&(e.cm.display.shift||e.extend)),Kn(e,new gr([sa(e.sel.primary(),t,r,i)],0),n)}function Ua(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),a=0;a<e.sel.ranges.length;a++)n[a]=sa(e.sel.ranges[a],t[a],null,i);Kn(e,Cr(e.cm,n,e.sel.primIndex),r)}function la(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Kn(e,Cr(e.cm,i,e.sel.primIndex),n)}function Va(e,t,r,n){Kn(e,ei(t,r),n)}function Ga(e,t,r){var n=e.history.done,i=ye(n);i&&i.ranges?(n[n.length-1]=t,Ro(e,t,r)):Kn(e,t,r)}function Kn(e,t,r){Ro(e,t,r),rl(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Ro(e,t,r){(wn(e,"beforeSelectionChange")||e.cm&&wn(e.cm,"beforeSelectionChange"))&&(t=function(i,a,b){var C={ranges:a.ranges,update:function(M){this.ranges=[];for(var T=0;T<M.length;T++)this.ranges[T]=new mn(Te(i,M[T].anchor),Te(i,M[T].head))},origin:b&&b.origin};return lt(i,"beforeSelectionChange",i,C),i.cm&&lt(i.cm,"beforeSelectionChange",i.cm,C),C.ranges!=a.ranges?Cr(i.cm,C.ranges,C.ranges.length-1):a}(e,t,r));var n=r&&r.bias||($(t.primary().head,e.sel.primary().head)<0?-1:1);Za(e,Ka(e,t,n,!0)),r&&r.scroll===!1||!e.cm||Ti(e.cm)}function Za(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,$n(e.cm)),Hn(e,"cursorActivity",e))}function Ya(e){Za(e,Ka(e,e.sel,null,!1))}function Ka(e,t,r,n){for(var i,a=0;a<t.ranges.length;a++){var b=t.ranges[a],C=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[a],M=$o(e,b.anchor,C&&C.anchor,r,n),T=$o(e,b.head,C&&C.head,r,n);(i||M!=b.anchor||T!=b.head)&&(i||(i=t.ranges.slice(0,a)),i[a]=new mn(M,T))}return i?Cr(e.cm,i,t.primIndex):t}function Ni(e,t,r,n,i){var a=vt(e,t.line);if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var C=a.markedSpans[b],M=C.marker,T="selectLeft"in M?!M.selectLeft:M.inclusiveLeft,K="selectRight"in M?!M.selectRight:M.inclusiveRight;if((C.from==null||(T?C.from<=t.ch:C.from<t.ch))&&(C.to==null||(K?C.to>=t.ch:C.to>t.ch))){if(i&&(lt(M,"beforeCursorEnter"),M.explicitlyCleared)){if(a.markedSpans){--b;continue}break}if(!M.atomic)continue;if(r){var G=M.find(n<0?1:-1),ae=void 0;if((n<0?K:T)&&(G=Ja(e,G,-n,G&&G.line==t.line?a:null)),G&&G.line==t.line&&(ae=$(G,r))&&(n<0?ae<0:ae>0))return Ni(e,G,t,n,i)}var re=M.find(n<0?-1:1);return(n<0?T:K)&&(re=Ja(e,re,n,re.line==t.line?a:null)),re?Ni(e,re,t,n,i):null}}return t}function $o(e,t,r,n,i){var a=n||1,b=Ni(e,t,r,a,i)||!i&&Ni(e,t,r,a,!0)||Ni(e,t,r,-a,i)||!i&&Ni(e,t,r,-a,!0);return b||(e.cantEdit=!0,o(e.first,0))}function Ja(e,t,r,n){return r<0&&t.ch==0?t.line>e.first?Te(e,o(t.line-1)):null:r>0&&t.ch==(n||vt(e,t.line)).text.length?t.line<e.first+e.size-1?o(t.line+1,0):null:new o(t.line,t.ch+r)}function Xa(e){e.setSelection(o(e.firstLine(),0),o(e.lastLine()),_e)}function Qa(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(i,a,b,C){i&&(n.from=Te(e,i)),a&&(n.to=Te(e,a)),b&&(n.text=b),C!==void 0&&(n.origin=C)}),lt(e,"beforeChange",e,n),e.cm&&lt(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Di(e,t,r){if(e.cm){if(!e.cm.curOp)return Gn(e.cm,Di)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(wn(e,"beforeChange")||e.cm&&wn(e.cm,"beforeChange"))||(t=Qa(e,t,!0))){var n=yt&&!r&&function(a,b,C){var M=null;if(a.iter(b.line,C.line+1,function(Be){if(Be.markedSpans)for(var Ne=0;Ne<Be.markedSpans.length;++Ne){var Xe=Be.markedSpans[Ne].marker;!Xe.readOnly||M&&oe(M,Xe)!=-1||(M||(M=[])).push(Xe)}}),!M)return null;for(var T=[{from:b,to:C}],K=0;K<M.length;++K)for(var G=M[K],ae=G.find(0),re=0;re<T.length;++re){var ve=T[re];if(!($(ve.to,ae.from)<0||$(ve.from,ae.to)>0)){var we=[re,1],fe=$(ve.from,ae.from),Se=$(ve.to,ae.to);(fe<0||!G.inclusiveLeft&&!fe)&&we.push({from:ve.from,to:ae.from}),(Se>0||!G.inclusiveRight&&!Se)&&we.push({from:ae.to,to:ve.to}),T.splice.apply(T,we),re+=we.length-3}}return T}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)es(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else es(e,t)}}function es(e,t){if(t.text.length!=1||t.text[0]!=""||$(t.from,t.to)!=0){var r=ra(e,t);Wa(e,t,r,e.cm?e.cm.curOp.id:NaN),uo(e,t,r,xt(e,t));var n=[];ni(e,function(i,a){a||oe(n,i.history)!=-1||(is(i.history,t),n.push(i.history)),uo(i,t,null,xt(i,t))})}}function Fo(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,a=e.history,b=e.sel,C=t=="undo"?a.done:a.undone,M=t=="undo"?a.undone:a.done,T=0;T<C.length&&(i=C[T],r?!i.ranges||i.equals(e.sel):i.ranges);T++);if(T!=C.length){for(a.lastOrigin=a.lastSelOrigin=null;;){if(!(i=C.pop()).ranges){if(n)return void C.push(i);break}if(Do(i,M),r&&!i.equals(e.sel))return void Kn(e,i,{clearRedo:!1});b=i}var K=[];Do(b,M),M.push({changes:K,generation:a.generation}),a.generation=i.generation||++a.maxGeneration;for(var G=wn(e,"beforeChange")||e.cm&&wn(e.cm,"beforeChange"),ae=function(we){var fe=i.changes[we];if(fe.origin=t,G&&!Qa(e,fe,!1))return C.length=0,{};K.push(aa(e,fe));var Se=we?ra(e,fe):ye(C);uo(e,fe,Se,qa(e,fe)),!we&&e.cm&&e.cm.scrollIntoView({from:fe.from,to:ti(fe)});var Be=[];ni(e,function(Ne,Xe){Xe||oe(Be,Ne.history)!=-1||(is(Ne.history,fe),Be.push(Ne.history)),uo(Ne,fe,null,qa(Ne,fe))})},re=i.changes.length-1;re>=0;--re){var ve=ae(re);if(ve)return ve.v}}}}function ts(e,t){if(t!=0&&(e.first+=t,e.sel=new gr(ke(e.sel.ranges,function(i){return new mn(o(i.anchor.line+t,i.anchor.ch),o(i.head.line+t,i.head.ch))}),e.sel.primIndex),e.cm)){Et(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Qt(e.cm,n,"gutter")}}function uo(e,t,r,n){if(e.cm&&!e.cm.curOp)return Gn(e.cm,uo)(e,t,r,n);if(t.to.line<e.first)ts(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ts(e,i),t={from:o(e.first,0),to:o(t.to.line+i,t.to.ch),text:[ye(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:o(a,vt(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=kr(e,t.from,t.to),r||(r=ra(e,t)),e.cm?function(b,C,M){var T=b.doc,K=b.display,G=C.from,ae=C.to,re=!1,ve=G.line;b.options.lineWrapping||(ve=Q(Tt(vt(T,G.line))),T.iter(ve,ae.line+1,function(Ne){if(Ne==K.maxLine)return re=!0,!0})),T.sel.contains(C.from,C.to)>-1&&$n(b),oa(T,C,M,En(b)),b.options.lineWrapping||(T.iter(ve,G.line+C.text.length,function(Ne){var Xe=Jt(Ne);Xe>K.maxLineLength&&(K.maxLine=Ne,K.maxLineLength=Xe,K.maxLineChanged=!0,re=!1)}),re&&(b.curOp.updateMaxLine=!0)),function(Ne,Xe){if(Ne.modeFrontier=Math.min(Ne.modeFrontier,Xe),!(Ne.highlightFrontier<Xe-10)){for(var Ve=Ne.first,Ge=Xe-1;Ge>Ve;Ge--){var Ct=vt(Ne,Ge).stateAfter;if(Ct&&(!(Ct instanceof Ze)||Ge+Ct.lookAhead<Xe)){Ve=Ge+1;break}}Ne.highlightFrontier=Math.min(Ne.highlightFrontier,Ve)}}(T,G.line),ao(b,400);var we=C.text.length-(ae.line-G.line)-1;C.full?Et(b):G.line!=ae.line||C.text.length!=1||$a(b.doc,C)?Et(b,G.line,ae.line+1,we):Qt(b,G.line,"text");var fe=wn(b,"changes"),Se=wn(b,"change");if(Se||fe){var Be={from:G,to:ae,text:C.text,removed:C.removed,origin:C.origin};Se&&Hn(b,"change",b,Be),fe&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(Be)}b.display.selForContextMenu=null}(e.cm,t,n):oa(e,t,n),Ro(e,r,_e),e.cantEdit&&$o(e,o(e.firstLine(),0))&&(e.cantEdit=!1)}}function Ii(e,t,r,n,i){var a;n||(n=r),$(n,r)<0&&(r=(a=[n,r])[0],n=a[1]),typeof t=="string"&&(t=e.splitLines(t)),Di(e,{from:r,to:n,text:t,origin:i})}function ns(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function rs(e,t,r,n){for(var i=0;i<e.length;++i){var a=e[i],b=!0;if(a.ranges){a.copied||((a=e[i]=a.deepCopy()).copied=!0);for(var C=0;C<a.ranges.length;C++)ns(a.ranges[C].anchor,t,r,n),ns(a.ranges[C].head,t,r,n)}else{for(var M=0;M<a.changes.length;++M){var T=a.changes[M];if(r<T.from.line)T.from=o(T.from.line+n,T.from.ch),T.to=o(T.to.line+n,T.to.ch);else if(t<=T.to.line){b=!1;break}}b||(e.splice(0,i+1),i=0)}}}function is(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;rs(e.done,r,n,i),rs(e.undone,r,n,i)}function co(e,t,r,n){var i=t,a=t;return typeof t=="number"?a=vt(e,He(e,t)):i=Q(t),i==null?null:(n(a,i)&&e.cm&&Qt(e.cm,i,r),a)}function fo(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function po(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}mn.prototype.from=function(){return Oe(this.anchor,this.head)},mn.prototype.to=function(){return xe(this.anchor,this.head)},mn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},fo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,un(i),Hn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},po.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var a=Math.min(t,i-e),b=n.height;if(n.removeInner(e,a),this.height-=b-n.height,i==a&&(this.children.splice(r--,1),n.parent=null),(t-=a)==0)break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof fo))){var C=[];this.collapse(C),this.children=[new fo(C)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(e<=a){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var b=i.lines.length%25+25,C=b;C<i.lines.length;){var M=new fo(i.lines.slice(C,C+=25));i.height-=M.height,this.children.splice(++n,0,M),M.parent=this}i.lines=i.lines.slice(0,b),this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new po(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=oe(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new po(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],a=i.chunkSize();if(e<a){var b=Math.min(t,a-e);if(i.iterN(e,b,r))return!0;if((t-=b)==0)break;e=0}else e-=a}}};var ho=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function os(e,t,r){Ft(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Jo(e,r)}ho.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=Q(r);if(n!=null&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var a=Tr(this);B(r,Math.max(0,r.height-a)),e&&(ur(e,function(){os(e,r,-a),Qt(e,n,"widget")}),Hn(e,"lineWidgetCleared",e,this,n))}},ho.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Tr(this)-t;i&&(Gt(this.doc,n)||B(n,n.height+i),r&&ur(r,function(){r.curOp.forceUpdate=!0,os(r,n,i),Hn(r,"lineWidgetChanged",r,e,Q(n))}))},rn(ho);var as=0,ri=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++as};function Ri(e,t,r,n,i){if(n&&n.shared)return function(G,ae,re,ve,we){(ve=me(ve)).shared=!1;var fe=[Ri(G,ae,re,ve,we)],Se=fe[0],Be=ve.widgetNode;return ni(G,function(Ne){Be&&(ve.widgetNode=Be.cloneNode(!0)),fe.push(Ri(Ne,Te(Ne,ae),Te(Ne,re),ve,we));for(var Xe=0;Xe<Ne.linked.length;++Xe)if(Ne.linked[Xe].isParent)return;Se=ye(fe)}),new go(fe,Se)}(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return Gn(e.cm,Ri)(e,t,r,n,i);var a=new ri(e,i),b=$(t,r);if(n&&me(n,a,!1),b>0||b==0&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=X("span",[a.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(yn(e,t.line,t,r,a)||t.line!=r.line&&yn(e,r.line,t,r,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");ht=!0}a.addToHistory&&Wa(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var C,M=t.line,T=e.cm;if(e.iter(M,r.line+1,function(G){T&&a.collapsed&&!T.options.lineWrapping&&Tt(G)==T.display.maxLine&&(C=!0),a.collapsed&&M!=t.line&&B(G,0),function(ae,re){ae.markedSpans=ae.markedSpans?ae.markedSpans.concat([re]):[re],re.marker.attachLine(ae)}(G,new wt(a,M==t.line?t.ch:null,M==r.line?r.ch:null)),++M}),a.collapsed&&e.iter(t.line,r.line+1,function(G){Gt(e,G)&&B(G,0)}),a.clearOnEnter&&Le(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(yt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++as,a.atomic=!0),T){if(C&&(T.curOp.updateMaxLine=!0),a.collapsed)Et(T,t.line,r.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var K=t.line;K<=r.line;K++)Qt(T,K,"text");a.atomic&&Ya(T.doc),Hn(T,"markerAdded",T,a)}return a}ri.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&vi(e),wn(this,"clear")){var r=this.find();r&&Hn(this,"clear",r.from,r.to)}for(var n=null,i=null,a=0;a<this.lines.length;++a){var b=this.lines[a],C=bt(b.markedSpans,this);e&&!this.collapsed?Qt(e,Q(b),"text"):e&&(C.to!=null&&(i=Q(b)),C.from!=null&&(n=Q(b))),b.markedSpans=St(b.markedSpans,C),C.from==null&&this.collapsed&&!Gt(this.doc,b)&&e&&B(b,sr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var M=0;M<this.lines.length;++M){var T=Tt(this.lines[M]),K=Jt(T);K>e.display.maxLineLength&&(e.display.maxLine=T,e.display.maxLineLength=K,e.display.maxLineChanged=!0)}n!=null&&e&&this.collapsed&&Et(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ya(e.doc)),e&&Hn(e,"markerCleared",e,this,n,i),t&&yi(e),this.parent&&this.parent.clear()}},ri.prototype.find=function(e,t){var r,n;e==null&&this.type=="bookmark"&&(e=1);for(var i=0;i<this.lines.length;++i){var a=this.lines[i],b=bt(a.markedSpans,this);if(b.from!=null&&(r=o(t?a:Q(a),b.from),e==-1))return r;if(b.to!=null&&(n=o(t?a:Q(a),b.to),e==1))return n}return r&&{from:r,to:n}},ri.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&ur(n,function(){var i=t.line,a=Q(t.line),b=Ci(n,a);if(b&&(pi(b),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Gt(r.doc,i)&&r.height!=null){var C=r.height;r.height=null;var M=Tr(r)-C;M&&B(i,i.height+M)}Hn(n,"markerChanged",n,e)})},ri.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&oe(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ri.prototype.detachLine=function(e){if(this.lines.splice(oe(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},rn(ri);var go=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function ss(e){return e.findMarks(o(e.first,0),e.clipPos(o(e.lastLine())),function(t){return t.parent})}function ol(e){for(var t=function(n){var i=e[n],a=[i.primary.doc];ni(i.primary.doc,function(M){return a.push(M)});for(var b=0;b<i.markers.length;b++){var C=i.markers[b];oe(a,C.doc)==-1&&(C.parent=null,i.markers.splice(b--,1))}},r=0;r<e.length;r++)t(r)}go.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Hn(this,"clear")}},go.prototype.find=function(e,t){return this.primary.find(e,t)},rn(go);var al=0,Qn=function(e,t,r,n,i){if(!(this instanceof Qn))return new Qn(e,t,r,n,i);r==null&&(r=0),po.call(this,[new fo([new qt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var a=o(r,0);this.sel=ei(a),this.history=new No(null),this.id=++al,this.modeOption=t,this.lineSep=n,this.direction=i=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),oa(this,{from:a,to:a,text:e}),Kn(this,ei(a),_e)};Qn.prototype=kt(po.prototype,{constructor:Qn,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Gr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Zn(function(e){var t=o(this.first,0),r=this.first+this.size-1;Di(this,{from:t,to:o(r,vt(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&no(this.cm,0,0),Kn(this,ei(t),_e)}),replaceRange:function(e,t,r,n){Ii(this,e,t=Te(this,t),r=r?Te(this,r):t,n)},getRange:function(e,t,r){var n=kr(this,Te(this,e),Te(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(rt(this,e))return vt(this,e)},getLineNumber:function(e){return Q(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=vt(this,e)),Tt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Te(this,e)},getCursor:function(e){var t=this.sel.primary();return e==null||e=="head"?t.head:e=="anchor"?t.anchor:e=="end"||e=="to"||e===!1?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Zn(function(e,t,r){Va(this,Te(this,typeof e=="number"?o(e,t||0):e),null,r)}),setSelection:Zn(function(e,t,r){Va(this,Te(this,e),Te(this,t||e),r)}),extendSelection:Zn(function(e,t,r){Io(this,Te(this,e),t&&Te(this,t),r)}),extendSelections:Zn(function(e,t){Ua(this,at(this,e),t)}),extendSelectionsBy:Zn(function(e,t){Ua(this,at(this,ke(this.sel.ranges,e)),t)}),setSelections:Zn(function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new mn(Te(this,e[i].anchor),Te(this,e[i].head));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),Kn(this,Cr(this.cm,n,t),r)}}),addSelection:Zn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new mn(Te(this,e),Te(this,t||e))),Kn(this,Cr(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=kr(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=kr(this,r[n].from(),r[n].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Zn(function(e,t,r){for(var n=[],i=this.sel,a=0;a<i.ranges.length;a++){var b=i.ranges[a];n[a]={from:b.from(),to:b.to(),text:this.splitLines(e[a]),origin:r}}for(var C=t&&t!="end"&&function(T,K,G){for(var ae=[],re=o(T.first,0),ve=re,we=0;we<K.length;we++){var fe=K[we],Se=Ra(fe.from,re,ve),Be=Ra(ti(fe),re,ve);if(re=fe.to,ve=Be,G=="around"){var Ne=T.sel.ranges[we],Xe=$(Ne.head,Ne.anchor)<0;ae[we]=new mn(Xe?Be:Se,Xe?Se:Be)}else ae[we]=new mn(Se,Se)}return new gr(ae,T.sel.primIndex)}(this,n,t),M=n.length-1;M>=0;M--)Di(this,n[M]);C?Ga(this,C):this.cm&&Ti(this.cm)}),undo:Zn(function(){Fo(this,"undo")}),redo:Zn(function(){Fo(this,"redo")}),undoSelection:Zn(function(){Fo(this,"undo",!0)}),redoSelection:Zn(function(){Fo(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new No(this.history.maxGeneration),ni(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Li(this.history.done),undone:Li(this.history.undone)}},setHistory:function(e){var t=this.history=new No(this.history.maxGeneration);t.done=Li(e.done.slice(0),null,!0),t.undone=Li(e.undone.slice(0),null,!0)},setGutterMarker:Zn(function(e,t,r){return co(this,e,"gutter",function(n){var i=n.gutterMarkers||(n.gutterMarkers={});return i[t]=r,!r&&Vt(i)&&(n.gutterMarkers=null),!0})}),clearGutter:Zn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&co(t,r,"gutter",function(){return r.gutterMarkers[e]=null,Vt(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!rt(this,e))return null;if(t=e,!(e=vt(this,e)))return null}else if((t=Q(e))==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Zn(function(e,t,r){return co(this,e,t=="gutter"?"gutter":"class",function(n){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(n[i]){if(N(r).test(n[i]))return!1;n[i]+=" "+r}else n[i]=r;return!0})}),removeLineClass:Zn(function(e,t,r){return co(this,e,t=="gutter"?"gutter":"class",function(n){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",a=n[i];if(!a)return!1;if(r==null)n[i]=null;else{var b=a.match(N(r));if(!b)return!1;var C=b.index+b[0].length;n[i]=a.slice(0,b.index)+(b.index&&C!=a.length?" ":"")+a.slice(C)||null}return!0})}),addLineWidget:Zn(function(e,t,r){return function(n,i,a,b){var C=new ho(n,a,b),M=n.cm;return M&&C.noHScroll&&(M.display.alignWidgets=!0),co(n,i,"widget",function(T){var K=T.widgets||(T.widgets=[]);if(C.insertAt==null?K.push(C):K.splice(Math.min(K.length-1,Math.max(0,C.insertAt)),0,C),C.line=T,M&&!Gt(n,T)){var G=Ft(T)<n.scrollTop;B(T,T.height+Tr(C)),G&&Jo(M,C.height),M.curOp.forceUpdate=!0}return!0}),M&&Hn(M,"lineWidgetAdded",M,C,typeof i=="number"?i:Q(i)),C}(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Ri(this,Te(this,e),Te(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Ri(this,e=Te(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=vt(this,(e=Te(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=Te(this,e),t=Te(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(a){var b=a.markedSpans;if(b)for(var C=0;C<b.length;C++){var M=b[C];M.to!=null&&i==e.line&&e.ch>=M.to||M.from==null&&i!=e.line||M.from!=null&&i==t.line&&M.from>=t.ch||r&&!r(M.marker)||n.push(M.marker.parent||M.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)r[n].from!=null&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var a=i.text.length+n;if(a>e)return t=e,!0;e-=a,++r}),Te(this,o(r,t))},indexFromPos:function(e){var t=(e=Te(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+r}),t},copy:function(e){var t=new Qn(Gr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<r&&(r=e.to);var n=new Qn(Gr(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(i,a){for(var b=0;b<a.length;b++){var C=a[b],M=C.find(),T=i.clipPos(M.from),K=i.clipPos(M.to);if($(T,K)){var G=Ri(i,T,K,C.primary,C.primary.type);C.markers.push(G),G.parent=C}}}(n,ss(this)),n},unlinkDoc:function(e){if(e instanceof Ln&&(e=e.doc),this.linked){for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ol(ss(this));break}}if(e.history==this.history){var r=[e.id];ni(e,function(n){return r.push(n.id)},!0),e.history=new No(null),e.history.done=Li(this.history.done,r),e.history.undone=Li(this.history.undone,r)}},iterLinkedDocs:function(e){ni(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Br(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Zn(function(e){var t;(e!="rtl"&&(e="ltr"),e!=this.direction)&&(this.direction=e,this.iter(function(r){return r.order=null}),this.cm&&ur(t=this.cm,function(){za(t),Et(t)}))})}),Qn.prototype.eachLine=Qn.prototype.iter;var ls=0;function sl(e){var t=this;if(us(t),!Dt(t,e)&&!or(t.display,e)){Cn(e),m&&(ls=+new Date);var r=lr(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,a=Array(i),b=0,C=function(){++b==i&&Gn(t,function(){var re={from:r=Te(t.doc,r),to:r,text:t.doc.splitLines(a.filter(function(ve){return ve!=null}).join(t.doc.lineSeparator())),origin:"paste"};Di(t.doc,re),Ga(t.doc,ei(Te(t.doc,r),Te(t.doc,ti(re))))})()},M=function(re,ve){if(t.options.allowDropFileTypes&&oe(t.options.allowDropFileTypes,re.type)==-1)C();else{var we=new FileReader;we.onerror=function(){return C()},we.onload=function(){var fe=we.result;/[\x00-\x08\x0e-\x1f]{2}/.test(fe)||(a[ve]=fe),C()},we.readAsText(re)}},T=0;T<n.length;T++)M(n[T],T);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var K=e.dataTransfer.getData("Text");if(K){var G;if(t.state.draggingText&&!t.state.draggingText.copy&&(G=t.listSelections()),Ro(t.doc,ei(r,r)),G)for(var ae=0;ae<G.length;++ae)Ii(t.doc,"",G[ae].anchor,G[ae].head,"drag");t.replaceSelection(K,"around","paste"),t.display.input.focus()}}catch(re){}}}}function us(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function cs(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation(function(){for(var a=0;a<r.length;a++)e(r[a])})}}var fs=!1;function ll(){var e;fs||(Le(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,cs(ul)},100))}),Le(window,"blur",function(){return cs(Mi)}),fs=!0)}function ul(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var ii={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},mo=0;mo<10;mo++)ii[mo+48]=ii[mo+96]=String(mo);for(var zo=65;zo<=90;zo++)ii[zo]=String.fromCharCode(zo);for(var vo=1;vo<=12;vo++)ii[vo+111]=ii[vo+63235]="F"+vo;var Hr={};function cl(e){var t,r,n,i,a=e.split(/-(?!$)/);e=a[a.length-1];for(var b=0;b<a.length-1;b++){var C=a[b];if(/^(cmd|meta|m)$/i.test(C))i=!0;else if(/^a(lt)?$/i.test(C))t=!0;else if(/^(c|ctrl|control)$/i.test(C))r=!0;else{if(!/^s(hift)?$/i.test(C))throw new Error("Unrecognized modifier name: "+C);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function fl(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(n=="..."){delete e[r];continue}for(var i=ke(r.split(" "),cl),a=0;a<i.length;a++){var b=void 0,C=void 0;a==i.length-1?(C=i.join(" "),b=n):(C=i.slice(0,a+1).join(" "),b="...");var M=t[C];if(M){if(M!=b)throw new Error("Inconsistent bindings for "+C)}else t[C]=b}delete e[r]}for(var T in t)e[T]=t[T];return e}function $i(e,t,r,n){var i=(t=Ho(t)).call?t.call(e,n):t[e];if(i===!1)return"nothing";if(i==="...")return"multi";if(i!=null&&r(i))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return $i(e,t.fallthrough,r,n);for(var a=0;a<t.fallthrough.length;a++){var b=$i(e,t.fallthrough[a],r,n);if(b)return b}}}function ds(e){var t=typeof e=="string"?e:ii[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function ps(e,t,r){var n=e;return t.altKey&&n!="Alt"&&(e="Alt-"+e),(P?t.metaKey:t.ctrlKey)&&n!="Ctrl"&&(e="Ctrl-"+e),(P?t.ctrlKey:t.metaKey)&&n!="Mod"&&(e="Cmd-"+e),!r&&t.shiftKey&&n!="Shift"&&(e="Shift-"+e),e}function hs(e,t){if(d&&e.keyCode==34&&e.char)return!1;var r=ii[e.keyCode];return r!=null&&!e.altGraphKey&&(e.keyCode==3&&e.code&&(r=e.code),ps(r,e,t))}function Ho(e){return typeof e=="string"?Hr[e]:e}function Fi(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var a=t(r[i]);n.length&&$(a.from,ye(n).to)<=0;){var b=n.pop();if($(b.from,a.from)<0){a.from=b.from;break}}n.push(a)}ur(e,function(){for(var C=n.length-1;C>=0;C--)Ii(e.doc,"",n[C].from,n[C].to,"+delete");Ti(e)})}function ua(e,t,r){var n=ge(e.text,t+r,r);return n<0||n>e.text.length?null:n}function ca(e,t,r){var n=ua(e,t.ch,r);return n==null?null:new o(t.line,n,r<0?"after":"before")}function fa(e,t,r,n,i){if(e){t.doc.direction=="rtl"&&(i=-i);var a=nt(r,t.doc.direction);if(a){var b,C=i<0?ye(a):a[0],M=i<0==(C.level==1)?"after":"before";if(C.level>0||t.doc.direction=="rtl"){var T=zr(t,r);b=i<0?r.text.length-1:0;var K=jn(t,T,b).top;b=q(function(G){return jn(t,T,G).top==K},i<0==(C.level==1)?C.from:C.to-1,b),M=="before"&&(b=ua(r,b,1))}else b=i<0?C.to:C.from;return new o(n,b,M)}}return new o(n,i<0?r.text.length:0,i<0?"before":"after")}Hr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Hr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Hr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Hr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Hr.default=W?Hr.macDefault:Hr.pcDefault;var yo={selectAll:Xa,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),_e)},killLine:function(e){return Fi(e,function(t){if(t.empty()){var r=vt(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:o(t.head.line+1,0)}:{from:t.head,to:o(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Fi(e,function(t){return{from:o(t.from().line,0),to:Te(e.doc,o(t.to().line+1,0))}})},delLineLeft:function(e){return Fi(e,function(t){return{from:o(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Fi(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Fi(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(o(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(o(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return gs(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return ms(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(r,n){var i=vt(r.doc,n),a=function(b){for(var C;C=cn(b);)b=C.find(1,!0).line;return b}(i);return a!=i&&(n=Q(a)),fa(!0,r,i,n,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Je)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Je)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?ms(e,t.head):n},Je)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var a=r[i].from(),b=Pe(e.getLine(a.line),a.ch,n);t.push(je(n-b%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return ur(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,a=vt(e.doc,i.line).text;if(a){if(i.ch==a.length&&(i=new o(i.line,i.ch-1)),i.ch>0)i=new o(i.line,i.ch+1),e.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),o(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var b=vt(e.doc,i.line-1).text;b&&(i=new o(i.line,1),e.replaceRange(a.charAt(0)+e.doc.lineSeparator()+b.charAt(b.length-1),o(i.line-1,b.length-1),i,"+transpose"))}}r.push(new mn(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return ur(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Ti(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function gs(e,t){var r=vt(e.doc,t),n=Tt(r);return n!=r&&(t=Q(n)),fa(!0,e,n,t,1)}function ms(e,t){var r=gs(e,t.line),n=vt(e.doc,r.line),i=nt(n,e.doc.direction);if(!i||i[0].level==0){var a=Math.max(r.ch,n.text.search(/\S/)),b=t.line==r.line&&t.ch<=a&&t.ch;return o(r.line,b?0:a,r.sticky)}return r}function Wo(e,t,r){if(typeof t=="string"&&!(t=yo[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=ce}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var dl=new Ke;function bo(e,t,r,n){var i=e.state.keySeq;if(i){if(ds(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:dl.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),vs(e,i+" "+t,r,n))return!0}return vs(e,t,r,n)}function vs(e,t,r,n){var i=function(a,b,C){for(var M=0;M<a.state.keyMaps.length;M++){var T=$i(b,a.state.keyMaps[M],C,a);if(T)return T}return a.options.extraKeys&&$i(b,a.options.extraKeys,C,a)||$i(b,a.options.keyMap,C,a)}(e,t,n);return i=="multi"&&(e.state.keySeq=t),i=="handled"&&Hn(e,"keyHandled",e,t,r),i!="handled"&&i!="multi"||(Cn(r),Zo(e)),!!i}function ys(e,t){var r=hs(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?bo(e,"Shift-"+r,t,function(n){return Wo(e,n,!0)})||bo(e,r,t,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Wo(e,n)}):bo(e,r,t,function(n){return Wo(e,n)}))}var da=null;function bs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=ue(),Dt(t,e)))){m&&x<11&&e.keyCode==27&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=r==16||e.shiftKey;var n=ys(t,e);d&&(da=n?r:null,n||r!=88||qi||!(W?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),u&&!W&&!n&&r==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),r!=18||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(i){var a=i.display.lineDiv;function b(C){C.keyCode!=18&&C.altKey||(Y(a,"CodeMirror-crosshair"),st(document,"keyup",b),st(document,"mouseover",b))}Ce(a,"CodeMirror-crosshair"),Le(document,"keyup",b),Le(document,"mouseover",b)}(t)}}function ws(e){e.keyCode==16&&(this.doc.sel.shift=!1),Dt(this,e)}function xs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||or(t.display,e)||Dt(t,e)||e.ctrlKey&&!e.altKey||W&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(d&&r==da)return da=null,void Cn(e);if(!d||e.which&&!(e.which<10)||!ys(t,e)){var i=String.fromCharCode(n??r);i!="\b"&&(function(a,b,C){return bo(a,"'"+C+"'",b,function(M){return Wo(a,M,!0)})}(t,e,i)||t.display.input.onKeyPress(e))}}}var wo,xo,pa=function(e,t,r){this.time=e,this.pos=t,this.button=r};function ks(e){var t=this,r=t.display;if(!(Dt(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,or(r,e))f||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!ha(t,e)){var n=lr(t,e),i=ir(e),a=n?function(b,C){var M=+new Date;return xo&&xo.compare(M,b,C)?(wo=xo=null,"triple"):wo&&wo.compare(M,b,C)?(xo=new pa(M,b,C),wo=null,"double"):(wo=new pa(M,b,C),xo=null,"single")}(n,i):"single";window.focus(),i==1&&t.state.selectingText&&t.state.selectingText(e),n&&function(b,C,M,T,K){var G="Click";return T=="double"?G="Double"+G:T=="triple"&&(G="Triple"+G),bo(b,ps(G=(C==1?"Left":C==2?"Middle":"Right")+G,K),K,function(ae){if(typeof ae=="string"&&(ae=yo[ae]),!ae)return!1;var re=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),re=ae(b,M)!=ce}finally{b.state.suppressEdits=!1}return re})}(t,i,n,a,e)||(i==1?n?function(b,C,M,T){m?setTimeout(se(ka,b),0):b.curOp.focus=ue();var K,G=function(re,ve,we){var fe=re.getOption("configureMouse"),Se=fe?fe(re,ve,we):{};if(Se.unit==null){var Be=V?we.shiftKey&&we.metaKey:we.altKey;Se.unit=Be?"rectangle":ve=="single"?"char":ve=="double"?"word":"line"}return(Se.extend==null||re.doc.extend)&&(Se.extend=re.doc.extend||we.shiftKey),Se.addNew==null&&(Se.addNew=W?we.metaKey:we.ctrlKey),Se.moveOnDrag==null&&(Se.moveOnDrag=!(W?we.altKey:we.ctrlKey)),Se}(b,M,T),ae=b.doc.sel;b.options.dragDrop&&Bi&&!b.isReadOnly()&&M=="single"&&(K=ae.contains(C))>-1&&($((K=ae.ranges[K]).from(),C)<0||C.xRel>0)&&($(K.to(),C)>0||C.xRel<0)?function(re,ve,we,fe){var Se=re.display,Be=!1,Ne=Gn(re,function(Ge){f&&(Se.scroller.draggable=!1),re.state.draggingText=!1,st(Se.wrapper.ownerDocument,"mouseup",Ne),st(Se.wrapper.ownerDocument,"mousemove",Xe),st(Se.scroller,"dragstart",Ve),st(Se.scroller,"drop",Ne),Be||(Cn(Ge),fe.addNew||Io(re.doc,we,null,null,fe.extend),f&&!l||m&&x==9?setTimeout(function(){Se.wrapper.ownerDocument.body.focus({preventScroll:!0}),Se.input.focus()},20):Se.input.focus())}),Xe=function(Ge){Be=Be||Math.abs(ve.clientX-Ge.clientX)+Math.abs(ve.clientY-Ge.clientY)>=10},Ve=function(){return Be=!0};f&&(Se.scroller.draggable=!0),re.state.draggingText=Ne,Ne.copy=!fe.moveOnDrag,Se.scroller.dragDrop&&Se.scroller.dragDrop(),Le(Se.wrapper.ownerDocument,"mouseup",Ne),Le(Se.wrapper.ownerDocument,"mousemove",Xe),Le(Se.scroller,"dragstart",Ve),Le(Se.scroller,"drop",Ne),Oa(re),setTimeout(function(){return Se.input.focus()},20)}(b,T,C,G):function(re,ve,we,fe){var Se=re.display,Be=re.doc;Cn(ve);var Ne,Xe,Ve=Be.sel,Ge=Ve.ranges;if(fe.addNew&&!fe.extend?(Xe=Be.sel.contains(we),Ne=Xe>-1?Ge[Xe]:new mn(we,we)):(Ne=Be.sel.primary(),Xe=Be.sel.primIndex),fe.unit=="rectangle")fe.addNew||(Ne=new mn(we,we)),we=lr(re,ve,!0,!0),Xe=-1;else{var Ct=Os(re,we,fe.unit);Ne=fe.extend?sa(Ne,Ct.anchor,Ct.head,fe.extend):Ct}fe.addNew?Xe==-1?(Xe=Ge.length,Kn(Be,Cr(re,Ge.concat([Ne]),Xe),{scroll:!1,origin:"*mouse"})):Ge.length>1&&Ge[Xe].empty()&&fe.unit=="char"&&!fe.extend?(Kn(Be,Cr(re,Ge.slice(0,Xe).concat(Ge.slice(Xe+1)),0),{scroll:!1,origin:"*mouse"}),Ve=Be.sel):la(Be,Xe,Ne,Ee):(Xe=0,Kn(Be,new gr([Ne],0),Ee),Ve=Be.sel);var gt=we;function on(Ut){if($(gt,Ut)!=0)if(gt=Ut,fe.unit=="rectangle"){for(var fn=[],Kt=re.options.tabSize,nn=Pe(vt(Be,we.line).text,we.ch,Kt),zt=Pe(vt(Be,Ut.line).text,Ut.ch,Kt),pn=Math.min(nn,zt),Nn=Math.max(nn,zt),Mn=Math.min(we.line,Ut.line),Jn=Math.min(re.lastLine(),Math.max(we.line,Ut.line));Mn<=Jn;Mn++){var er=vt(Be,Mn).text,kn=ft(er,pn,Kt);pn==Nn?fn.push(new mn(o(Mn,kn),o(Mn,kn))):er.length>kn&&fn.push(new mn(o(Mn,kn),o(Mn,ft(er,Nn,Kt))))}fn.length||fn.push(new mn(we,we)),Kn(Be,Cr(re,Ve.ranges.slice(0,Xe).concat(fn),Xe),{origin:"*mouse",scroll:!1}),re.scrollIntoView(Ut)}else{var tr,nr=Ne,mr=Os(re,Ut,fe.unit),Nr=nr.anchor;$(mr.anchor,Nr)>0?(tr=mr.head,Nr=Oe(nr.from(),mr.anchor)):(tr=mr.anchor,Nr=xe(nr.to(),mr.head));var Ds=Ve.ranges.slice(0);Ds[Xe]=function(Is,bi){var cr=bi.anchor,oi=bi.head,vl=vt(Is.doc,cr.line);if($(cr,oi)==0&&cr.sticky==oi.sticky)return bi;var Wi=nt(vl);if(!Wi)return bi;var ya=U(Wi,cr.ch,cr.sticky),Oo=Wi[ya];if(Oo.from!=cr.ch&&Oo.to!=cr.ch)return bi;var Go,jo=ya+(Oo.from==cr.ch==(Oo.level!=1)?0:1);if(jo==0||jo==Wi.length)return bi;if(oi.line!=cr.line)Go=(oi.line-cr.line)*(Is.doc.direction=="ltr"?1:-1)>0;else{var ba=U(Wi,oi.ch,oi.sticky),Rs=ba-ya||(oi.ch-cr.ch)*(Oo.level==1?-1:1);Go=ba==jo-1||ba==jo?Rs<0:Rs>0}var wa=Wi[jo+(Go?-1:0)],$s=Go==(wa.level==1),Fs=$s?wa.from:wa.to,zs=$s?"after":"before";return cr.ch==Fs&&cr.sticky==zs?bi:new mn(new o(cr.line,Fs,zs),oi)}(re,new mn(Te(Be,Nr),tr)),Kn(Be,Cr(re,Ds,Xe),Ee)}}var Lt=Se.wrapper.getBoundingClientRect(),Yt=0;function On(Ut){var fn=++Yt,Kt=lr(re,Ut,!0,fe.unit=="rectangle");if(Kt)if($(Kt,gt)!=0){re.curOp.focus=ue(),on(Kt);var nn=Mo(Se,Be);(Kt.line>=nn.to||Kt.line<nn.from)&&setTimeout(Gn(re,function(){Yt==fn&&On(Ut)}),150)}else{var zt=Ut.clientY<Lt.top?-20:Ut.clientY>Lt.bottom?20:0;zt&&setTimeout(Gn(re,function(){Yt==fn&&(Se.scroller.scrollTop+=zt,On(Ut))}),50)}}function en(Ut){re.state.selectingText=!1,Yt=1/0,Ut&&(Cn(Ut),Se.input.focus()),st(Se.wrapper.ownerDocument,"mousemove",ln),st(Se.wrapper.ownerDocument,"mouseup",tn),Be.history.lastSelOrigin=null}var ln=Gn(re,function(Ut){Ut.buttons!==0&&ir(Ut)?On(Ut):en(Ut)}),tn=Gn(re,en);re.state.selectingText=tn,Le(Se.wrapper.ownerDocument,"mousemove",ln),Le(Se.wrapper.ownerDocument,"mouseup",tn)}(b,T,C,G)}(t,n,a,e):Yn(e)==r.scroller&&Cn(e):i==2?(n&&Io(t.doc,n),setTimeout(function(){return r.input.focus()},20)):i==3&&(D?t.display.input.onContextMenu(e):Oa(t)))}}}function Os(e,t,r){if(r=="char")return new mn(t,t);if(r=="word")return e.findWordAt(t);if(r=="line")return new mn(o(t.line,0),Te(e.doc,o(t.line+1,0)));var n=r(e,t);return new mn(n.from,n.to)}function js(e,t,r,n){var i,a;if(t.touches)i=t.touches[0].clientX,a=t.touches[0].clientY;else try{i=t.clientX,a=t.clientY}catch(K){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Cn(t);var b=e.display,C=b.lineDiv.getBoundingClientRect();if(a>C.bottom||!wn(e,r))return rr(t);a-=C.top-b.viewOffset;for(var M=0;M<e.display.gutterSpecs.length;++M){var T=b.gutters.childNodes[M];if(T&&T.getBoundingClientRect().right>=i)return lt(e,r,e,tt(e.doc,a),e.display.gutterSpecs[M].className,t),rr(t)}}function ha(e,t){return js(e,t,"gutterClick",!0)}function Ss(e,t){or(e.display,t)||function(r,n){return wn(r,"gutterContextMenu")?js(r,n,"gutterContextMenu",!1):!1}(e,t)||Dt(e,t,"contextmenu")||D||e.display.input.onContextMenu(t)}function Cs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Xr(e)}pa.prototype.compare=function(e,t,r){return this.time+400>e&&$(t,this.pos)==0&&r==this.button};var zi={toString:function(){return"CodeMirror.Init"}},Ps={},Bo={};function pl(e,t,r){if(!t!=!(r&&r!=zi)){var n=e.display.dragFunctions,i=t?Le:st;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function hl(e){e.options.lineWrapping?(Ce(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Y(e.display.wrapper,"CodeMirror-wrap"),Xt(e)),Sr(e),Et(e),Xr(e),setTimeout(function(){return Ei(e)},100)}function Ln(e,t){var r=this;if(!(this instanceof Ln))return new Ln(e,t);this.options=t=t?me(t):{},me(Ps,t,!1);var n=t.value;typeof n=="string"?n=new Qn(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new Ln.inputStyles[t.inputStyle](this),a=this.display=new tl(e,n,i,t);for(var b in a.wrapper.CodeMirror=this,Cs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Aa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ke,keySeq:null,specialChars:null},t.autofocus&&!L&&a.input.focus(),m&&x<11&&setTimeout(function(){return r.display.input.reset(!0)},20),function(M){var T=M.display;Le(T.scroller,"mousedown",Gn(M,ks)),Le(T.scroller,"dblclick",m&&x<11?Gn(M,function(fe){if(!Dt(M,fe)){var Se=lr(M,fe);if(Se&&!ha(M,fe)&&!or(M.display,fe)){Cn(fe);var Be=M.findWordAt(Se);Io(M.doc,Be.anchor,Be.head)}}}):function(fe){return Dt(M,fe)||Cn(fe)}),Le(T.scroller,"contextmenu",function(fe){return Ss(M,fe)}),Le(T.input.getField(),"contextmenu",function(fe){T.scroller.contains(fe.target)||Ss(M,fe)});var K,G={end:0};function ae(){T.activeTouch&&(K=setTimeout(function(){return T.activeTouch=null},1e3),(G=T.activeTouch).end=+new Date)}function re(fe){if(fe.touches.length!=1)return!1;var Se=fe.touches[0];return Se.radiusX<=1&&Se.radiusY<=1}function ve(fe,Se){if(Se.left==null)return!0;var Be=Se.left-fe.left,Ne=Se.top-fe.top;return Be*Be+Ne*Ne>400}Le(T.scroller,"touchstart",function(fe){if(!Dt(M,fe)&&!re(fe)&&!ha(M,fe)){T.input.ensurePolled(),clearTimeout(K);var Se=+new Date;T.activeTouch={start:Se,moved:!1,prev:Se-G.end<=300?G:null},fe.touches.length==1&&(T.activeTouch.left=fe.touches[0].pageX,T.activeTouch.top=fe.touches[0].pageY)}}),Le(T.scroller,"touchmove",function(){T.activeTouch&&(T.activeTouch.moved=!0)}),Le(T.scroller,"touchend",function(fe){var Se=T.activeTouch;if(Se&&!or(T,fe)&&Se.left!=null&&!Se.moved&&new Date-Se.start<300){var Be,Ne=M.coordsChar(T.activeTouch,"page");Be=!Se.prev||ve(Se,Se.prev)?new mn(Ne,Ne):!Se.prev.prev||ve(Se,Se.prev.prev)?M.findWordAt(Ne):new mn(o(Ne.line,0),Te(M.doc,o(Ne.line+1,0))),M.setSelection(Be.anchor,Be.head),M.focus(),Cn(fe)}ae()}),Le(T.scroller,"touchcancel",ae),Le(T.scroller,"scroll",function(){T.scroller.clientHeight&&(ro(M,T.scroller.scrollTop),gi(M,T.scroller.scrollLeft,!0),lt(M,"scroll",M))}),Le(T.scroller,"mousewheel",function(fe){return Da(M,fe)}),Le(T.scroller,"DOMMouseScroll",function(fe){return Da(M,fe)}),Le(T.wrapper,"scroll",function(){return T.wrapper.scrollTop=T.wrapper.scrollLeft=0}),T.dragFunctions={enter:function(fe){Dt(M,fe)||Dn(fe)},over:function(fe){Dt(M,fe)||(!function(Se,Be){var Ne=lr(Se,Be);if(Ne){var Xe=document.createDocumentFragment();Lr(Se,Ne,Xe),Se.display.dragCursor||(Se.display.dragCursor=R("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),Se.display.lineSpace.insertBefore(Se.display.dragCursor,Se.display.cursorDiv)),Z(Se.display.dragCursor,Xe)}}(M,fe),Dn(fe))},start:function(fe){return function(Se,Be){if(m&&(!Se.state.draggingText||+new Date-ls<100))Dn(Be);else if(!Dt(Se,Be)&&!or(Se.display,Be)&&(Be.dataTransfer.setData("Text",Se.getSelection()),Be.dataTransfer.effectAllowed="copyMove",Be.dataTransfer.setDragImage&&!l)){var Ne=R("img",null,null,"position: fixed; left: 0; top: 0;");Ne.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(Ne.width=Ne.height=1,Se.display.wrapper.appendChild(Ne),Ne._top=Ne.offsetTop),Be.dataTransfer.setDragImage(Ne,0,0),d&&Ne.parentNode.removeChild(Ne)}}(M,fe)},drop:Gn(M,sl),leave:function(fe){Dt(M,fe)||us(M)}};var we=T.input.getField();Le(we,"keyup",function(fe){return ws.call(M,fe)}),Le(we,"keydown",Gn(M,bs)),Le(we,"keypress",Gn(M,xs)),Le(we,"focus",function(fe){return Yo(M,fe)}),Le(we,"blur",function(fe){return Mi(M,fe)})}(this),ll(),vi(this),this.curOp.forceUpdate=!0,Fa(this,n),t.autofocus&&!L||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&Yo(r)},20):Mi(this),Bo)Bo.hasOwnProperty(b)&&Bo[b](this,t[b],zi);Ea(this),t.finishInit&&t.finishInit(this);for(var C=0;C<ga.length;++C)ga[C](this);yi(this),f&&t.lineWrapping&&getComputedStyle(a.lineDiv).textRendering=="optimizelegibility"&&(a.lineDiv.style.textRendering="auto")}Ln.defaults=Ps,Ln.optionHandlers=Bo;var ga=[];function ko(e,t,r,n){var i,a=e.doc;r==null&&(r="add"),r=="smart"&&(a.mode.indent?i=We(e,t).state:r="prev");var b=e.options.tabSize,C=vt(a,t),M=Pe(C.text,null,b);C.stateAfter&&(C.stateAfter=null);var T,K=C.text.match(/^\s*/)[0];if(n||/\S/.test(C.text)){if(r=="smart"&&((T=a.mode.indent(i,C.text.slice(K.length),C.text))==ce||T>150)){if(!n)return;r="prev"}}else T=0,r="not";r=="prev"?T=t>a.first?Pe(vt(a,t-1).text,null,b):0:r=="add"?T=M+e.options.indentUnit:r=="subtract"?T=M-e.options.indentUnit:typeof r=="number"&&(T=M+r),T=Math.max(0,T);var G="",ae=0;if(e.options.indentWithTabs)for(var re=Math.floor(T/b);re;--re)ae+=b,G+="	";if(ae<T&&(G+=je(T-ae)),G!=K)return Ii(a,G,o(t,0),o(t,K.length),"+input"),C.stateAfter=null,!0;for(var ve=0;ve<a.sel.ranges.length;ve++){var we=a.sel.ranges[ve];if(we.head.line==t&&we.head.ch<K.length){var fe=o(t,K.length);la(a,ve,new mn(fe,fe));break}}}Ln.defineInitHook=function(e){return ga.push(e)};var Pr=null;function qo(e){Pr=e}function ma(e,t,r,n,i){var a=e.doc;e.display.shift=!1,n||(n=a.sel);var b=+new Date-200,C=i=="paste"||e.state.pasteIncoming>b,M=Br(t),T=null;if(C&&n.ranges.length>1)if(Pr&&Pr.text.join(`
`)==t){if(n.ranges.length%Pr.text.length==0){T=[];for(var K=0;K<Pr.text.length;K++)T.push(a.splitLines(Pr.text[K]))}}else M.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(T=ke(M,function(Se){return[Se]}));for(var G=e.curOp.updateInput,ae=n.ranges.length-1;ae>=0;ae--){var re=n.ranges[ae],ve=re.from(),we=re.to();re.empty()&&(r&&r>0?ve=o(ve.line,ve.ch-r):e.state.overwrite&&!C?we=o(we.line,Math.min(vt(a,we.line).text.length,we.ch+ye(M).length)):C&&Pr&&Pr.lineWise&&Pr.text.join(`
`)==M.join(`
`)&&(ve=we=o(ve.line,0)));var fe={from:ve,to:we,text:T?T[ae%T.length]:M,origin:i||(C?"paste":e.state.cutIncoming>b?"cut":"+input")};Di(e.doc,fe),Hn(e,"inputRead",e,fe)}t&&!C&&As(e,t),Ti(e),e.curOp.updateInput<2&&(e.curOp.updateInput=G),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function _s(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||ur(t,function(){return ma(t,r,0,null,"paste")}),!0}function As(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var a=e.getModeAt(i.head),b=!1;if(a.electricChars){for(var C=0;C<a.electricChars.length;C++)if(t.indexOf(a.electricChars.charAt(C))>-1){b=ko(e,i.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(vt(e.doc,i.head.line).text.slice(0,i.head.ch))&&(b=ko(e,i.head.line,"smart"));b&&Hn(e,"electricInput",e,i.head.line)}}}function Ms(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,a={anchor:o(i,0),head:o(i+1,0)};r.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:r}}function Ts(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Es(){var e=R("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=R("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return f?e.style.width="1000px":e.setAttribute("wrap","off"),j&&(e.style.border="1px solid black"),Ts(e),t}function va(e,t,r,n,i){var a=t,b=r,C=vt(e,t.line),M=i&&e.direction=="rtl"?-r:r;function T(Se){var Be,Ne;if(n=="codepoint"){var Xe=C.text.charCodeAt(t.ch+(n>0?0:-1));Be=isNaN(Xe)?null:new o(t.line,Math.max(0,Math.min(C.text.length,t.ch+r*(Xe>=55296&&Xe<56320?2:1))),-r)}else Be=i?function(Ve,Ge,Ct,gt){var on=nt(Ge,Ve.doc.direction);if(!on)return ca(Ge,Ct,gt);Ct.ch>=Ge.text.length?(Ct.ch=Ge.text.length,Ct.sticky="before"):Ct.ch<=0&&(Ct.ch=0,Ct.sticky="after");var Lt=U(on,Ct.ch,Ct.sticky),Yt=on[Lt];if(Ve.doc.direction=="ltr"&&Yt.level%2==0&&(gt>0?Yt.to>Ct.ch:Yt.from<Ct.ch))return ca(Ge,Ct,gt);var On,en=function(Nn,Mn){return ua(Ge,Nn instanceof o?Nn.ch:Nn,Mn)},ln=function(Nn){return Ve.options.lineWrapping?(On=On||zr(Ve,Ge),Zt(Ve,Ge,On,Nn)):{begin:0,end:Ge.text.length}},tn=ln(Ct.sticky=="before"?en(Ct,-1):Ct.ch);if(Ve.doc.direction=="rtl"||Yt.level==1){var Ut=Yt.level==1==gt<0,fn=en(Ct,Ut?1:-1);if(fn!=null&&(Ut?fn<=Yt.to&&fn<=tn.end:fn>=Yt.from&&fn>=tn.begin)){var Kt=Ut?"before":"after";return new o(Ct.line,fn,Kt)}}var nn=function(Nn,Mn,Jn){for(var er=function(mr,Nr){return Nr?new o(Ct.line,en(mr,1),"before"):new o(Ct.line,mr,"after")};Nn>=0&&Nn<on.length;Nn+=Mn){var kn=on[Nn],tr=Mn>0==(kn.level!=1),nr=tr?Jn.begin:en(Jn.end,-1);if(kn.from<=nr&&nr<kn.to)return er(nr,tr);if(nr=tr?kn.from:en(kn.to,-1),Jn.begin<=nr&&nr<Jn.end)return er(nr,tr)}},zt=nn(Lt+gt,gt,tn);if(zt)return zt;var pn=gt>0?tn.end:en(tn.begin,-1);return pn==null||gt>0&&pn==Ge.text.length||!(zt=nn(gt>0?0:on.length-1,gt,ln(pn)))?null:zt}(e.cm,C,t,r):ca(C,t,r);if(Be==null){if(Se||(Ne=t.line+M)<e.first||Ne>=e.first+e.size||(t=new o(Ne,t.ch,t.sticky),!(C=vt(e,Ne))))return!1;t=fa(i,e.cm,C,t.line,M)}else t=Be;return!0}if(n=="char"||n=="codepoint")T();else if(n=="column")T(!0);else if(n=="word"||n=="group")for(var K=null,G=n=="group",ae=e.cm&&e.cm.getHelper(t,"wordChars"),re=!0;!(r<0)||T(!re);re=!1){var ve=C.text.charAt(t.ch)||`
`,we=sn(ve,ae)?"w":G&&ve==`
`?"n":!G||/\s/.test(ve)?null:"p";if(!G||re||we||(we="s"),K&&K!=we){r<0&&(r=1,T(),t.sticky="after");break}if(we&&(K=we),r>0&&!T(!re))break}var fe=$o(e,t,a,b,!0);return he(a,fe)&&(fe.hitSide=!0),fe}function Ls(e,t,r,n){var i,a,b=e.doc,C=t.left;if(n=="page"){var M=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),T=Math.max(M-.5*sr(e.display),3);i=(r>0?t.bottom:t.top)+r*T}else n=="line"&&(i=r>0?t.bottom+3:t.top-3);for(;(a=At(e,C,i)).outside;){if(r<0?i<=0:i>=b.height){a.hitSide=!0;break}i+=5*r}return a}var bn=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ke,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ns(e,t){var r=Ci(e,t.line);if(!r||r.hidden)return null;var n=vt(e.doc,t.line),i=fi(r,n,t.line),a=nt(n,e.doc.direction),b="left";a&&(b=U(a,t.ch)%2?"right":"left");var C=di(i.map,t.ch,b);return C.offset=C.collapse=="right"?C.end:C.start,C}function Hi(e,t){return t&&(e.bad=!0),e}function Uo(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return Hi(e.clipPos(o(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var a=e.display.view[i];if(a.node==n)return gl(a,t,r)}}function gl(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!le(n,t))return Hi(o(Q(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var a=e.rest?ye(e.rest):e.line;return Hi(o(Q(a),a.text.length),i)}var b=t.nodeType==3?t:null,C=t;for(b||t.childNodes.length!=1||t.firstChild.nodeType!=3||(b=t.firstChild,r&&(r=b.nodeValue.length));C.parentNode!=n;)C=C.parentNode;var M=e.measure,T=M.maps;function K(fe,Se,Be){for(var Ne=-1;Ne<(T?T.length:0);Ne++)for(var Xe=Ne<0?M.map:T[Ne],Ve=0;Ve<Xe.length;Ve+=3){var Ge=Xe[Ve+2];if(Ge==fe||Ge==Se){var Ct=Q(Ne<0?e.line:e.rest[Ne]),gt=Xe[Ve]+Be;return(Be<0||Ge!=fe)&&(gt=Xe[Ve+(Be?1:0)]),o(Ct,gt)}}}var G=K(b,C,r);if(G)return Hi(G,i);for(var ae=C.nextSibling,re=b?b.nodeValue.length-r:0;ae;ae=ae.nextSibling){if(G=K(ae,ae.firstChild,0))return Hi(o(G.line,G.ch-re),i);re+=ae.textContent.length}for(var ve=C.previousSibling,we=r;ve;ve=ve.previousSibling){if(G=K(ve,ve.firstChild,-1))return Hi(o(G.line,G.ch+we),i);we+=ve.textContent.length}}bn.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function a(C){for(var M=C.target;M;M=M.parentNode){if(M==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(M.className))break}return!1}function b(C){if(a(C)&&!Dt(n,C)){if(n.somethingSelected())qo({lineWise:!1,text:n.getSelections()}),C.type=="cut"&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var M=Ms(n);qo({lineWise:!0,text:M.text}),C.type=="cut"&&n.operation(function(){n.setSelections(M.ranges,0,_e),n.replaceSelection("",null,"cut")})}if(C.clipboardData){C.clipboardData.clearData();var T=Pr.text.join(`
`);if(C.clipboardData.setData("Text",T),C.clipboardData.getData("Text")==T)return void C.preventDefault()}var K=Es(),G=K.firstChild;n.display.lineSpace.insertBefore(K,n.display.lineSpace.firstChild),G.value=Pr.text.join(`
`);var ae=document.activeElement;te(G),setTimeout(function(){n.display.lineSpace.removeChild(K),ae.focus(),ae==i&&r.showPrimarySelection()},50)}}Ts(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),Le(i,"paste",function(C){!a(C)||Dt(n,C)||_s(C,n)||x<=11&&setTimeout(Gn(n,function(){return t.updateFromDOM()}),20)}),Le(i,"compositionstart",function(C){t.composing={data:C.data,done:!1}}),Le(i,"compositionupdate",function(C){t.composing||(t.composing={data:C.data,done:!1})}),Le(i,"compositionend",function(C){t.composing&&(C.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),Le(i,"touchstart",function(){return r.forceCompositionEnd()}),Le(i,"input",function(){t.composing||t.readFromDOMSoon()}),Le(i,"copy",b),Le(i,"cut",b)},bn.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},bn.prototype.prepareSelection=function(){var e=Vn(this.cm,!1);return e.focus=document.activeElement==this.div,e},bn.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},bn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},bn.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var a=Uo(t,e.anchorNode,e.anchorOffset),b=Uo(t,e.focusNode,e.focusOffset);if(!a||a.bad||!b||b.bad||$(Oe(a,b),n)!=0||$(xe(a,b),i)!=0){var C=t.display.view,M=n.line>=t.display.viewFrom&&Ns(t,n)||{node:C[0].measure.map[2],offset:0},T=i.line<t.display.viewTo&&Ns(t,i);if(!T){var K=C[C.length-1].measure,G=K.maps?K.maps[K.maps.length-1]:K.map;T={node:G[G.length-1],offset:G[G.length-2]-G[G.length-3]}}if(M&&T){var ae,re=e.rangeCount&&e.getRangeAt(0);try{ae=ne(M.node,M.offset,T.offset,T.node)}catch(ve){}ae&&(!u&&t.state.focused?(e.collapse(M.node,M.offset),ae.collapsed||(e.removeAllRanges(),e.addRange(ae))):(e.removeAllRanges(),e.addRange(ae)),re&&e.anchorNode==null?e.addRange(re):u&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},bn.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},bn.prototype.showMultipleSelections=function(e){Z(this.cm.display.cursorDiv,e.cursors),Z(this.cm.display.selectionDiv,e.selection)},bn.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},bn.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return le(this.div,t)},bn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},bn.prototype.blur=function(){this.div.blur()},bn.prototype.getField=function(){return this.div},bn.prototype.supportsTouch=function(){return!0},bn.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():ur(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},bn.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},bn.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(E&&g&&this.cm.display.gutterSpecs.length&&function(i){for(var a=i;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Uo(t,e.anchorNode,e.anchorOffset),n=Uo(t,e.focusNode,e.focusOffset);r&&n&&ur(t,function(){Kn(t.doc,ei(r,n),_e),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},bn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,a=n.doc.sel.primary(),b=a.from(),C=a.to();if(b.ch==0&&b.line>n.firstLine()&&(b=o(b.line-1,vt(n.doc,b.line-1).length)),C.ch==vt(n.doc,C.line).text.length&&C.line<n.lastLine()&&(C=o(C.line+1,0)),b.line<i.viewFrom||C.line>i.viewTo-1)return!1;b.line==i.viewFrom||(e=_t(n,b.line))==0?(t=Q(i.view[0].line),r=i.view[0].node):(t=Q(i.view[e].line),r=i.view[e-1].node.nextSibling);var M,T,K=_t(n,C.line);if(K==i.view.length-1?(M=i.viewTo-1,T=i.lineDiv.lastChild):(M=Q(i.view[K+1].line)-1,T=i.view[K+1].node.previousSibling),!r)return!1;for(var G=n.doc.splitLines(function(Ct,gt,on,Lt,Yt){var On="",en=!1,ln=Ct.doc.lineSeparator(),tn=!1;function Ut(zt){return function(pn){return pn.id==zt}}function fn(){en&&(On+=ln,tn&&(On+=ln),en=tn=!1)}function Kt(zt){zt&&(fn(),On+=zt)}function nn(zt){if(zt.nodeType==1){var pn=zt.getAttribute("cm-text");if(pn)return void Kt(pn);var Nn,Mn=zt.getAttribute("cm-marker");if(Mn){var Jn=Ct.findMarks(o(Lt,0),o(Yt+1,0),Ut(+Mn));return void(Jn.length&&(Nn=Jn[0].find(0))&&Kt(kr(Ct.doc,Nn.from,Nn.to).join(ln)))}if(zt.getAttribute("contenteditable")=="false")return;var er=/^(pre|div|p|li|table|br)$/i.test(zt.nodeName);if(!/^br$/i.test(zt.nodeName)&&zt.textContent.length==0)return;er&&fn();for(var kn=0;kn<zt.childNodes.length;kn++)nn(zt.childNodes[kn]);/^(pre|p)$/i.test(zt.nodeName)&&(tn=!0),er&&(en=!0)}else zt.nodeType==3&&Kt(zt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;nn(gt),gt!=on;)gt=gt.nextSibling,tn=!1;return On}(n,r,T,t,M)),ae=kr(n.doc,o(t,0),o(M,vt(n.doc,M).text.length));G.length>1&&ae.length>1;)if(ye(G)==ye(ae))G.pop(),ae.pop(),M--;else{if(G[0]!=ae[0])break;G.shift(),ae.shift(),t++}for(var re=0,ve=0,we=G[0],fe=ae[0],Se=Math.min(we.length,fe.length);re<Se&&we.charCodeAt(re)==fe.charCodeAt(re);)++re;for(var Be=ye(G),Ne=ye(ae),Xe=Math.min(Be.length-(G.length==1?re:0),Ne.length-(ae.length==1?re:0));ve<Xe&&Be.charCodeAt(Be.length-ve-1)==Ne.charCodeAt(Ne.length-ve-1);)++ve;if(G.length==1&&ae.length==1&&t==b.line)for(;re&&re>b.ch&&Be.charCodeAt(Be.length-ve-1)==Ne.charCodeAt(Ne.length-ve-1);)re--,ve++;G[G.length-1]=Be.slice(0,Be.length-ve).replace(/^\u200b+/,""),G[0]=G[0].slice(re).replace(/\u200b+$/,"");var Ve=o(t,re),Ge=o(M,ae.length?ye(ae).length-ve:0);return G.length>1||G[0]||$(Ve,Ge)?(Ii(n.doc,G,Ve,Ge,"+input"),!0):void 0},bn.prototype.ensurePolled=function(){this.forceCompositionEnd()},bn.prototype.reset=function(){this.forceCompositionEnd()},bn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},bn.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},bn.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||ur(this.cm,function(){return Et(e.cm)})},bn.prototype.setUneditable=function(e){e.contentEditable="false"},bn.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Gn(this.cm,ma)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},bn.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},bn.prototype.onContextMenu=function(){},bn.prototype.resetPosition=function(){},bn.prototype.needsContentAttribute=!0;var Rn=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ke,this.hasSelection=!1,this.composing=null};Rn.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function a(b){if(!Dt(n,b)){if(n.somethingSelected())qo({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var C=Ms(n);qo({lineWise:!0,text:C.text}),b.type=="cut"?n.setSelections(C.ranges,null,_e):(r.prevInput="",i.value=C.text.join(`
`),te(i))}b.type=="cut"&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),j&&(i.style.width="0px"),Le(i,"input",function(){m&&x>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),Le(i,"paste",function(b){Dt(n,b)||_s(b,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())}),Le(i,"cut",a),Le(i,"copy",a),Le(e.scroller,"paste",function(b){if(!or(e,b)&&!Dt(n,b)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var C=new Event("paste");C.clipboardData=b.clipboardData,i.dispatchEvent(C)}}),Le(e.lineSpace,"selectstart",function(b){or(e,b)||Cn(b)}),Le(i,"compositionstart",function(){var b=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:b,range:n.markText(b,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Le(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},Rn.prototype.createField=function(e){this.wrapper=Es(),this.textarea=this.wrapper.firstChild},Rn.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Rn.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Vn(e);if(e.options.moveInputWithCursor){var i=ar(e,r.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),b=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+b.top-a.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+b.left-a.left))}return n},Rn.prototype.showSelection=function(e){var t=this.cm.display;Z(t.cursorDiv,e.cursors),Z(t.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Rn.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&te(this.textarea),m&&x>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",m&&x>=9&&(this.hasSelection=null))}},Rn.prototype.getField=function(){return this.textarea},Rn.prototype.supportsTouch=function(){return!1},Rn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!L||ue()!=this.textarea))try{this.textarea.focus()}catch(e){}},Rn.prototype.blur=function(){this.textarea.blur()},Rn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Rn.prototype.receivedFocus=function(){this.slowPoll()},Rn.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Rn.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))})},Rn.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||br(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(m&&x>=9&&this.hasSelection===i||W&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var a=i.charCodeAt(0);if(a!=8203||n||(n="\u200B"),a==8666)return this.reset(),this.cm.execCommand("undo")}for(var b=0,C=Math.min(n.length,i.length);b<C&&n.charCodeAt(b)==i.charCodeAt(b);)++b;return ur(t,function(){ma(t,i.slice(b),n.length-b,null,e.composing?"*compose":null),i.length>1e3||i.indexOf(`
`)>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Rn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Rn.prototype.onKeyPress=function(){m&&x>=9&&(this.hasSelection=null),this.fastPoll()},Rn.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var a=lr(r,e),b=n.scroller.scrollTop;if(a&&!d){r.options.resetSelectionOnContextMenu&&r.doc.sel.contains(a)==-1&&Gn(r,Kn)(r.doc,ei(a),_e);var C,M=i.style.cssText,T=t.wrapper.style.cssText,K=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-K.top-5)+"px; left: "+(e.clientX-K.left-5)+`px;
      z-index: 1000; background: `+(m?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,f&&(C=window.scrollY),n.input.focus(),f&&window.scrollTo(null,C),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=re,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),m&&x>=9&&ae(),D){Dn(e);var G=function(){st(window,"mouseup",G),setTimeout(re,20)};Le(window,"mouseup",G)}else setTimeout(re,50)}function ae(){if(i.selectionStart!=null){var ve=r.somethingSelected(),we="\u200B"+(ve?i.value:"");i.value="\u21DA",i.value=we,t.prevInput=ve?"":"\u200B",i.selectionStart=1,i.selectionEnd=we.length,n.selForContextMenu=r.doc.sel}}function re(){if(t.contextMenuPending==re&&(t.contextMenuPending=!1,t.wrapper.style.cssText=T,i.style.cssText=M,m&&x<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=b),i.selectionStart!=null)){(!m||m&&x<9)&&ae();var ve=0,we=function(){n.selForContextMenu==r.doc.sel&&i.selectionStart==0&&i.selectionEnd>0&&t.prevInput=="\u200B"?Gn(r,Xa)(r):ve++<10?n.detectingSelectAll=setTimeout(we,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(we,200)}}},Rn.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},Rn.prototype.setUneditable=function(){},Rn.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(n,i,a,b){e.defaults[n]=i,a&&(t[n]=b?function(C,M,T){T!=zi&&a(C,M,T)}:a)}e.defineOption=r,e.Init=zi,r("value","",function(n,i){return n.setValue(i)},!0),r("mode",null,function(n,i){n.doc.modeOption=i,ia(n)},!0),r("indentUnit",2,ia,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){lo(n),Xr(n),Et(n)},!0),r("lineSeparator",null,function(n,i){if(n.doc.lineSep=i,i){var a=[],b=n.doc.first;n.doc.iter(function(M){for(var T=0;;){var K=M.text.indexOf(i,T);if(K==-1)break;T=K+i.length,a.push(o(b,K))}b++});for(var C=a.length-1;C>=0;C--)Ii(n.doc,i,a[C],o(a[C].line,a[C].ch+i.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(n,i,a){n.state.specialChars=new RegExp(i.source+(i.test("	")?"":"|	"),"g"),a!=zi&&n.refresh()}),r("specialCharPlaceholder",Ui,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",L?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,i){return n.getInputField().spellcheck=i},!0),r("autocorrect",!1,function(n,i){return n.getInputField().autocorrect=i},!0),r("autocapitalize",!1,function(n,i){return n.getInputField().autocapitalize=i},!0),r("rtlMoveVisually",!z),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){Cs(n),so(n)},!0),r("keyMap","default",function(n,i,a){var b=Ho(i),C=a!=zi&&Ho(a);C&&C.detach&&C.detach(n,b),b.attach&&b.attach(n,C||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,hl,!0),r("gutters",[],function(n,i){n.display.gutterSpecs=na(i,n.options.lineNumbers),so(n)},!0),r("fixedGutter",!0,function(n,i){n.display.gutters.style.left=i?An(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return Ei(n)},!0),r("scrollbarStyle","native",function(n){Aa(n),Ei(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,i){n.display.gutterSpecs=na(n.options.gutters,i),so(n)},!0),r("firstLineNumber",1,so,!0),r("lineNumberFormatter",function(n){return n},so,!0),r("showCursorWhenSelecting",!1,Bn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,i){i=="nocursor"&&(Mi(n),n.display.input.blur()),n.display.input.readOnlyChanged(i)}),r("screenReaderLabel",null,function(n,i){i=i===""?null:i,n.display.input.screenReaderLabelChanged(i)}),r("disableInput",!1,function(n,i){i||n.display.input.reset()},!0),r("dragDrop",!0,pl),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,Bn,!0),r("singleCursorHeightPerLine",!0,Bn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,lo,!0),r("addModeClass",!1,lo,!0),r("pollInterval",100),r("undoDepth",200,function(n,i){return n.doc.history.undoDepth=i}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,lo,!0),r("moveInputWithCursor",!0,function(n,i){i||n.display.input.resetPosition()}),r("tabindex",null,function(n,i){return n.display.input.getField().tabIndex=i||""}),r("autofocus",null),r("direction","ltr",function(n,i){return n.doc.setDirection(i)},!0),r("phrases",null)}(Ln),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,i){var a=this.options,b=a[n];a[n]==i&&n!="mode"||(a[n]=i,t.hasOwnProperty(n)&&Gn(this,t[n])(this,i,b),lt(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,i){this.state.keyMaps[i?"push":"unshift"](Ho(n))},removeKeyMap:function(n){for(var i=this.state.keyMaps,a=0;a<i.length;++a)if(i[a]==n||i[a].name==n)return i.splice(a,1),!0},addOverlay:Xn(function(n,i){var a=n.token?n:e.getMode(this.options,n);if(a.startState)throw new Error("Overlays may not be stateful.");!function(b,C,M){for(var T=0,K=M(C);T<b.length&&M(b[T])<=K;)T++;b.splice(T,0,C)}(this.state.overlays,{mode:a,modeSpec:n,opaque:i&&i.opaque,priority:i&&i.priority||0},function(b){return b.priority}),this.state.modeGen++,Et(this)}),removeOverlay:Xn(function(n){for(var i=this.state.overlays,a=0;a<i.length;++a){var b=i[a].modeSpec;if(b==n||typeof n=="string"&&b.name==n)return i.splice(a,1),this.state.modeGen++,void Et(this)}}),indentLine:Xn(function(n,i,a){typeof i!="string"&&typeof i!="number"&&(i=i==null?this.options.smartIndent?"smart":"prev":i?"add":"subtract"),rt(this.doc,n)&&ko(this,n,i,a)}),indentSelection:Xn(function(n){for(var i=this.doc.sel.ranges,a=-1,b=0;b<i.length;b++){var C=i[b];if(C.empty())C.head.line>a&&(ko(this,C.head.line,n,!0),a=C.head.line,b==this.doc.sel.primIndex&&Ti(this));else{var M=C.from(),T=C.to(),K=Math.max(a,M.line);a=Math.min(this.lastLine(),T.line-(T.ch?0:1))+1;for(var G=K;G<a;++G)ko(this,G,n);var ae=this.doc.sel.ranges;M.ch==0&&i.length==ae.length&&ae[b].from().ch>0&&la(this.doc,b,new mn(M,ae[b].to()),_e)}}}),getTokenAt:function(n,i){return ot(this,n,i)},getLineTokens:function(n,i){return ot(this,o(n),i,!0)},getTokenTypeAt:function(n){n=Te(this.doc,n);var i,a=Fe(this,vt(this.doc,n.line)),b=0,C=(a.length-1)/2,M=n.ch;if(M==0)i=a[2];else for(;;){var T=b+C>>1;if((T?a[2*T-1]:0)>=M)C=T;else{if(!(a[2*T+1]<M)){i=a[2*T+2];break}b=T+1}}var K=i?i.indexOf("overlay "):-1;return K<0?i:K==0?null:i.slice(0,K-1)},getModeAt:function(n){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(n).state).mode:i},getHelper:function(n,i){return this.getHelpers(n,i)[0]},getHelpers:function(n,i){var a=[];if(!r.hasOwnProperty(i))return a;var b=r[i],C=this.getModeAt(n);if(typeof C[i]=="string")b[C[i]]&&a.push(b[C[i]]);else if(C[i])for(var M=0;M<C[i].length;M++){var T=b[C[i][M]];T&&a.push(T)}else C.helperType&&b[C.helperType]?a.push(b[C.helperType]):b[C.name]&&a.push(b[C.name]);for(var K=0;K<b._global.length;K++){var G=b._global[K];G.pred(C,this)&&oe(a,G.val)==-1&&a.push(G.val)}return a},getStateAfter:function(n,i){var a=this.doc;return We(this,(n=He(a,n??a.first+a.size-1))+1,i).state},cursorCoords:function(n,i){var a=this.doc.sel.primary();return ar(this,n==null?a.head:typeof n=="object"?Te(this.doc,n):n?a.from():a.to(),i||"page")},charCoords:function(n,i){return hi(this,Te(this.doc,n),i||"page")},coordsChar:function(n,i){return At(this,(n=_o(this,n,i||"page")).left,n.top)},lineAtHeight:function(n,i){return n=_o(this,{top:n,left:0},i||"page").top,tt(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,i,a){var b,C=!1;if(typeof n=="number"){var M=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>M&&(n=M,C=!0),b=vt(this.doc,n)}else b=n;return Qr(this,b,{top:0,left:0},i||"page",a||C).top+(C?this.doc.height-Ft(b):0)},defaultTextHeight:function(){return sr(this.display)},defaultCharWidth:function(){return In(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,i,a,b,C){var M,T,K,G=this.display,ae=(n=ar(this,Te(this.doc,n))).bottom,re=n.left;if(i.style.position="absolute",i.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(i),G.sizer.appendChild(i),b=="over")ae=n.top;else if(b=="above"||b=="near"){var ve=Math.max(G.wrapper.clientHeight,this.doc.height),we=Math.max(G.sizer.clientWidth,G.lineSpace.clientWidth);(b=="above"||n.bottom+i.offsetHeight>ve)&&n.top>i.offsetHeight?ae=n.top-i.offsetHeight:n.bottom+i.offsetHeight<=ve&&(ae=n.bottom),re+i.offsetWidth>we&&(re=we-i.offsetWidth)}i.style.top=ae+"px",i.style.left=i.style.right="",C=="right"?(re=G.sizer.clientWidth-i.offsetWidth,i.style.right="0px"):(C=="left"?re=0:C=="middle"&&(re=(G.sizer.clientWidth-i.offsetWidth)/2),i.style.left=re+"px"),a&&(M=this,T={left:re,top:ae,right:re+i.offsetWidth,bottom:ae+i.offsetHeight},(K=Ko(M,T)).scrollTop!=null&&ro(M,K.scrollTop),K.scrollLeft!=null&&gi(M,K.scrollLeft))},triggerOnKeyDown:Xn(bs),triggerOnKeyPress:Xn(xs),triggerOnKeyUp:ws,triggerOnMouseDown:Xn(ks),execCommand:function(n){if(yo.hasOwnProperty(n))return yo[n].call(null,this)},triggerElectric:Xn(function(n){As(this,n)}),findPosH:function(n,i,a,b){var C=1;i<0&&(C=-1,i=-i);for(var M=Te(this.doc,n),T=0;T<i&&!(M=va(this.doc,M,C,a,b)).hitSide;++T);return M},moveH:Xn(function(n,i){var a=this;this.extendSelectionsBy(function(b){return a.display.shift||a.doc.extend||b.empty()?va(a.doc,b.head,n,i,a.options.rtlMoveVisually):n<0?b.from():b.to()},Je)}),deleteH:Xn(function(n,i){var a=this.doc.sel,b=this.doc;a.somethingSelected()?b.replaceSelection("",null,"+delete"):Fi(this,function(C){var M=va(b,C.head,n,i,!1);return n<0?{from:M,to:C.head}:{from:C.head,to:M}})}),findPosV:function(n,i,a,b){var C=1,M=b;i<0&&(C=-1,i=-i);for(var T=Te(this.doc,n),K=0;K<i;++K){var G=ar(this,T,"div");if(M==null?M=G.left:G.left=M,(T=Ls(this,G,C,a)).hitSide)break}return T},moveV:Xn(function(n,i){var a=this,b=this.doc,C=[],M=!this.display.shift&&!b.extend&&b.sel.somethingSelected();if(b.extendSelectionsBy(function(K){if(M)return n<0?K.from():K.to();var G=ar(a,K.head,"div");K.goalColumn!=null&&(G.left=K.goalColumn),C.push(G.left);var ae=Ls(a,G,n,i);return i=="page"&&K==b.sel.primary()&&Jo(a,hi(a,ae,"div").top-G.top),ae},Je),C.length)for(var T=0;T<b.sel.ranges.length;T++)b.sel.ranges[T].goalColumn=C[T]}),findWordAt:function(n){var i=vt(this.doc,n.line).text,a=n.ch,b=n.ch;if(i){var C=this.getHelper(n,"wordChars");n.sticky!="before"&&b!=i.length||!a?++b:--a;for(var M=i.charAt(a),T=sn(M,C)?function(K){return sn(K,C)}:/\s/.test(M)?function(K){return/\s/.test(K)}:function(K){return!/\s/.test(K)&&!sn(K)};a>0&&T(i.charAt(a-1));)--a;for(;b<i.length&&T(i.charAt(b));)++b}return new mn(o(n.line,a),o(n.line,b))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ce(this.display.cursorDiv,"CodeMirror-overwrite"):Y(this.display.cursorDiv,"CodeMirror-overwrite"),lt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ue()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Xn(function(n,i){no(this,n,i)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-pr(this)-this.display.barHeight,width:n.scrollWidth-pr(this)-this.display.barWidth,clientHeight:Si(this),clientWidth:vr(this)}},scrollIntoView:Xn(function(n,i){n==null?(n={from:this.doc.sel.primary().head,to:null},i==null&&(i=this.options.cursorScrollMargin)):typeof n=="number"?n={from:o(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=i||0,n.from.line!=null?function(a,b){To(a),a.curOp.scrollToPos=b}(this,n):Sa(this,n.from,n.to,n.margin)}),setSize:Xn(function(n,i){var a=this,b=function(M){return typeof M=="number"||/^\d+$/.test(String(M))?M+"px":M};n!=null&&(this.display.wrapper.style.width=b(n)),i!=null&&(this.display.wrapper.style.height=b(i)),this.options.lineWrapping&&Qi(this);var C=this.display.viewFrom;this.doc.iter(C,this.display.viewTo,function(M){if(M.widgets){for(var T=0;T<M.widgets.length;T++)if(M.widgets[T].noHScroll){Qt(a,C,"widget");break}}++C}),this.curOp.forceUpdate=!0,lt(this,"refresh",this)}),operation:function(n){return ur(this,n)},startOperation:function(){return vi(this)},endOperation:function(){return yi(this)},refresh:Xn(function(){var n=this.display.cachedTextHeight;Et(this),this.curOp.forceUpdate=!0,Xr(this),no(this,this.doc.scrollLeft,this.doc.scrollTop),ea(this.display),(n==null||Math.abs(n-sr(this.display))>.5||this.options.lineWrapping)&&Sr(this),lt(this,"refresh",this)}),swapDoc:Xn(function(n){var i=this.doc;return i.cm=null,this.state.selectingText&&this.state.selectingText(),Fa(this,n),Xr(this),this.display.input.reset(),no(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,Hn(this,"swapDoc",this,i),i}),phrase:function(n){var i=this.options.phrases;return i&&Object.prototype.hasOwnProperty.call(i,n)?i[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},rn(e),e.registerHelper=function(n,i,a){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][i]=a},e.registerGlobalHelper=function(n,i,a,b){e.registerHelper(n,i,b),r[n]._global.push({pred:a,val:b})}}(Ln);var ml="iter insert remove copy getEditor constructor".split(" ");for(var Vo in Qn.prototype)Qn.prototype.hasOwnProperty(Vo)&&oe(ml,Vo)<0&&(Ln.prototype[Vo]=function(e){return function(){return e.apply(this.doc,arguments)}}(Qn.prototype[Vo]));return rn(Qn),Ln.inputStyles={textarea:Rn,contenteditable:bn},Ln.defineMode=function(e){Ln.defaults.mode||e=="null"||(Ln.defaults.mode=e),Dr.apply(this,arguments)},Ln.defineMIME=function(e,t){zn[e]=t},Ln.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ln.defineMIME("text/plain","null"),Ln.defineExtension=function(e,t){Ln.prototype[e]=t},Ln.defineDocExtension=function(e,t){Qn.prototype[e]=t},Ln.fromTextArea=function(e,t){if((t=t?me(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var r=ue();t.autofocus=r==e||e.getAttribute("autofocus")!=null&&r==document.body}function n(){e.value=C.getValue()}var i;if(e.form&&(Le(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var a=e.form;i=a.submit;try{var b=a.submit=function(){n(),a.submit=i,a.submit(),a.submit=b}}catch(M){}}t.finishInit=function(M){M.save=n,M.getTextArea=function(){return e},M.toTextArea=function(){M.toTextArea=isNaN,n(),e.parentNode.removeChild(M.getWrapperElement()),e.style.display="",e.form&&(st(e.form,"submit",n),t.leaveSubmitMethodAlone||typeof e.form.submit!="function"||(e.form.submit=i))}},e.style.display="none";var C=Ln(function(M){return e.parentNode.insertBefore(M,e.nextSibling)},t);return C},function(e){e.off=st,e.on=Le,e.wheelEventPixels=nl,e.Doc=Qn,e.splitLines=Br,e.countColumn=Pe,e.findColumn=ft,e.isWordChar=Ot,e.Pass=ce,e.signal=lt,e.Line=qt,e.changeEnd=ti,e.scrollbarModel=_a,e.Pos=o,e.cmpPos=$,e.modes=wr,e.mimeModes=zn,e.resolveMode=Ar,e.getMode=Ur,e.modeExtensions=xr,e.extendMode=Mr,e.copyState=dr,e.startState=Vr,e.innerMode=ai,e.commands=yo,e.keyMap=Hr,e.keyName=hs,e.isModifierKey=ds,e.lookupKey=$i,e.normalizeKeyMap=fl,e.StringStream=Tn,e.SharedTextMarker=go,e.TextMarker=ri,e.LineWidget=ho,e.e_preventDefault=Cn,e.e_stopPropagation=qn,e.e_stop=Dn,e.addClass=Ce,e.contains=le,e.rmClass=Y,e.keyNames=ii}(Ln),Ln.version="5.58.1",Ln}),F=function(h){"use strict";h.defineMode("javascript",function(w,u){var y,S,O=w.indentUnit,m=u.statementIndent,x=u.jsonld,f=u.json||x,p=u.typescript,g=u.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function B(he){return{type:he,style:"keyword"}}var Q=B("keyword a"),tt=B("keyword b"),rt=B("keyword c"),s=B("keyword d"),o=B("operator"),$={type:"atom",style:"atom"};return{if:B("if"),while:Q,with:Q,else:tt,do:tt,try:tt,finally:tt,return:s,break:s,continue:s,new:B("new"),delete:rt,void:rt,throw:rt,debugger:B("debugger"),var:B("var"),const:B("var"),let:B("var"),function:B("function"),catch:B("catch"),for:B("for"),switch:B("switch"),case:B("case"),default:B("default"),in:o,typeof:o,instanceof:o,true:$,false:$,null:$,undefined:$,NaN:$,Infinity:$,this:B("this"),class:B("class"),super:B("atom"),yield:rt,export:B("export"),import:B("import"),extends:rt,await:rt}}(),l=/[+\-*&%=<>!?|~^@]/,c=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function v(B,Q,tt){return y=B,S=tt,Q}function j(B,Q){var tt,rt=B.next();if(rt=='"'||rt=="'")return Q.tokenize=(tt=rt,function($,he){var Ae,xe=!1;if(x&&$.peek()=="@"&&$.match(c))return he.tokenize=j,v("jsonld-keyword","meta");for(;(Ae=$.next())!=null&&(Ae!=tt||xe);)xe=!xe&&Ae=="\\";return xe||(he.tokenize=j),v("string","string")}),Q.tokenize(B,Q);if(rt=="."&&B.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return v("number","number");if(rt=="."&&B.match(".."))return v("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(rt))return v(rt);if(rt=="="&&B.eat(">"))return v("=>","operator");if(rt=="0"&&B.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return v("number","number");if(/\d/.test(rt))return B.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),v("number","number");if(rt=="/")return B.eat("*")?(Q.tokenize=E,E(B,Q)):B.eat("/")?(B.skipToEnd(),v("comment","comment")):Gr(B,Q,1)?(function($){for(var he,Ae=!1,xe=!1;(he=$.next())!=null;){if(!Ae){if(he=="/"&&!xe)return;he=="["?xe=!0:xe&&he=="]"&&(xe=!1)}Ae=!Ae&&he=="\\"}}(B),B.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),v("regexp","string-2")):(B.eat("="),v("operator","operator",B.current()));if(rt=="`")return Q.tokenize=L,L(B,Q);if(rt=="#"&&B.peek()=="!")return B.skipToEnd(),v("meta","meta");if(rt=="#"&&B.eatWhile(g))return v("variable","property");if(rt=="<"&&B.match("!--")||rt=="-"&&B.match("->")&&!/\S/.test(B.string.slice(0,B.start)))return B.skipToEnd(),v("comment","comment");if(l.test(rt))return rt==">"&&Q.lexical&&Q.lexical.type==">"||(B.eat("=")?rt!="!"&&rt!="="||B.eat("="):/[<>*+\-|&?]/.test(rt)&&(B.eat(rt),rt==">"&&B.eat(rt))),rt=="?"&&B.eat(".")?v("."):v("operator","operator",B.current());if(g.test(rt)){B.eatWhile(g);var s=B.current();if(Q.lastType!="."){if(d.propertyIsEnumerable(s)){var o=d[s];return v(o.type,o.style,s)}if(s=="async"&&B.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return v("async","keyword",s)}return v("variable","variable",s)}}function E(B,Q){for(var tt,rt=!1;tt=B.next();){if(tt=="/"&&rt){Q.tokenize=j;break}rt=tt=="*"}return v("comment","comment")}function L(B,Q){for(var tt,rt=!1;(tt=B.next())!=null;){if(!rt&&(tt=="`"||tt=="$"&&B.eat("{"))){Q.tokenize=j;break}rt=!rt&&tt=="\\"}return v("quasi","string-2",B.current())}function W(B,Q){Q.fatArrowAt&&(Q.fatArrowAt=null);var tt=B.string.indexOf("=>",B.start);if(!(tt<0)){if(p){var rt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(B.string.slice(B.start,tt));rt&&(tt=rt.index)}for(var s=0,o=!1,$=tt-1;$>=0;--$){var he=B.string.charAt($),Ae="([{}])".indexOf(he);if(Ae>=0&&Ae<3){if(!s){++$;break}if(--s==0){he=="("&&(o=!0);break}}else if(Ae>=3&&Ae<6)++s;else if(g.test(he))o=!0;else if(/["'\/`]/.test(he))for(;;--$){if($==0)return;if(B.string.charAt($-1)==he&&B.string.charAt($-2)!="\\"){$--;break}}else if(o&&!s){++$;break}}o&&!s&&(Q.fatArrowAt=$)}}var V={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function z(B,Q,tt,rt,s,o){this.indented=B,this.column=Q,this.type=tt,this.prev=s,this.info=o,rt!=null&&(this.align=rt)}function I(B,Q){for(var tt=B.localVars;tt;tt=tt.next)if(tt.name==Q)return!0;for(var rt=B.context;rt;rt=rt.prev)for(tt=rt.vars;tt;tt=tt.next)if(tt.name==Q)return!0}var P={state:null,column:null,marked:null,cc:null};function D(){for(var B=arguments.length-1;B>=0;B--)P.cc.push(arguments[B])}function N(){return D.apply(null,arguments),!0}function ne(B,Q){for(var tt=Q;tt;tt=tt.next)if(tt.name==B)return!0;return!1}function Y(B){var Q=P.state;if(P.marked="def",Q.context){if(Q.lexical.info=="var"&&Q.context&&Q.context.block){var tt=ee(B,Q.context);if(tt!=null)return void(Q.context=tt)}else if(!ne(B,Q.localVars))return void(Q.localVars=new X(B,Q.localVars))}u.globalVars&&!ne(B,Q.globalVars)&&(Q.globalVars=new X(B,Q.globalVars))}function ee(B,Q){if(Q){if(Q.block){var tt=ee(B,Q.prev);return tt?tt==Q.prev?Q:new R(tt,Q.vars,!0):null}return ne(B,Q.vars)?Q:new R(Q.prev,new X(B,Q.vars),!1)}return null}function Z(B){return B=="public"||B=="private"||B=="protected"||B=="abstract"||B=="readonly"}function R(B,Q,tt){this.prev=B,this.vars=Q,this.block=tt}function X(B,Q){this.name=B,this.next=Q}var le=new X("this",new X("arguments",null));function ue(){P.state.context=new R(P.state.context,P.state.localVars,!1),P.state.localVars=le}function Ce(){P.state.context=new R(P.state.context,P.state.localVars,!0),P.state.localVars=null}function ie(){P.state.localVars=P.state.context.vars,P.state.context=P.state.context.prev}function te(B,Q){var tt=function(){var rt=P.state,s=rt.indented;if(rt.lexical.type=="stat")s=rt.lexical.indented;else for(var o=rt.lexical;o&&o.type==")"&&o.align;o=o.prev)s=o.indented;rt.lexical=new z(s,P.stream.column(),B,null,rt.lexical,Q)};return tt.lex=!0,tt}function se(){var B=P.state;B.lexical.prev&&(B.lexical.type==")"&&(B.indented=B.lexical.indented),B.lexical=B.lexical.prev)}function me(B){return function Q(tt){return tt==B?N():B==";"||tt=="}"||tt==")"||tt=="]"?D():N(Q)}}function Pe(B,Q){return B=="var"?N(te("vardef",Q),Cn,me(";"),se):B=="keyword a"?N(te("form"),_e,Pe,se):B=="keyword b"?N(te("form"),Pe,se):B=="keyword d"?P.stream.match(/^\s*$/,!1)?N():N(te("stat"),Je,me(";"),se):B=="debugger"?N(me(";")):B=="{"?N(te("}"),Ce,J,se,ie):B==";"?N():B=="if"?(P.state.lexical.info=="else"&&P.state.cc[P.state.cc.length-1]==se&&P.state.cc.pop()(),N(te("form"),_e,Pe,se,fr)):B=="function"?N(Un):B=="for"?N(te("form"),Wr,Pe,se):B=="class"||p&&Q=="interface"?(P.marked="keyword",N(te("form",B=="class"?B:Q),qr,se)):B=="variable"?p&&Q=="declare"?(P.marked="keyword",N(Pe)):p&&(Q=="module"||Q=="enum"||Q=="type")&&P.stream.match(/^\s*\w/,!1)?(P.marked="keyword",Q=="enum"?N(vt):Q=="type"?N(Br,me("operator"),Le,me(";")):N(te("form"),qn,me("{"),te("}"),J,se,se)):p&&Q=="namespace"?(P.marked="keyword",N(te("form"),oe,Pe,se)):p&&Q=="abstract"?(P.marked="keyword",N(Pe)):N(te("stat"),Ot):B=="switch"?N(te("form"),_e,me("{"),te("}","switch"),Ce,J,se,se,ie):B=="case"?N(oe,me(":")):B=="default"?N(me(":")):B=="catch"?N(te("form"),ue,Ke,Pe,se,ie):B=="export"?N(te("stat"),Ar,se):B=="import"?N(te("stat"),xr,se):B=="async"?N(Pe):Q=="@"?N(oe,Pe):D(te("stat"),oe,me(";"),se)}function Ke(B){if(B=="(")return N(br,me(")"))}function oe(B,Q){return Ee(B,Q,!1)}function ce(B,Q){return Ee(B,Q,!0)}function _e(B){return B!="("?D():N(te(")"),Je,me(")"),se)}function Ee(B,Q,tt){if(P.state.fatArrowAt==P.stream.start){var rt=tt?dt:ke;if(B=="(")return N(ue,te(")"),ge(br,")"),se,me("=>"),rt,ie);if(B=="variable")return D(ue,qn,me("=>"),rt,ie)}var s=tt?be:ft;return V.hasOwnProperty(B)?N(s):B=="function"?N(Un,s):B=="class"||p&&Q=="interface"?(P.marked="keyword",N(te("form"),qi,se)):B=="keyword c"||B=="async"?N(tt?ce:oe):B=="("?N(te(")"),Je,me(")"),se,s):B=="operator"||B=="spread"?N(tt?ce:oe):B=="["?N(te("]"),Tn,se,s):B=="{"?q(Vt,"}",null,s):B=="quasi"?D(je,s):B=="new"?N(function(o){return function($){return $=="."?N(o?pt:kt):$=="variable"&&p?N($n,o?be:ft):D(o?ce:oe)}}(tt)):B=="import"?N(oe):N()}function Je(B){return B.match(/[;\}\)\],]/)?D():D(oe)}function ft(B,Q){return B==","?N(Je):be(B,Q,!1)}function be(B,Q,tt){var rt=tt==0?ft:be,s=tt==0?oe:ce;return B=="=>"?N(ue,tt?dt:ke,ie):B=="operator"?/\+\+|--/.test(Q)||p&&Q=="!"?N(rt):p&&Q=="<"&&P.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?N(te(">"),ge(Le,">"),se,rt):Q=="?"?N(oe,me(":"),s):N(s):B=="quasi"?D(je,rt):B!=";"?B=="("?q(ce,")","call",rt):B=="."?N(sn,rt):B=="["?N(te("]"),Je,me("]"),se,rt):p&&Q=="as"?(P.marked="keyword",N(Le,rt)):B=="regexp"?(P.state.lastType=P.marked="operator",P.stream.backUp(P.stream.pos-P.stream.start-1),N(s)):void 0:void 0}function je(B,Q){return B!="quasi"?D():Q.slice(Q.length-2)!="${"?N(je):N(oe,ye)}function ye(B){if(B=="}")return P.marked="string-2",P.state.tokenize=L,N(je)}function ke(B){return W(P.stream,P.state),D(B=="{"?Pe:oe)}function dt(B){return W(P.stream,P.state),D(B=="{"?Pe:ce)}function kt(B,Q){if(Q=="target")return P.marked="keyword",N(ft)}function pt(B,Q){if(Q=="target")return P.marked="keyword",N(be)}function Ot(B){return B==":"?N(se,Pe):D(ft,me(";"),se)}function sn(B){if(B=="variable")return P.marked="property",N()}function Vt(B,Q){return B=="async"?(P.marked="property",N(Vt)):B=="variable"||P.style=="keyword"?(P.marked="property",Q=="get"||Q=="set"?N(Mt):(p&&P.state.fatArrowAt==P.stream.start&&(tt=P.stream.match(/^\s*:\s*/,!1))&&(P.state.fatArrowAt=P.stream.pos+tt[0].length),N(Me))):B=="number"||B=="string"?(P.marked=x?"property":P.style+" property",N(Me)):B=="jsonld-keyword"?N(Me):p&&Z(Q)?(P.marked="keyword",N(Vt)):B=="["?N(oe,U,me("]"),Me):B=="spread"?N(ce,Me):Q=="*"?(P.marked="keyword",N(Vt)):B==":"?D(Me):void 0;var tt}function Mt(B){return B!="variable"?D(Me):(P.marked="property",N(Un))}function Me(B){return B==":"?N(ce):B=="("?D(Un):void 0}function ge(B,Q,tt){function rt(s,o){if(tt?tt.indexOf(s)>-1:s==","){var $=P.state.lexical;return $.info=="call"&&($.pos=($.pos||0)+1),N(function(he,Ae){return he==Q||Ae==Q?D():D(B)},rt)}return s==Q||o==Q?N():tt&&tt.indexOf(";")>-1?D(B):N(me(Q))}return function(s,o){return s==Q||o==Q?N():D(B,rt)}}function q(B,Q,tt){for(var rt=3;rt<arguments.length;rt++)P.cc.push(arguments[rt]);return N(te(Q,tt),ge(B,Q),se)}function J(B){return B=="}"?N():D(Pe,J)}function U(B,Q){if(p){if(B==":")return N(Le);if(Q=="?")return N(U)}}function de(B,Q){if(p&&(B==":"||Q=="in"))return N(Le)}function nt(B){if(p&&B==":")return P.stream.match(/^\s*\w+\s+is\b/,!1)?N(oe,Re,Le):N(Le)}function Re(B,Q){if(Q=="is")return P.marked="keyword",N()}function Le(B,Q){return Q=="keyof"||Q=="typeof"||Q=="infer"?(P.marked="keyword",N(Q=="typeof"?ce:Le)):B=="variable"||Q=="void"?(P.marked="type",N(Dt)):Q=="|"||Q=="&"?N(Le):B=="string"||B=="number"||B=="atom"?N(Dt):B=="["?N(te("]"),ge(Le,"]",","),se,Dt):B=="{"?N(te("}"),ge(st,"}",",;"),se,Dt):B=="("?N(ge(lt,")"),Ue,Dt):B=="<"?N(ge(Le,">"),Le):void 0}function Ue(B){if(B=="=>")return N(Le)}function st(B,Q){return B=="variable"||P.style=="keyword"?(P.marked="property",N(st)):Q=="?"||B=="number"||B=="string"?N(st):B==":"?N(Le):B=="["?N(me("variable"),de,me("]"),st):B=="("?D(Fn,st):void 0}function lt(B,Q){return B=="variable"&&P.stream.match(/^\s*[?:]/,!1)||Q=="?"?N(lt):B==":"?N(Le):B=="spread"?N(lt):D(Le)}function Dt(B,Q){return Q=="<"?N(te(">"),ge(Le,">"),se,Dt):Q=="|"||B=="."||Q=="&"?N(Le):B=="["?N(Le,me("]"),Dt):Q=="extends"||Q=="implements"?(P.marked="keyword",N(Le)):Q=="?"?N(Le,me(":"),Le):void 0}function $n(B,Q){if(Q=="<")return N(te(">"),ge(Le,">"),se,Dt)}function wn(){return D(Le,rn)}function rn(B,Q){if(Q=="=")return N(Le)}function Cn(B,Q){return Q=="enum"?(P.marked="keyword",N(vt)):D(qn,U,Yn,ir)}function qn(B,Q){return p&&Z(Q)?(P.marked="keyword",N(qn)):B=="variable"?(Y(Q),N()):B=="spread"?N(qn):B=="["?q(Dn,"]"):B=="{"?q(rr,"}"):void 0}function rr(B,Q){return B!="variable"||P.stream.match(/^\s*:/,!1)?(B=="variable"&&(P.marked="property"),B=="spread"?N(qn):B=="}"?D():B=="["?N(oe,me("]"),me(":"),rr):N(me(":"),qn,Yn)):(Y(Q),N(Yn))}function Dn(){return D(qn,Yn)}function Yn(B,Q){if(Q=="=")return N(ce)}function ir(B){if(B==",")return N(Cn)}function fr(B,Q){if(B=="keyword b"&&Q=="else")return N(te("form","else"),Pe,se)}function Wr(B,Q){return Q=="await"?N(Wr):B=="("?N(te(")"),Bi,se):void 0}function Bi(B){return B=="var"?N(Cn,_r):B=="variable"?N(_r):D(_r)}function _r(B,Q){return B==")"?N():B==";"?N(_r):Q=="in"||Q=="of"?(P.marked="keyword",N(oe,_r)):D(oe,_r)}function Un(B,Q){return Q=="*"?(P.marked="keyword",N(Un)):B=="variable"?(Y(Q),N(Un)):B=="("?N(ue,te(")"),ge(br,")"),se,nt,Pe,ie):p&&Q=="<"?N(te(">"),ge(wn,">"),se,Un):void 0}function Fn(B,Q){return Q=="*"?(P.marked="keyword",N(Fn)):B=="variable"?(Y(Q),N(Fn)):B=="("?N(ue,te(")"),ge(br,")"),se,nt,ie):p&&Q=="<"?N(te(">"),ge(wn,">"),se,Fn):void 0}function Br(B,Q){return B=="keyword"||B=="variable"?(P.marked="type",N(Br)):Q=="<"?N(te(">"),ge(wn,">"),se):void 0}function br(B,Q){return Q=="@"&&N(oe,br),B=="spread"?N(br):p&&Z(Q)?(P.marked="keyword",N(br)):p&&B=="this"?N(U,Yn):D(qn,U,Yn)}function qi(B,Q){return B=="variable"?qr(B,Q):wr(B,Q)}function qr(B,Q){if(B=="variable")return Y(Q),N(wr)}function wr(B,Q){return Q=="<"?N(te(">"),ge(wn,">"),se,wr):Q=="extends"||Q=="implements"||p&&B==","?(Q=="implements"&&(P.marked="keyword"),N(p?Le:oe,wr)):B=="{"?N(te("}"),zn,se):void 0}function zn(B,Q){return B=="async"||B=="variable"&&(Q=="static"||Q=="get"||Q=="set"||p&&Z(Q))&&P.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(P.marked="keyword",N(zn)):B=="variable"||P.style=="keyword"?(P.marked="property",N(Dr,zn)):B=="number"||B=="string"?N(Dr,zn):B=="["?N(oe,U,me("]"),Dr,zn):Q=="*"?(P.marked="keyword",N(zn)):p&&B=="("?D(Fn,zn):B==";"||B==","?N(zn):B=="}"?N():Q=="@"?N(oe,zn):void 0}function Dr(B,Q){if(Q=="?")return N(Dr);if(B==":")return N(Le,Yn);if(Q=="=")return N(ce);var tt=P.state.lexical.prev;return D(tt&&tt.info=="interface"?Fn:Un)}function Ar(B,Q){return Q=="*"?(P.marked="keyword",N(Vr,me(";"))):Q=="default"?(P.marked="keyword",N(oe,me(";"))):B=="{"?N(ge(Ur,"}"),Vr,me(";")):D(Pe)}function Ur(B,Q){return Q=="as"?(P.marked="keyword",N(me("variable"))):B=="variable"?D(ce,Ur):void 0}function xr(B){return B=="string"?N():B=="("?D(oe):D(Mr,dr,Vr)}function Mr(B,Q){return B=="{"?q(Mr,"}"):(B=="variable"&&Y(Q),Q=="*"&&(P.marked="keyword"),N(ai))}function dr(B){if(B==",")return N(Mr,dr)}function ai(B,Q){if(Q=="as")return P.marked="keyword",N(Mr)}function Vr(B,Q){if(Q=="from")return P.marked="keyword",N(oe)}function Tn(B){return B=="]"?N():D(ge(ce,"]"))}function vt(){return D(te("form"),qn,me("{"),te("}"),ge(kr,"}"),se,se)}function kr(){return D(qn,Yn)}function Gr(B,Q,tt){return Q.tokenize==j&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Q.lastType)||Q.lastType=="quasi"&&/\{\s*$/.test(B.string.slice(0,B.pos-(tt||0)))}return ie.lex=!0,se.lex=!0,{startState:function(B){var Q={tokenize:j,lastType:"sof",cc:[],lexical:new z((B||0)-O,0,"block",!1),localVars:u.localVars,context:u.localVars&&new R(null,null,!1),indented:B||0};return u.globalVars&&typeof u.globalVars=="object"&&(Q.globalVars=u.globalVars),Q},token:function(B,Q){if(B.sol()&&(Q.lexical.hasOwnProperty("align")||(Q.lexical.align=!1),Q.indented=B.indentation(),W(B,Q)),Q.tokenize!=E&&B.eatSpace())return null;var tt=Q.tokenize(B,Q);return y=="comment"?tt:(Q.lastType=y!="operator"||S!="++"&&S!="--"?y:"incdec",function(rt,s,o,$,he){var Ae=rt.cc;for(P.state=rt,P.stream=he,P.marked=null,P.cc=Ae,P.style=s,rt.lexical.hasOwnProperty("align")||(rt.lexical.align=!0);;)if((Ae.length?Ae.pop():f?oe:Pe)(o,$)){for(;Ae.length&&Ae[Ae.length-1].lex;)Ae.pop()();return P.marked?P.marked:o=="variable"&&I(rt,$)?"variable-2":s}}(Q,tt,y,S,B))},indent:function(B,Q){if(B.tokenize==E)return h.Pass;if(B.tokenize!=j)return 0;var tt,rt=Q&&Q.charAt(0),s=B.lexical;if(!/^\s*else\b/.test(Q))for(var o=B.cc.length-1;o>=0;--o){var $=B.cc[o];if($==se)s=s.prev;else if($!=fr)break}for(;(s.type=="stat"||s.type=="form")&&(rt=="}"||(tt=B.cc[B.cc.length-1])&&(tt==ft||tt==be)&&!/^[,\.=+\-*:?[\(]/.test(Q));)s=s.prev;m&&s.type==")"&&s.prev.type=="stat"&&(s=s.prev);var he=s.type,Ae=rt==he;return he=="vardef"?s.indented+(B.lastType=="operator"||B.lastType==","?s.info.length+1:0):he=="form"&&rt=="{"?s.indented:he=="form"?s.indented+O:he=="stat"?s.indented+(function(xe,Oe){return xe.lastType=="operator"||xe.lastType==","||l.test(Oe.charAt(0))||/[,.]/.test(Oe.charAt(0))}(B,Q)?m||O:0):s.info!="switch"||Ae||u.doubleIndentSwitch==0?s.align?s.column+(Ae?0:1):s.indented+(Ae?0:O):s.indented+(/^(?:case|default)\b/.test(Q)?O:2*O)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:x,jsonMode:f,expressionAllowed:Gr,skipExpression:function(B){var Q=B.cc[B.cc.length-1];Q!=oe&&Q!=ce||B.cc.pop()}}}),h.registerHelper("wordChars","javascript",/[\w$]/),h.defineMIME("text/javascript","javascript"),h.defineMIME("text/ecmascript","javascript"),h.defineMIME("application/javascript","javascript"),h.defineMIME("application/x-javascript","javascript"),h.defineMIME("application/ecmascript","javascript"),h.defineMIME("application/json",{name:"javascript",json:!0}),h.defineMIME("application/x-json",{name:"javascript",json:!0}),h.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),h.defineMIME("text/typescript",{name:"javascript",typescript:!0}),h.defineMIME("application/typescript",{name:"javascript",typescript:!0})},typeof k=="object"&&typeof pe=="object"?F(H("../../lib/codemirror")):typeof A=="function"&&A.amd?A(["../../lib/codemirror"],F):F(_),Object.defineProperty(k,"__esModule",{value:!0}),k.default=_},{"../../lib/codemirror":void 0}],3:[function(H,pe,k){var _,F,A,h={Prism:H("/gen/prismjs.js").default},w=(pe=void 0,function(){let u=arguments[arguments.length-1];_=u(),w=void 0});w.amd=!0,F=this,A=function(){"use strict";let{tokenize:u,languages:y}=h.Prism||H("prismjs"),S={html:{open:({data:m})=>'<span class="token '+m+'">',close:()=>"</span>"}};function O(m,x,f){m.forEach(function(p){typeof p!="string"&&function(g,d,l){d(l,l+g.length,g.type),Array.isArray(g.content)&&O(g.content,d,l)}(p,x,f),f+=p.length})}return function(m){return{printer:S,ranges:function(x,f){return O(u(x,y[m]),f,0)}}}},typeof k=="object"&&pe!==void 0?pe.exports=A():typeof w=="function"&&w.amd?w(A):(F=F||self).hitextPrismjs=A(),Object.defineProperty(k,"__esModule",{value:!0}),k.default=_},{"/gen/prismjs.js":7,prismjs:8}],4:[function(H,pe,k){var _,F,A,h={},w=(pe=void 0,function(){let u=arguments[arguments.length-1];_=u(),w=void 0});w.amd=!0,F=this,A=function(){"use strict";var u={newLineLength:function(P,D){switch(P.charCodeAt(D)){default:return 0;case 10:return 1;case 13:return D+1<P.length&&P.charCodeAt(D+1)===10?2:1}}};let{newLineLength:y}=u,{newLineLength:S}=u,{newLineLength:O}=u;var m={lines:(P,D)=>{let N=1,ne=0;for(let Y=0;Y<P.length;Y++){let ee=y(P,Y);ee!==0&&(D(ne,Y+ee,N++),ne=Y+ee,Y+=ee-1)}D(ne,P.length,N++)},lineContents:(P,D)=>{let N=1,ne=0;for(let Y=0;Y<P.length;Y++){let ee=S(P,Y);ee!==0&&(D(ne,Y,N++),ne=Y+ee,Y+=ee-1)}D(ne,P.length,N++)},matches:function(P){if(P instanceof RegExp){let D=P.flags.indexOf("g")!==-1?P.flags:P.flags+"g",N=new RegExp(P,D);return function(ne,Y){let ee;for(;ee=N.exec(ne);)Y(ee.index,ee.index+ee[0].length)}}return P=String(P),function(D,N){let ne=-1;for(;ne=D.indexOf(P,ne+1),ne!==-1;)N(ne,ne+P.length)}},newlines:(P,D)=>{let N=1;for(let ne=0;ne<P.length;ne++){let Y=O(P,ne);Y!==0&&(D(ne,ne+Y,N++),ne+=Y-1)}}},x=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:h!==void 0?h:typeof self!="undefined"?self:{};function f(P){return p.call(null,P)}function p(P){let D=this===x?{}:this||{},N={};return Object.assign(N,D,P,{fork:p.bind(N),ranges:Object.assign({},D.ranges,P&&P.ranges)}),typeof N.createHook!="function"&&(N.createHook=ne=>ne()),N}var g={createPrinter:f,forkPrinter:p,forkPrinterSet:function P(D){let N=Object.assign({},this);for(let ne in D){let Y=D[ne];if(Y&&typeof Y=="object")if(hasOwnProperty.call(N,ne)){let ee=N[ne];N[ne]=ee&&typeof ee.fork=="function"?ee.fork(D[ne]):ee}else N[ne]=f(D[ne])}return N.fork=P.bind(N),N}},d=g.createPrinter();let{createPrinter:l}=g;var c=l({print:P=>P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")});let{forkPrinterSet:v}=g;var j=v.call({},{noop:d,html:c,tty:d}),E=function(P,D){let N=[];return D.forEach(({generate:ne,marker:Y})=>ne(P,(ee,Z,R)=>N.push({type:Y,start:ee,end:Z,data:R}))),N};let L=()=>"",W=function(){};function V(P,D){return typeof P=="function"?P:D||W}function z(P,D,N){let ne=(Y,ee)=>{let Z=D[ee||N]||j.noop;return function(R,X,le){let ue=V(le.print,be=>be),Ce=Object.assign(Object.defineProperties(Object.create(null),{offset:{get:()=>Ke},line:{get:()=>oe},column:{get:()=>ce},start:{get:()=>te.start},end:{get:()=>te.end},data:{get:()=>te.data}}),V(le.createContext)()),ie=[],te={start:0,end:R.length},se=le.ranges||{},me=[],Pe=1/0,Ke=0,oe=1,ce=1,_e="";_e+=V(le.open,L)(Ce),se=[].concat(Object.getOwnPropertyNames(se),Object.getOwnPropertySymbols(se)).reduce((be,je)=>{let ye=se[je];return typeof ye=="function"&&(se[je]=ye=le.createHook(ye)),ye&&(me.push(je),be[je]={open:V(ye.open,L),close:V(ye.close,L),print:V(ye.print,ue)}),be},{}),X=X.slice().sort((be,je)=>be.start-je.start||je.end-be.end||me.indexOf(be.type)-me.indexOf(je.type));let Ee=be=>se[(te=ie[be]).type].close(Ce)||"",Je=be=>{if(Ke!==be){let je=R.substring(Ke,be),ye=ie.length?se[ie[ie.length-1].type].print:ue;for(let ke=Ke;ke<be;ke++){let dt=R.charCodeAt(ke);dt===10||dt===13&&(ke>=R.length||R.charCodeAt(ke+1)!==10)?(oe++,ce=1):ce++}_e+=ye(je,Ce),Ke=be}},ft=be=>{for(;Pe<=be;){Je(Pe);for(let je=ie.length-1;je>=0&&ie[je].end===Pe;je--)_e+=Ee(je),ie.pop();Pe=1/0;for(let je=0;je<ie.length;je++)ie[je].end<Pe&&(Pe=ie[je].end)}};for(let be=0;be<X.length;be++){let je=X[be],ye=0;if(se.hasOwnProperty(je.type)!==!1&&!(je.start>je.end)&&Number.isFinite(je.start)&&Number.isFinite(je.end)){for(ft(je.start),Je(je.start),ye=0;ye<ie.length;ye++)if(ie[ye].end<je.end){for(let ke=ie.length-1;ke>=ye;ke--)_e+=Ee(ke);break}for(ie.splice(ye,0,je);ye<ie.length;ye++)_e+=se[(te=ie[ye]).type].open(Ce)||"";je.end<Pe&&(Pe=je.end)}}ft(R.length),Je(R.length);for(let be=ie.length-1;be>=0;be--)_e+=Ee(be);return _e+=V(le.close,L)(Ce)||"",_e}(Y,E(Y,P),Z)};return Object.assign(ne,{print:ne,generateRanges:Y=>E(Y,P),use(Y,ee){let Z=Symbol(Y.name),R=Y.ranges||Y,X=Array.isArray(R)?(le,ue)=>R.forEach(Ce=>ue(...Ce)):R;return typeof X!="function"?ne:(ee||(ee=Y.printer),ee?z(P.concat(function(le,ue){return{marker:le,generate:ue}}(Z,X)),D.fork(function(le,ue){let Ce={};for(let ie in ue)Ce[ie]={ranges:{[le]:ue[ie]}};return Ce}(Z,ee)),N):ne)},printer:Y=>z(P,D,Y)})}function I(P,D,N){let ne=z([],N||j,D);return Array.isArray(P)&&(ne=P.reduce((Y,ee)=>Array.isArray(ee)?Y.use(...ee):Y.use(ee),ne)),ne}return Object.assign(I,{gen:m,printer:Object.assign((...P)=>I().printer(...P),j),use:(...P)=>I().use(...P)})},typeof k=="object"&&pe!==void 0?pe.exports=A():typeof w=="function"&&w.amd?w(A):(F=F||self).hitext=A(),Object.defineProperty(k,"__esModule",{value:!0}),k.default=_},{}],5:[function(H,pe,k){pe=void 0;var _,F=function(){let A=arguments[arguments.length-1];_=A(),F=void 0};F.amd=!0,function(A,h){typeof k=="object"&&pe!==void 0?pe.exports=h():typeof F=="function"&&F.amd?F(h):(A=A||self).jora=h()}(this,function(){"use strict";var A="1.0.0-beta.5",h={version:A},w=Object.freeze({__proto__:null,version:A,default:h}),u=function(s,o){return s(o={exports:{}},o.exports),o.exports}(function(s,o){s.exports=function(){var $=function(_n,et,At={}){return _n.forEach(Rt=>At[Rt]=et),At},he=[2,5],Ae=[1,13],xe=[1,41],Oe=[1,18],He=[1,7],Te=[1,8],at=[1,10],Ze=[1,11],$e=[1,12],Ie=[1,19],Fe=[1,20],We=[1,21],Ye=[1,22],it=[1,23],Qe=[1,24],qe=[1,25],ot=[1,29],ut=[1,32],mt=[1,33],yt=[1,34],ht=[1,35],wt=[1,36],bt=[1,37],St=[1,42],xt=[1,43],jt=[1,40],wi=[5,18,56,59],Pn=[1,47],Ht=[1,55],Wt=[1,54],dn=[1,48],hn=[1,49],gn=[1,50],cn=[1,51],vn=[1,52],yn=[1,53],Tt=[1,56],It=[1,57],$t=[1,58],Gt=[1,59],an=[1,60],Ft=[1,61],Jt=[1,62],Xt=[1,63],qt=[1,64],un=[1,65],xn=[1,66],Zr=[5,9,14,15,17,18,19,22,23,24,44,45,46,47,48,49,50,54,56,58,59,60,61,62,63,64,72,73,76,77,80],Or=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,56,59,66,74,75,77],xi=[1,67],Ui=[1,68],Vi=[1,69],Gi=[1,70],ki=[1,71],Zi=[1,72],Yi=[1,73],Nt=[1,76],Ir=[5,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,59,60,61,62,63,64,66,74,75,77,84],Yr=[2,46],Hn=[1,82],So=[1,83],Ki=[2,48],Kr=[1,84],Oi=[1,86],Pt=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,59,60,61,62,63,64,66,74,75,77,84],ji=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,58,59,60,61,62,63,64,66,74,75,77,84],Rr=[1,93],Co=[1,94],si=[1,95],li=[1,111],ui=[1,110],Po=[1,116],Tr=[1,119],or=[1,120],$r=[1,121],Jr=[1,122],ci=[1,123],pr=[9,14,15,17,19,22,23,24,44,45,46,47,48,49,50,54,58,60,61,62,63,64,72,73,74,75,76],vr=[5,10,11,18,21,56,59,66,74,75,77],Si=[5,10,11,18,21,29,30,41,56,59,66,74,75,77],fi=[5,10,11,18,21,23,24,25,26,27,28,29,30,34,35,36,37,38,39,40,41,56,59,66,74,75,77],Fr=[56,66],Ci=[2,115],zr=[11,56],jn=[66,77],Er=[2,102],Ji=[2,103],di=[5,10,11,18,21,25,26,27,28,29,30,41,56,59,66,74,75,77],Xi=[5,10,11,18,21,25,26,27,28,29,30,34,35,40,41,56,59,66,74,75,77],pi=[5,10,11,18,21,25,26,27,28,29,30,34,35,36,37,38,39,40,41,56,59,66,74,75,77],Qi=[1,199],Xr=[1,201],eo=[59,66],to=[1,211],Pi=[2,109];let Qr={trace:function(..._n){this.DEBUG&&Jison.print(..._n)},yy:{},symbols_:{error:2,root:3,block:4,EOF:5,definitions:6,e:7,def:8,$:9,";":10,":":11,$ident:12,ident:13,IDENT:14,$IDENT:15,query:16,FUNCTION_START:17,FUNCTION_END:18,FUNCTION:19,sortingCompareList:20,"|":21,NOT:22,"-":23,"+":24,IN:25,HAS:26,NOTIN:27,HASNO:28,AND:29,OR:30,"*":31,"/":32,"%":33,"=":34,"!=":35,"<":36,"<=":37,">":38,">=":39,"~=":40,"?":41,queryRoot:42,relativePath:43,"@":44,"#":45,$$:46,STRING:47,NUMBER:48,REGEXP:49,LITERAL:50,template:51,object:52,array:53,"[":54,sliceNotation:55,"]":56,"method()":57,"(":58,")":59,".":60,".(":61,".[":62,"..":63,"..(":64,arguments:65,",":66,templateString:67,templateStart:68,templateTail:69,templateEnd:70,templateContinue:71,TEMPLATE:72,TPL_START:73,TPL_CONTINUE:74,TPL_END:75,"{":76,"}":77,properties:78,property:79,"...":80,arrayElements:81,arrayElement:82,sortingCompare:83,ORDER:84,sliceNotationComponent:85,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"$",10:";",11:":",14:"IDENT",15:"$IDENT",17:"FUNCTION_START",18:"FUNCTION_END",19:"FUNCTION",21:"|",22:"NOT",23:"-",24:"+",25:"IN",26:"HAS",27:"NOTIN",28:"HASNO",29:"AND",30:"OR",31:"*",32:"/",33:"%",34:"=",35:"!=",36:"<",37:"<=",38:">",39:">=",40:"~=",41:"?",44:"@",45:"#",46:"$$",47:"STRING",48:"NUMBER",49:"REGEXP",50:"LITERAL",54:"[",56:"]",58:"(",59:")",60:".",61:".(",62:".[",63:"..",64:"..(",66:",",72:"TEMPLATE",73:"TPL_START",74:"TPL_CONTINUE",75:"TPL_END",76:"{",77:"}",80:"...",84:"ORDER"},productions_:[0,[3,2],[4,2],[4,1],[4,1],[4,0],[6,1],[6,2],[8,2],[8,4],[8,2],[8,4],[13,1],[12,1],[7,1],[7,3],[7,2],[7,1],[7,3],[7,4],[7,2],[7,2],[7,2],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,5],[16,1],[16,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,3],[42,1],[42,1],[42,3],[42,4],[42,2],[42,2],[42,3],[42,3],[42,2],[42,2],[42,3],[43,3],[43,4],[43,4],[43,3],[43,3],[43,4],[43,4],[43,3],[43,3],[43,4],[57,3],[57,4],[57,3],[57,4],[65,1],[65,3],[51,1],[51,2],[69,1],[69,2],[69,2],[69,3],[67,1],[68,1],[71,1],[70,1],[52,2],[52,3],[52,4],[52,3],[52,4],[52,5],[78,1],[78,3],[79,1],[79,1],[79,1],[79,3],[79,3],[79,3],[79,3],[79,3],[79,5],[79,1],[79,2],[81,1],[81,3],[82,1],[82,1],[82,2],[53,2],[53,3],[53,4],[20,1],[20,3],[83,2],[55,1],[55,2],[55,2],[55,3],[85,1],[85,2]],performAction:function(_n,et,At,Rt,Zt,De,Sn){var ze=De.length-1;switch(Zt){case 1:return Rt.buildResult(De[ze-1]);case 2:this.$={type:"Block",definitions:De[ze-1],body:De[ze],range:this._$.range};break;case 3:this.$={type:"Block",definitions:De[ze],body:null,range:this._$.range};break;case 4:this.$={type:"Block",definitions:[],body:De[ze],range:this._$.range};break;case 5:this.$={type:"Block",definitions:[],body:null,range:this._$.range};break;case 6:case 82:case 84:case 100:case 113:case 121:this.$=[De[ze]];break;case 7:De[ze-1].push(De[ze]);break;case 8:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:Sn[ze-1].range},value:null,range:this._$.range};break;case 9:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:Sn[ze-3].range},value:De[ze-1],range:this._$.range};break;case 10:this.$={type:"Definition",declarator:{type:"Declarator",name:De[ze-1].name,range:Sn[ze-1].range},value:null,range:this._$.range};break;case 11:this.$={type:"Definition",declarator:{type:"Declarator",name:De[ze-3].name,range:Sn[ze-3].range},value:De[ze-1],range:this._$.range};break;case 12:case 13:this.$={type:"Identifier",name:De[ze],range:this._$.range};break;case 14:case 42:case 43:case 54:case 55:case 115:break;case 15:this.$={type:"Function",arguments:[],body:De[ze-1],legacy:!0,range:this._$.range};break;case 16:this.$={type:"Function",arguments:[],body:De[ze],legacy:!1,range:this._$.range};break;case 17:this.$={type:"SortingFunction",compares:De[ze],range:this._$.range};break;case 18:this.$={type:"Pipeline",left:De[ze-2],right:De[ze],range:this._$.range};break;case 19:this.$={type:"Pipeline",left:De[ze-3],right:{type:"Block",definitions:De[ze-1],body:De[ze]},range:this._$.range};break;case 20:case 21:case 22:this.$={type:"Unary",operator:De[ze-1],argument:De[ze],range:this._$.range};break;case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:this.$={type:"Binary",operator:De[ze-1],left:De[ze-2],right:De[ze],range:this._$.range};break;case 41:this.$={type:"Conditional",test:De[ze-4],consequent:De[ze-2],alternate:De[ze],range:this._$.range};break;case 44:this.$={type:"Data",range:this._$.range};break;case 45:this.$={type:"Context",range:this._$.range};break;case 46:this.$={type:"Current",range:this._$.range};break;case 47:this.$={type:"Arg1",range:this._$.range};break;case 48:this.$={type:"Reference",name:De[ze],range:this._$.range};break;case 49:case 50:case 51:case 52:case 90:case 91:case 92:case 93:this.$={type:"Literal",value:De[ze],range:this._$.range};break;case 53:this.$={type:"Template",values:De[ze],range:this._$.range};break;case 56:this.$={type:"SliceNotation",value:null,arguments:De[ze-1],range:this._$.range};break;case 57:case 61:this.$={type:"GetProperty",value:null,property:De[ze],range:this._$.range};break;case 58:case 62:this.$={type:"MethodCall",value:null,method:De[ze],range:this._$.range};break;case 59:this.$={type:"Parentheses",body:De[ze-1],range:this._$.range};break;case 60:this.$={type:"Parentheses",body:{type:"Block",definitions:De[ze-2],body:De[ze-1]},range:this._$.range};break;case 63:this.$={type:"Map",value:null,query:De[ze-1],range:this._$.range};break;case 64:this.$={type:"Filter",value:null,query:De[ze-1],range:this._$.range};break;case 65:this.$={type:"MapRecursive",value:null,query:{type:"GetProperty",value:null,property:De[ze]},range:this._$.range};break;case 66:this.$={type:"MapRecursive",value:null,query:{type:"MethodCall",value:null,method:De[ze]},range:this._$.range};break;case 67:this.$={type:"MapRecursive",value:null,query:De[ze-1],range:this._$.range};break;case 68:this.$={type:"Pick",value:De[ze-2],getter:null,range:this._$.range};break;case 69:this.$={type:"Pick",value:De[ze-3],getter:De[ze-1],range:this._$.range};break;case 70:this.$={type:"SliceNotation",value:De[ze-3],arguments:De[ze-1],range:this._$.range};break;case 71:this.$={type:"GetProperty",value:De[ze-2],property:De[ze],range:this._$.range};break;case 72:this.$={type:"MethodCall",value:De[ze-2],method:De[ze],range:this._$.range};break;case 73:this.$={type:"Map",value:De[ze-3],query:De[ze-1],range:this._$.range};break;case 74:this.$={type:"Filter",value:De[ze-3],query:De[ze-1],range:this._$.range};break;case 75:this.$={type:"MapRecursive",value:De[ze-2],query:{type:"GetProperty",value:null,property:De[ze]},range:this._$.range};break;case 76:this.$={type:"MapRecursive",value:De[ze-2],query:{type:"MethodCall",value:null,method:De[ze]},range:this._$.range};break;case 77:this.$={type:"MapRecursive",value:De[ze-3],query:De[ze-1],range:this._$.range};break;case 78:this.$={type:"Method",reference:De[ze-2],arguments:[],range:this._$.range};break;case 79:this.$={type:"Method",reference:De[ze-3],arguments:De[ze-1],range:this._$.range};break;case 80:this.$={type:"Method",reference:{type:"Reference",name:De[ze-2]},arguments:[],range:this._$.range};break;case 81:this.$={type:"Method",reference:{type:"Reference",name:De[ze-3]},arguments:De[ze-1],range:this._$.range};break;case 83:case 101:case 114:case 122:De[ze-2].push(De[ze]);break;case 85:this.$=[De[ze-1],...De[ze]];break;case 86:case 124:this.$=[null,De[ze]];break;case 87:case 126:this.$=[De[ze-1],De[ze]];break;case 88:this.$=[null,De[ze-1],...De[ze]];break;case 89:this.$=[De[ze-2],De[ze-1],...De[ze]];break;case 94:case 97:this.$={type:"Object",properties:[],range:this._$.range};break;case 95:this.$={type:"Object",properties:De[ze-1],range:this._$.range};break;case 96:this.$={type:"Object",properties:De[ze-2],range:this._$.range};break;case 98:this.$={type:"Block",definitions:De[ze-2],body:{type:"Object",properties:De[ze-1]},range:this._$.range};break;case 99:this.$={type:"Block",definitions:De[ze-3],body:{type:"Object",properties:De[ze-2]},range:this._$.range};break;case 102:this.$={type:"ObjectEntry",key:{type:"Current"},value:null,range:this._$.range};break;case 103:this.$={type:"ObjectEntry",key:{type:"Reference",name:De[ze]},value:null,range:this._$.range};break;case 104:this.$={type:"ObjectEntry",key:De[ze],value:null,range:this._$.range};break;case 105:this.$={type:"ObjectEntry",key:De[ze-2],value:De[ze],range:this._$.range};break;case 106:case 107:case 108:this.$={type:"ObjectEntry",key:{type:"Literal",value:De[ze-2]},value:De[ze],range:this._$.range};break;case 109:this.$={type:"ObjectEntry",key:{type:"Identifier",name:"$"+De[ze-2].name},value:De[ze],range:this._$.range};break;case 110:this.$={type:"ObjectEntry",key:De[ze-3],value:De[ze],range:this._$.range};break;case 111:this.$={type:"Spread",query:null,array:!1,range:this._$.range};break;case 112:this.$={type:"Spread",query:De[ze],array:!1,range:this._$.range};break;case 116:this.$={type:"Spread",query:null,array:!0,range:this._$.range};break;case 117:this.$={type:"Spread",query:De[ze],array:!0,range:this._$.range};break;case 118:this.$={type:"Array",elements:[],range:this._$.range};break;case 119:this.$={type:"Array",elements:De[ze-1],range:this._$.range};break;case 120:this.$={type:"Array",elements:De[ze-2],range:this._$.range};break;case 123:this.$={type:"Compare",query:De[ze-1],order:De[ze],range:this._$.range};break;case 125:this.$=[null,De[ze-1],De[ze]];break;case 127:this.$=[De[ze-2],De[ze-1],De[ze]];break;case 128:this.$=null;break;case 129:this.$=De[ze]}},table:[{3:1,4:2,5:he,6:3,7:4,8:5,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{1:[3]},{5:[1,44]},$(wi,[2,3],{16:6,20:9,12:14,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,7:45,8:46,9:Ae,14:xe,15:Oe,17:He,19:Te,22:at,23:Ze,24:$e,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,54:ot,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,72:St,73:xt,76:jt}),$(wi,[2,4],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(Zr,[2,6]),$(Or,[2,14],{54:xi,60:Ui,61:Vi,62:Gi,63:ki,64:Zi,84:Yi}),{4:74,6:3,7:4,8:5,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,18:he,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:75,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$([5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,56,59,74,75,77],[2,17],{66:[1,78]}),{7:79,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:80,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:81,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(Ir,Yr,{10:Hn,11:So}),$(Ir,Ki,{10:Kr,11:[1,85],58:Oi}),$(Pt,[2,42]),$(Pt,[2,43]),$(Or,[2,121]),$(ji,[2,13]),$(Pt,[2,44]),$(Pt,[2,45]),$(Pt,[2,47]),$(Pt,[2,49]),$(Pt,[2,50]),$(Pt,[2,51]),$(Pt,[2,52]),$(Pt,[2,53]),$(Pt,[2,54]),$(Pt,[2,55]),{7:91,9:Nt,11:Rr,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,55:87,56:[1,88],57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,80:Co,81:89,82:92,83:17,85:90},$(Pt,[2,57],{58:si}),$(Pt,[2,58]),{6:97,7:96,8:5,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{12:100,13:98,14:xe,15:Oe,57:99},{4:101,6:3,7:4,8:5,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,59:he,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{4:102,6:3,7:4,8:5,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,56:he,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{12:100,13:103,14:xe,15:Oe,57:104},{4:105,6:3,7:4,8:5,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,59:he,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(Pt,[2,84]),{7:108,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,69:106,70:107,71:109,72:St,73:xt,74:li,75:ui,76:jt,83:17},{6:114,8:5,9:Po,12:117,13:118,14:xe,15:Oe,47:Tr,48:or,50:$r,54:Jr,77:[1,112],78:113,79:115,80:ci},$(ji,[2,12]),$(Pt,[2,90]),$(pr,[2,91]),{1:[2,1]},$(wi,[2,2],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(Zr,[2,7]),{6:125,7:124,8:5,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:126,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:127,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:128,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:129,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:130,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:131,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:132,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:133,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:134,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:135,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:136,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:137,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:138,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:139,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:140,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:141,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:142,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:143,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:144,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:146,9:Nt,11:Rr,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,55:147,56:[1,145],57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17,85:90},{12:100,13:148,14:xe,15:Oe,57:149},{4:150,6:3,7:4,8:5,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,59:he,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{4:151,6:3,7:4,8:5,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,56:he,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{12:100,13:152,14:xe,15:Oe,57:153},{4:154,6:3,7:4,8:5,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,59:he,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(Or,[2,123]),{18:[1,155]},$(vr,[2,16],{23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(Pt,Yr),$(Pt,Ki,{58:Oi}),{9:Nt,12:77,13:30,14:xe,15:Oe,16:157,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:156},$(Si,[2,20],{23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un}),$(fi,[2,21],{31:Tt,32:It,33:$t}),$(fi,[2,22],{31:Tt,32:It,33:$t}),$(Zr,[2,8]),{7:158,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(Zr,[2,10]),{7:159,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:162,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,59:[1,160],60:mt,61:yt,62:ht,63:wt,64:bt,65:161,67:38,68:39,72:St,73:xt,76:jt,83:17},{56:[1,163]},$(Pt,[2,118]),{56:[1,164],66:[1,165]},{11:Rr,56:[2,124],85:166},$(Fr,Ci,{85:167,11:Rr,21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(Fr,[2,113]),$(zr,[2,128],{16:6,20:9,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,7:168,9:Nt,14:xe,15:Oe,17:He,19:Te,22:at,23:Ze,24:$e,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,54:ot,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,72:St,73:xt,76:jt}),$(Fr,[2,116],{16:6,20:9,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,7:169,9:Nt,14:xe,15:Oe,17:He,19:Te,22:at,23:Ze,24:$e,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,54:ot,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,72:St,73:xt,76:jt}),{7:162,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,59:[1,170],60:mt,61:yt,62:ht,63:wt,64:bt,65:171,67:38,68:39,72:St,73:xt,76:jt,83:17},{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn,59:[1,172]},{7:173,8:46,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(Pt,[2,61],{58:si}),$(Pt,[2,62]),{58:Oi},{59:[1,174]},{56:[1,175]},$(Pt,[2,65],{58:si}),$(Pt,[2,66]),{59:[1,176]},$(Pt,[2,85]),$(Pt,[2,86]),{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn,70:177,71:178,74:li,75:ui},{7:108,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,69:179,70:107,71:109,72:St,73:xt,74:li,75:ui,76:jt,83:17},$(Pt,[2,93]),$(pr,[2,92]),$(Pt,[2,94]),{66:[1,181],77:[1,180]},{8:46,9:Po,12:117,13:118,14:xe,15:Oe,47:Tr,48:or,50:$r,54:Jr,77:[1,182],78:183,79:115,80:ci},$(jn,[2,100]),$(jn,Er,{10:Hn,11:So}),$(jn,Ji,{10:Kr,11:[1,184]}),$(jn,[2,104],{11:[1,185]}),{11:[1,186]},{11:[1,187]},{11:[1,188]},{7:189,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(jn,[2,111],{42:15,43:16,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,16:190,9:Nt,14:xe,15:Oe,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,54:ot,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,72:St,73:xt,76:jt}),$(vr,[2,18],{23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),{7:191,8:46,9:Ae,12:14,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(di,[2,23],{23:Ht,24:Wt,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un}),$(di,[2,24],{23:Ht,24:Wt,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un}),$(di,[2,25],{23:Ht,24:Wt,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un}),$(di,[2,26],{23:Ht,24:Wt,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un}),$(Si,[2,27],{23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un}),$([5,10,11,18,21,30,41,56,59,66,74,75,77],[2,28],{23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un}),$(fi,[2,29],{31:Tt,32:It,33:$t}),$(fi,[2,30],{31:Tt,32:It,33:$t}),$(Or,[2,31]),$(Or,[2,32]),$(Or,[2,33]),$(Xi,[2,34],{23:Ht,24:Wt,31:Tt,32:It,33:$t,36:Ft,37:Jt,38:Xt,39:qt}),$(Xi,[2,35],{23:Ht,24:Wt,31:Tt,32:It,33:$t,36:Ft,37:Jt,38:Xt,39:qt}),$(pi,[2,36],{23:Ht,24:Wt,31:Tt,32:It,33:$t}),$(pi,[2,37],{23:Ht,24:Wt,31:Tt,32:It,33:$t}),$(pi,[2,38],{23:Ht,24:Wt,31:Tt,32:It,33:$t}),$(pi,[2,39],{23:Ht,24:Wt,31:Tt,32:It,33:$t}),$(Xi,[2,40],{23:Ht,24:Wt,31:Tt,32:It,33:$t,36:Ft,37:Jt,38:Xt,39:qt}),{11:[1,192],21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn},$(Pt,[2,68]),{11:Rr,21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn,56:[1,193],85:167},{56:[1,194]},$(Pt,[2,71],{58:si}),$(Pt,[2,72]),{59:[1,195]},{56:[1,196]},$(Pt,[2,75],{58:si}),$(Pt,[2,76]),{59:[1,197]},$(Or,[2,15]),$(Or,[2,122]),{54:xi,60:Ui,61:Vi,62:Gi,63:ki,64:Zi,84:Yi},{10:[1,198],21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn},{10:Qi,21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn},$(Pt,[2,80]),{59:[1,200],66:Xr},$(eo,[2,82],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(Pt,[2,56]),$(Pt,[2,119]),{7:204,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,56:[1,202],57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,80:Co,82:203,83:17},{56:[2,125]},{11:Rr,56:[2,126],85:205},$(zr,[2,129],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(Fr,[2,117],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(Pt,[2,78]),{59:[1,206],66:Xr},$(Pt,[2,59]),{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn,59:[1,207]},$(Pt,[2,63]),$(Pt,[2,64]),$(Pt,[2,67]),$(Pt,[2,87]),{7:108,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,69:208,70:107,71:109,72:St,73:xt,74:li,75:ui,76:jt,83:17},$(Pt,[2,88]),$(Pt,[2,95]),{9:to,12:212,13:118,14:xe,15:Oe,47:Tr,48:or,50:$r,54:Jr,77:[1,209],79:210,80:ci},$(Pt,[2,97]),{66:[1,214],77:[1,213]},{7:215,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:216,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:217,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:218,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{7:219,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn,56:[1,220]},$(jn,[2,112],{54:xi,60:Ui,61:Vi,62:Gi,63:ki,64:Zi}),$(vr,[2,19],{23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),{7:221,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(Pt,[2,69]),$(Pt,[2,70]),$(Pt,[2,73]),$(Pt,[2,74]),$(Pt,[2,77]),$(Zr,[2,9]),$(Zr,[2,11]),$(Pt,[2,81]),{7:222,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(Pt,[2,120]),$(Fr,[2,114]),$(Fr,Ci,{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),{56:[2,127]},$(Pt,[2,79]),$(Pt,[2,60]),$(Pt,[2,89]),$(Pt,[2,96]),$(jn,[2,101]),$(jn,Er),$(jn,Ji,{11:[1,223]}),$(Pt,[2,98]),{9:to,12:212,13:118,14:xe,15:Oe,47:Tr,48:or,50:$r,54:Jr,77:[1,224],79:210,80:ci},$(jn,Pi,{10:Qi,21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(jn,[2,105],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(jn,[2,106],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(jn,[2,107],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(jn,[2,108],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),{11:[1,225]},$(vr,[2,41],{23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(eo,[2,83],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),{7:226,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(Pt,[2,99]),{7:227,9:Nt,12:77,13:30,14:xe,15:Oe,16:6,17:He,19:Te,20:9,22:at,23:Ze,24:$e,42:15,43:16,44:Ie,45:Fe,46:We,47:Ye,48:it,49:Qe,50:qe,51:26,52:27,53:28,54:ot,57:31,58:ut,60:mt,61:yt,62:ht,63:wt,64:bt,67:38,68:39,72:St,73:xt,76:jt,83:17},$(jn,Pi,{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn}),$(jn,[2,110],{21:Pn,23:Ht,24:Wt,25:dn,26:hn,27:gn,28:cn,29:vn,30:yn,31:Tt,32:It,33:$t,34:Gt,35:an,36:Ft,37:Jt,38:Xt,39:qt,40:un,41:xn})],defaultActions:{44:[2,1],166:[2,125],205:[2,127]},parseError:function(_n,et){if(!et.recoverable){let At=new Error(_n);throw At.hash=et,At}this.trace(_n)},parse:function(_n,...et){let At=ct=>{In.length-=2*ct,yr.length-=ct,An.length-=ct},Rt=()=>{let ct=Zt.lex()||1;return typeof ct!="number"&&(ct=this.symbols_[ct]||ct),ct},Zt=Object.create(this.lexer),De=Zt.options&&Zt.options.ranges,Sn={...this.yy,parser:this,lexer:Zt};Zt.setInput(_n,Sn),typeof Sn.parseError=="function"&&(this.parseError=Sn.parseError),Zt.yylloc===void 0&&(Zt.yylloc={});let ze=this.table,jr={},sr=Zt.yylloc,In=[0],yr=[null],An=[sr],En,Sr,lr="",_t=0,Et=0,Qt=0;for(;;){let ct,Bt=In[In.length-1];if(this.defaultActions[Bt]?ct=this.defaultActions[Bt]:(En==null&&(En=Rt()),ct=ze[Bt]&&ze[Bt][En]),!ct||!ct[0]){let Wn,Bn="";if(!Qt){let Vn=[];for(let Lr in ze[Bt])Lr in this.terminals_&&Lr>2&&Vn.push("'"+this.terminals_[Lr]+"'");Bn=Zt.showPosition?"Parse error on line "+(_t+1)+`:
`+Zt.showPosition()+`
Expecting `+Vn.join(", ")+", got '"+(this.terminals_[En]||En)+"'":"Parse error on line "+(_t+1)+": Unexpected "+(En===1?"end of input":"'"+(this.terminals_[En]||En)+"'"),this.parseError(Bn,{text:Zt.match,token:this.terminals_[En]||En,line:Zt.yylineno,loc:sr,expected:Vn})}if(Qt===3){if(En===1||Sr===1)throw new Error(Bn||"Parsing halted while starting to recover from another error.");Et=Zt.yyleng,lr=Zt.yytext,_t=Zt.yylineno,sr=Zt.yylloc,En=Rt()}At(Wn),Sr=En==2?null:En,En=2,Bt=In[In.length-1],ct=ze[Bt]&&ze[Bt][2],Qt=3}if(Array.isArray(ct[0])&&ct.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Bt+", token: "+En);switch(ct[0]){case 1:In.push(En),yr.push(Zt.yytext),An.push(Zt.yylloc),In.push(ct[1]),En=null,Sr?(En=Sr,Sr=null):(Et=Zt.yyleng,lr=Zt.yytext,_t=Zt.yylineno,sr=Zt.yylloc,Qt>0&&Qt--);break;case 2:{let Wn=this.productions_[ct[1]][1];jr.$=yr[yr.length-Wn],jr._$={first_line:An[An.length-(Wn||1)].first_line,last_line:An[An.length-1].last_line,first_column:An[An.length-(Wn||1)].first_column,last_column:An[An.length-1].last_column},De&&(jr._$.range=[An[An.length-(Wn||1)].range[0],An[An.length-1].range[1]]);let Bn=this.performAction.call(jr,lr,Et,_t,Sn,ct[1],yr,An,...et);if(Bn!==void 0)return Bn;Wn&&At(Wn),In.push(this.productions_[ct[1]][0]),yr.push(jr.$),An.push(jr._$),In.push(ze[In[In.length-2]][In[In.length-1]]);break}case 3:return!0}}}};var _o=function(){var _n={options:{ranges:!0},performAction:function(et,At,Rt,Zt){switch(Rt){case 0:et.commentRanges.push(At.yylloc.range);break;case 1:break;case 2:return this.popState(),32;case 3:return this.popState(),36;case 4:this.done=!1,this.popState();break;case 5:{let De=At.yytext.endsWith("`")?"TEMPLATE":"TPL_START";return At.yytext=this.toStringLiteral(At.yytext,!0,1+(De!=="TEMPLATE")),De==="TEMPLATE"&&et.pps(),De}case 6:{let De=At.yytext.endsWith("`")?"TPL_END":"TPL_CONTINUE";return At.yytext=this.toStringLiteral(At.yytext,!0,1+(De!=="TPL_END")),this.popState(),De==="TPL_END"&&et.pps(),De}case 7:break;case 8:return 58;case 9:return et.pps(),59;case 10:return 54;case 11:return et.pps(),56;case 12:return 76;case 13:if(this.bracketStack[this.bracketStack.length-1]!=="TPL_END")return et.pps(),77;this.unput("}"),this.begin("template");break;case 14:return At.yytext=this.toLiteral(At.yytext),50;case 15:return 29;case 16:return 30;case 17:return 28;case 18:return 26;case 19:return 25;case 20:return 27;case 21:return 22;case 22:return 84;case 23:return et.pps(),At.yytext=Number(At.yytext),48;case 24:return et.pps(),At.yytext=parseInt(At.yytext,16),48;case 25:case 26:return et.pps(),At.yytext=this.toStringLiteral(At.yytext),47;case 27:return et.pps(),At.yytext=this.toRegExp(At.yytext),49;case 28:return et.pps(),At.yytext=this.ident(At.yytext),14;case 29:return et.pps(),At.yytext=this.ident(At.yytext.slice(1)),15;case 30:return et.pps(),44;case 31:return et.pps(),45;case 32:return et.pps(),46;case 33:return et.pps(),9;case 34:return 19;case 35:return this.fnOpened++,17;case 36:return 34;case 37:return 35;case 38:return 40;case 39:return 39;case 40:return 37;case 41:return 36;case 42:return this.fnOpened?(this.fnOpened--,18):38;case 43:return 64;case 44:return 61;case 45:return 62;case 46:return 80;case 47:return et.pps(),63;case 48:return et.pps(),60;case 49:return 41;case 50:return 66;case 51:return 11;case 52:return 10;case 53:return 23;case 54:return 24;case 55:return 31;case 56:return 32;case 57:return 33;case 58:return 21;case 59:return 5}},rules:[/^(?:\/\/.*?(?:\n|\r\n?|\u2028|\u2029|$)|\/\*(?:.|\s)*?(?:\*\/|$))/,/^\s+/,/^\//,/^<(?!=)/,/^/,(et,At)=>{if(et[0]!==(At==="template"?"}":"`"))return null;for(let Rt=1;Rt<et.length;Rt++){if(et[Rt]==="`")return Rt+1;if(et[Rt]==="$"&&et[Rt+1]==="{")return Rt+2;et[Rt]==="\\"&&Rt++}return null},(et,At)=>{if(et[0]!==(At==="template"?"}":"`"))return null;for(let Rt=1;Rt<et.length;Rt++){if(et[Rt]==="`")return Rt+1;if(et[Rt]==="$"&&et[Rt+1]==="{")return Rt+2;et[Rt]==="\\"&&Rt++}return null},/^/,/^\(/,/^\)/,/^\[/,/^\]/,/^\{/,/^\}/,/^(?:(true|false|null|undefined|Infinity|NaN)\b)/,/^and\b/,/^or\b/,/^has\s+no\b/,/^has\b/,/^in\b/,/^not\s+in\b/,/^not?\b/,/^(?:(asc|desc)(NA?|AN?)?\b)/,/^(?:(\d+\.|\.)?\d+([eE][-+]?\d+)?\b)/,/^0[xX][0-9a-fA-F]+/,/^(?:"(?:\\[\\"]|[^"])*")/,/^(?:'(?:\\[\\']|[^'])*')/,/^(?:\/(?:\\.|[^/])+\/i?)/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^(?:\$(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^@/,/^#/,/^\$\$/,/^\$/,/^=>/,/^<(?!=)/,/^=/,/^!=/,/^~=/,/^>=/,/^<=/,/^</,/^>/,/^\.\.\(/,/^\.\(/,/^\.\[/,/^\.\.\./,/^\.\./,/^\./,/^\?/,/^,/,/^:/,/^;/,/^\-/,/^\+/,/^\*/,/^\//,/^\%/,/^(?:\|)/,/^$/],conditions:{preventPrimitive:{rules:[0,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0},template:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0}},EOF:1,setInput(et,At){return this.yy=At||this.yy||{},this._input=et,this._more=!1,this._backtrack=!1,this.done=!1,this.currentCondition="INITIAL",this.conditionStack=["INITIAL"],this.offset=0,this.yytext=this.matched=this.match="",this.yyleng=0,this.yylineno=0,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.yylloc.range=[0,0],this},parseError(et,At){if(!this.yy.parser)throw new Error(et);this.yy.parser.parseError(et,At)},input(){let et=this._input[0];return this.offset++,this.yyleng++,this.yytext=this.match=this.matched=this.yytext+et,/\n|\r\n?|\u2028|\u2029/g.test(et)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(1),et},unput(et){let At=et.split(/\n|\r\n?|\u2028|\u2029/g),Rt=this.yytext.split(/\n|\r\n?|\u2028|\u2029/g);this._input=et+this._input,this.offset-=et.length,this.yytext=this.matched=this.match=this.yytext.slice(0,-et.length),this.yyleng=this.yytext.length,this.done=!1,At.length-1&&(this.yylineno-=At.length-1);let Zt=this.yylloc;return this.yylloc={first_line:Zt.first_line,last_line:this.yylineno+1,first_column:Zt.first_column,last_column:At?(At.length===Rt.length?Zt.first_column:0)+Rt[Rt.length-At.length].length-At[0].length:Zt.first_column-et.length},this.yylloc.range=[Zt.range[0],Zt.range[0]+this.yyleng],this},more(){return this._more=!0,this},reject(){throw new Error("reject() is allowed only when options.backtrack_lexer = true")},less(et){this.unput(this.match.slice(et))},pastInput(){let et=this.matched.substr(0,this.matched.length-this.match.length);return(et.length>20?"...":"")+et.substr(-20).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n")},upcomingInput(){let et=this.match;return et.length<20&&(et+=this._input.substr(0,20-et.length)),(et.substr(0,20)+(et.length>20?"...":"")).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n")},showPosition(){let et=this.pastInput();return et+this.upcomingInput()+`
${"-".repeat(et.length)}^`},test_match(et,At){let Rt=et[0];this.yytext+=Rt,this.match+=Rt,this.matched+=Rt,this.matches=et,this.yyleng=this.yytext.length,this.offset+=this.yyleng,this._more=!1,this._backtrack=!1,this._input=this._input.slice(Rt.length);let Zt=/\n|\r\n?|\u2028|\u2029/g,De,Sn=-1;for(;De=Zt.exec(Rt);)this.yylineno++,Sn=De.index+De[0].length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Sn!==-1?Rt.length-Sn:this.yylloc.last_column+Rt.length},this.yylloc.range=[this.offset-this.yyleng,this.offset];let ze=this.performAction.call(this,this.yy,this,At,this.conditionStack[this.conditionStack.length-1]);return!ze&&this._backtrack?(Object.assign(this,void 0),!1):(this._input&&(this.done=!1),typeof ze=="number"&&this.yy.parser?this.yy.parser.terminals_[ze]:ze||!1)},next(){if(this.done)return this.EOF;let et,At;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(let Rt of this.conditions[this.currentCondition].rules){let Zt=this.rules[Rt],De;if(typeof Zt=="function"){let Sn=Zt(this._input,this.currentCondition);switch(typeof Sn){case"string":De=[Sn];break;case"number":De=[this._input.slice(0,Sn)];break;default:De=Sn}}else De=this._input.match(Zt);if(De&&(!et||De[0].length>et[0].length)){et=De,At=Rt;break}}return et?this.test_match(et,At):this._input===""?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex(){let et;for(;!et;)et=this.next();return et},begin(et){this.currentCondition=et,this.conditionStack.push(et)},pushState(et){this.begin(et)},popState(){return this.conditionStack.pop(),this.currentCondition=this.conditionStack.length?this.conditionStack[this.conditionStack.length-1]:"INITIAL"},topState(et){return(et=this.conditionStack.length-1-Math.abs(et||0))>=0?this.conditionStack[et]:"INITIAL"},stateStackSize(){return this.conditionStack.length}};return s.exports=_n,_n.lexer=_n}();function hi(){this.yy={}}Qr.lexer=_o,hi.prototype=Qr,Qr.Parser=hi;let ar=function(_n){function et(_t,Et){Object.entries(Et).forEach(([Qt,ct])=>_t[Qt]=ct(_t[Qt]))}let At=new Map([["EOF",["<end of input>"]],["IDENT",["ident"]],["$IDENT",["$ident"]],["FUNCTION_START",["'<'"]],["FUNCTION_END",["'>'"]],["FUNCTION",["'=>'"]],["NOT",["'not'"]],["IN",["'in'"]],["HAS",["'has'"]],["NOTIN",["'not in'"]],["HASNO",["'has no'"]],["AND",["'and'"]],["OR",["'or'"]],["STRING",["string"]],["TPL_START",["template"]],["TEMPLATE",["template"]],["NUMBER",["number"]],["REGEXP",["regexp"]],["LITERAL",["'true'","'false'","'null'","'undefined'"]],["ORDER",["'asc'","'desc'","'ascN'","'descN'"]]]),Rt=_t=>At.get(_t)||`'${_t}'`,Zt=function(_t,Et={},Qt){if(!Et.recoverable){typeof Et.inside=="number"&&function(Vn,Lr,_i){let Ai=_i.split(/\r\n?|\n|\u2028|\u2029/g);Vn.yylineno+=Ai.length-1,Vn.yylloc.first_line=Vn.yylineno+1,Vn.yylloc.first_column=Vn.length>1?Ai[Ai.length-1].length+1:Vn.yylloc.first_column+Ai[0].length,Vn.yylloc.range[0]+=Lr,Vn.offset+=Lr,Vn.match=Vn.match.slice(Lr)}(Qt.lexer,Et.inside,Qt.lexer.match.slice(0,Et.inside));let ct=Qt.lexer.yylloc,Bt=[_t.split(/\n/)[0],"",Qt.lexer.showPosition()],Wn=Array.isArray(Et.expected)?[...new Set([].concat(...Et.expected.map(Vn=>Rt(Vn.slice(1,-1)))))]:null;Wn&&Bt.push("","Expecting "+Wn.join(", ")+" got "+Rt(Et.token));let Bn=new SyntaxError(Bt.join(`
`));throw Bn.details={rawMessage:_t,text:Et.text,token:Et.token,expected:Wn,loc:{range:ct.range,start:{line:ct.first_line,column:ct.first_column,offset:ct.range[0]},end:{line:ct.last_line,column:ct.last_column,offset:ct.range[1]}}},Bn}this.trace(_t)},De=new Set([`
`,"\r","\u2028","\u2029"]);Object.assign(_n.lexer,{ident:_t=>_t.replace(/\\u[0-9a-fA-F]{4}/g,Et=>String.fromCharCode(parseInt(Et.slice(2),16))),toLiteral:_t=>_t==="null"?null:_t!=="false"&&(_t==="true"||(_t==="Infinity"?1/0:_t==="NaN"?NaN:void 0)),toStringLiteral(_t,Et=!1,Qt=1){let ct="";for(let Bt=1;Bt<_t.length-Qt;Bt++){if(!Et&&De.has(_t[Bt])&&this.parseError("Invalid line terminator",{inside:Bt}),_t[Bt]!=="\\"){ct+=_t[Bt];continue}let Wn=_t[++Bt];switch(Wn){case"\r":Bt+=_t[Bt+1]===`
`;break;case`
`:case"\u2028":case"\u2029":break;case"b":ct+="\b";break;case"n":ct+=`
`;break;case"r":ct+="\r";break;case"f":ct+="\f";break;case"t":ct+="	";break;case"v":ct+="\v";break;case"u":{let Bn=_t.slice(Bt+1,Bt+5);if(/^[0-9a-f]{4}$/i.test(Bn)){ct+=String.fromCharCode(parseInt(Bn,16)),Bt+=4;break}this.parseError("Invalid Unicode escape sequence",{inside:Bt-1});break}case"x":{let Bn=_t.slice(Bt+1,Bt+3);if(/^[0-9a-f]{2}$/i.test(Bn)){ct+=String.fromCharCode(parseInt(Bn,16)),Bt+=2;break}this.parseError("Invalid hexadecimal escape sequence",{inside:Bt-1});break}default:ct+=Wn}}return ct},toRegExp:_t=>new RegExp(_t.substr(1,_t.lastIndexOf("/")-1),_t.substr(_t.lastIndexOf("/")+1))}),et(_n.lexer,{setInput:_t=>function(Et,Qt){let ct=[];return Qt.commentRanges=ct,Qt.buildResult=Bt=>({ast:Bt,commentRanges:ct}),Qt.parseError=function(...Bt){return Zt.call(this,...Bt,Qt)},Qt.pps=()=>{this._input&&this.begin("preventPrimitive")},this.fnOpened=0,this.fnOpenedStack=[],this.bracketStack=[],this.prevToken=null,this.prevYylloc={first_line:1,last_line:1,first_column:0,last_column:0,range:[0,0]},_t.call(this,Et,Qt)}});let Sn=new _n.Parser;Sn.lexer={..._n.lexer},Sn.yy={..._n.yy};let ze=["AND","OR","IN","NOTIN","HAS","HASNO"],jr=[...ze,"NOT","ORDER"],sr=["+","-","*","/","%","|","=","!=","~=",">=","<=","<",">"],In=[null,":",";",",",".","..","FUNCTION",...sr,...ze,"NOT"],yr=new Set([",","?",":",";","EOF","]",")","}",...sr,...ze,"ORDER"]),An=new Map(In.map(_t=>[_t,yr]));An.set("{",new Set([","])),An.set("[",new Set([","])),An.set("(",new Set([","])),et(Sn.lexer,{lex:_t=>function(){let Et=this._input,Qt=_t.call(this);if(An.has(this.prevToken)&&An.get(this.prevToken).has(Qt)){let ct={first_line:this.prevYylloc.last_line,last_line:this.yylloc.first_line,first_column:this.prevYylloc.last_column,last_column:this.yylloc.first_column,range:[this.prevYylloc.range[1],this.yylloc.range[0]]};if(this.unput(this.yytext),this.pushState("preventPrimitive"),this.done=!1,this.yytext="_",this.yylloc=this.prevYylloc=ct,Et!==this._input&&jr.includes(Qt)){let Bt=Et.length-this._input.length-1;switch(Et[Bt]){case" ":case"	":ct.last_column--,ct.range[1]--;break;case`
`:{let Wn=Et.lastIndexOf(`
`,Bt-1);ct.last_line--,ct.last_column=Wn===-1?ct.last_column-1:Bt-Wn,ct.range[1]--;break}}}return this.prevToken="IDENT"}if(this.prevYylloc=this.yylloc,jr.includes(Qt))switch(this._input[0]){case" ":case"	":this.prevYylloc={...this.prevYylloc,last_column:this.prevYylloc.last_column+1,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break;case`
`:this.prevYylloc={...this.prevYylloc,last_line:this.prevYylloc.last_line+1,last_column:0,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]}}return this.prevToken=Qt}});let En=new Map([["(",")"],[".(",")"],["..(",")"],["[","]"],[".[","]"],["{","}"],["TPL_START","TPL_END"]]),Sr=new Set([")","]","}","TPL_END"]),lr=_t=>function(){let Et=_t.call(this);if(Sr.has(Et)){let Qt=this.bracketStack.pop();Qt!==Et&&this.parseError(`Expected "${Qt}" got "${Et}"`),this.fnOpened=this.fnOpenedStack.pop()||0}return En.has(Et)&&(this.bracketStack.push(En.get(Et)),this.fnOpenedStack.push(this.fnOpened),this.fnOpened=0),Et};return et(_n.lexer,{lex:lr}),et(Sn.lexer,{lex:lr}),{parse:(_t,Et)=>Et?Sn.parse(_t):_n.parse(_t),*tokenize(_t,Et,Qt){let ct=Object.create(Et?Sn.lexer:_n.lexer);for(ct.setInput(_t,{parser:_n});!ct.done;){let Bt={type:ct.lex(),value:ct.match,offset:ct.yylloc.range[0]};Qt&&(Bt.loc={range:ct.yylloc.range,start:{line:ct.yylloc.first_line,column:ct.yylloc.first_column},end:{line:ct.yylloc.last_line,column:ct.yylloc.last_column}}),yield Bt}}}}(new hi);return s.exports=ar,ar}()}),y={build:()=>({type:"Arg1"}),compile(s,o){o.put(o.scope.arg1?"arguments[1]":"undefined")},walk(){},stringify(s,o){o.put("$$")}},S={build:s=>({type:"Array",elements:s}),suggest(s,o){s.elements.length===0&&o.queryRoot(s.range[0]+1,s.range[1]-1)},compile(s,o){o.put("["),o.list(s.elements,","),o.put("]")},walk(s,o){o.list(s.elements)},stringify(s,o){o.put("["),o.list(s.elements,","),o.put("]")}};let O={in:"in","not in":"in",has:"-","has no":"-",and:"and",or:"or","+":"add","-":"sub","*":"mul","/":"div","%":"mod","=":"eq","!=":"ne","<":"lt","<=":"lte",">":"gt",">=":"gte","~=":"match"};function m(s,o,$){if($.type==="Array"){$.elements.length===0&&s.range([$.range[0]+1,$.range[1]-1],"value-subset",o,$);for(let{type:he,range:Ae,value:xe}of $.elements)Ae&&(he==="Literal"||he==="Identifier"||he==="GetProperty"&&xe===null)&&s.range(Ae,"value-subset",o,$)}}var x={build:(s,o,$)=>({type:"Binary",operator:s,left:o,right:$}),suggest(s,o){switch(s.operator){case"in":o.range(s.left.range,"in-value",s.right,null),m(o,s.left,s.right);break;case"not in":m(o,s.left,s.right);break;case"has":o.range(s.right.range,"in-value",s.left,null),m(o,s.right,s.left);break;case"has no":m(o,s.right,s.left);break;case"=":case"!=":o.range(s.right.range,"value",s.left,null)}},compile(s,o){if(s.operator in O!=!1)switch(s.operator!=="and"&&s.operator!=="not in"&&s.operator!=="has no"||o.put("!"),s.operator){case"or":case"and":{let $=o.allocateVar();o.put(`f.bool(${$}=`),o.node(s.left),o.put(`)?${$}:`),o.scope.captureCurrent.disabled=!0,o.node(s.right),o.scope.captureCurrent.disabled=!1;break}case"has":case"has no":o.put("f.in("),o.node(s.right),o.put(","),o.node(s.left),o.put(")");break;default:o.put("f."),o.put(O[s.operator]),o.put("("),o.node(s.left),o.put(","),o.node(s.right),o.put(")")}else o.error('Unknown operator "'+s.operator+'"',s)},walk(s,o){o.node(s.left),o.node(s.right)},stringify(s,o){o.node(s.left),/^[a-z]/i.test(s.operator)?(o.put(" "),o.put(s.operator),o.put(" ")):o.put(s.operator),o.node(s.right)}},f={build:(s,o)=>({type:"Block",definitions:s,body:o}),suggest(s,o){s.body===null&&o.queryRoot(s.range[1])},compile(s,o){s.definitions.length?o.createScope(()=>{o.put("(()=>{"),o.list(s.definitions),o.put("return "),o.nodeOrCurrent(s.body),o.put("})()")},($,he)=>$+he+";"):s.body&&s.body.type==="Object"?(o.put("("),o.nodeOrCurrent(s.body),o.put(")")):o.nodeOrCurrent(s.body)},walk(s,o){o.list(s.definitions),o.nodeOrNothing(s.body)},stringify(s,o){o.list(s.definitions),o.nodeOrNothing(s.body)}};let p={"":"cmp",N:"cmpNatural",A:"cmpAnalytical",NA:"cmpNaturalAnalytical",AN:"cmpNaturalAnalytical"};var g={build:(s,o)=>({type:"Compare",query:s,order:o}),compile(s,o){s.order.startsWith("desc")&&o.put("-"),o.createScope(()=>{let $=p[s.order.slice(3+s.order.startsWith("desc"))]||p[""];o.put("f."+$+"((_q=current=>("),o.node(s.query),o.put("))(a),_q(b))")},($,he)=>$+he+",")},walk(s,o){o.node(s.query)},stringify(s,o){o.node(s.query),o.put(" "),o.put(s.order)}},d={build:(s,o,$)=>({type:"Conditional",test:s,consequent:o,alternate:$}),compile(s,o){o.put("f.bool("),o.node(s.test),o.scope.captureCurrent.disabled=!0,o.put(")?"),o.node(s.consequent),o.put(":"),o.node(s.alternate),o.scope.captureCurrent.disabled=!1},walk(s,o){o.node(s.test),o.node(s.consequent),o.node(s.alternate)},stringify(s,o){o.node(s.test),o.put("?"),o.node(s.consequent),o.put(":"),o.node(s.alternate)}},l={build:()=>({type:"Context"}),compile(s,o){o.put("context")},walk(){},stringify(s,o){o.put("#")}},c={build:()=>({type:"Current"}),suggest(s,o){s.range&&o.range(s.range,"var")},compile(s,o){o.put("current")},walk(){},stringify(s,o){o.put("$")}},v={build:()=>({type:"Data"}),compile(s,o){o.put("data")},walk(){},stringify(s,o){o.put("@")}},j={build:s=>({type:"Declarator",name:s}),compile(s,o){s.name&&o.put("$"+s.name)},walk(){},stringify(s,o){o.put(s.name?"$"+s.name:"$")}},E={build:(s,o)=>({type:"GetProperty",value:s,property:o}),suggest(s,o){o.range(s.property.range,"path",s.value||void 0,!s.value),s.value===null&&o.range(s.property.range,"var"),s.range&&s.value===null&&s.property.range[0]!==s.range[0]&&o.queryRoot(s.range[0])},compile(s,o){o.put("f.map("),o.nodeOrCurrent(s.value),o.put(","),s.property.type==="Identifier"?o.put(JSON.stringify(s.property.name)):o.node(s.property),o.put(")")},walk(s,o){o.nodeOrNothing(s.value),o.node(s.property)},stringify(s,o){o.nodeOrNothing(s.value)&&o.put("."),o.node(s.property)}},L={build:s=>({type:"Identifier",name:s}),compile(s,o){o.put(s.name)},walk(){},stringify(s,o){o.put(s.name)}};let W=E.build,V=L.build,z=["data","context","ctx","array","idx","index"];var I={build:(s,o)=>({type:"Definition",declarator:s,value:o}),suggest(s,o){s.value===null&&o.range(s.declarator.range,"path")},compile(s,o){if(s.declarator.name===null)return o.node(s.declarator),o.nodeOrCurrent(s.value),void o.put(";");o.scope.own.includes(s.declarator.name)?o.error(`Identifier "$${s.declarator.name}" has already been declared`,s.declarator):z.includes(s.declarator.name)?o.error(`Identifier "$${s.declarator.name}" is reserved for future use`,s.declarator):(o.put("const "),o.node(s.declarator),o.put("="),o.node(s.value||W(null,V(s.declarator.name))),o.put(";"),o.scope.push(s.declarator.name),o.scope.own.push(s.declarator.name))},walk(s,o){o.node(s.declarator),o.nodeOrNothing(s.value)},stringify(s,o){o.node(s.declarator),s.value!==null&&(o.put(":"),o.node(s.value)),o.put(";")}},P={build:(s,o)=>({type:"Filter",value:s,query:o}),compile(s,o){o.put("f.filter("),o.nodeOrCurrent(s.value),o.createScope(()=>{o.put(",current=>"),o.node(s.query)},($,he)=>(o.put(")"),$+"("+he+",")),o.put(")")},walk(s,o){o.nodeOrNothing(s.value),o.node(s.query)},stringify(s,o){o.nodeOrNothing(s.value),o.put(".["),o.node(s.query),o.put("]")}},D={build:(s,o,$)=>({type:"Function",arguments:s,body:o,legacy:Boolean($)}),compile(s,o){o.createScope(()=>{o.scope.arg1=!0,o.put("function(current){return "),o.node(s.body),o.put("}")},($,he)=>$+he+",")},walk(s,o){o.node(s.body)},stringify(s,o){s.legacy?(o.put("<"),o.node(s.body),o.put(">")):(o.put("=>"),o.node(s.body))}},N={build:s=>({type:"Literal",value:s}),compile(s,o){o.put(typeof s.value=="string"?JSON.stringify(s.value):String(s.value))},walk(){},stringify(s,o){o.put(typeof s.value=="string"?JSON.stringify(s.value):String(s.value))}},ne={build:(s,o)=>({type:"Map",value:s,query:o}),compile(s,o){o.put("f.map("),o.nodeOrCurrent(s.value),o.createScope(()=>{o.put(",current=>"),o.node(s.query)},($,he)=>(o.put(")"),$+"("+he+",")),o.put(")")},walk(s,o){o.nodeOrNothing(s.value),o.node(s.query)},stringify(s,o){o.nodeOrNothing(s.value),o.put(".("),o.node(s.query),o.put(")")}},Y={build:(s,o)=>({type:"MapRecursive",value:s,query:o}),compile(s,o){o.put("f.mapRecursive("),o.nodeOrCurrent(s.value),o.createScope(()=>{o.put(",current=>"),o.node(s.query)},($,he)=>(o.put(")"),$+"("+he+",")),o.put(")")},walk(s,o){o.nodeOrNothing(s.value),o.node(s.query)},stringify(s,o){o.nodeOrNothing(s.value),o.put(".."),o.isSimpleGetPropertyQuery(s.query)||o.isSimpleMethodCallQuery(s.query)?o.node(s.query):(o.put("("),o.node(s.query),o.put(")"))}},ee={build:(s,o)=>({type:"Method",reference:s,arguments:o}),suggest(s,o){s.arguments.length===0&&o.queryRoot(s.range[1]-1)},compile(s,o,$){o.tolerant&&o.put("(typeof "),s.reference.type==="Identifier"&&o.put("m."),o.node(s.reference),o.tolerant&&(o.put('==="function"?'),s.reference.type==="Identifier"&&o.put("m."),o.node(s.reference)),o.put("("),o.nodeOrCurrent($),s.arguments.length&&(o.put(","),o.list(s.arguments,",")),o.put(")"),o.tolerant&&o.put(":undefined)")},walk(s,o){o.node(s.reference),o.list(s.arguments)},stringify(s,o){o.node(s.reference),o.put("("),o.list(s.arguments,","),o.put(")")}},Z={build:(s,o)=>({type:"MethodCall",value:s,method:o}),compile(s,o){o.node(s.method,s.value)},walk(s,o){o.nodeOrNothing(s.value),o.node(s.method)},stringify(s,o){o.nodeOrNothing(s.value)&&o.put("."),o.node(s.method)}},R={build:s=>({type:"Object",properties:s}),suggest(s,o){s.properties.length===0&&o.queryRoot(s.range[0]+1,s.range[1]-1)},compile(s,o){o.put("{"),o.list(s.properties,","),o.put("}")},walk(s,o){o.list(s.properties)},stringify(s,o){o.put("{"),o.list(s.properties,","),o.put("}")}};let X=E.build,le=L.build,ue=new Set(["Literal","Identifier","Reference","Current"]);var Ce={build:(s,o)=>({type:"ObjectEntry",key:s,value:o}),suggest(s,o){if(s.value===null)switch(s.key.type){case"Identifier":o.range(s.range,"path"),o.range(s.range,"var");break;case"Current":case"Reference":o.range(s.range,"var")}},compile(s,o){let $=s.value;switch(s.key.type){case"Current":return;case"Literal":o.node(s.key);break;case"Identifier":o.node(s.key),$=$||X(null,le(s.key.name));break;case"Reference":o.node(s.key.name),$=$||s.key;break;default:o.put("["),o.node(s.key),o.put("]")}o.put(":"),o.node($)},walk(s,o){o.node(s.key),o.nodeOrNothing(s.value)},stringify(s,o){if(ue.has(s.key.type)){if(o.node(s.key),s.value===null)return}else o.put("["),o.node(s.key),o.put("]");o.put(":"),o.node(s.value)}},ie={build:s=>({type:"Parentheses",body:s}),compile(s,o){o.put("("),o.node(s.body),o.put(")")},walk(s,o){o.node(s.body)},stringify(s,o){o.put("("),o.node(s.body),o.put(")")}},te={build:(s,o)=>({type:"Pick",value:s,getter:o}),suggest(s,o){if(s.getter===null){let $=s.range[1]-1;o.range([$,$],"key",s.value,!1),o.queryRoot($)}else o.range(s.getter.range,"key",s.value,!1)},compile(s,o){o.put("f.pick("),o.node(s.value),s.getter&&(o.put(","),o.node(s.getter)),o.put(")")},walk(s,o){o.node(s.value),s.getter!==null&&o.node(s.getter)},stringify(s,o){o.node(s.value),o.put("["),s.getter!==null&&o.node(s.getter),o.put("]")}},se={build:(s,o)=>({type:"Pipeline",left:s,right:o}),compile(s,o){o.createScope(()=>{o.put("(current=>("),o.node(s.right),o.put("))")},($,he)=>$+he+";"),o.put("("),o.node(s.left),o.put(")")},walk(s,o){o.node(s.left),o.node(s.right)},stringify(s,o){o.node(s.left),o.put("|"),o.node(s.right)}},me={build:s=>({type:"Reference",name:s}),suggest(s,o){s.range&&o.range(s.range,"var")},compile(s,o){if(!o.scope.includes(s.name.name)&&o.tolerant)return o.put("(typeof $"),o.node(s.name),o.put('!=="undefined"?$'),o.node(s.name),void o.put(":undefined)");o.put("$"),o.node(s.name)},walk(s,o){o.node(s.name)},stringify(s,o){o.put("$"),o.node(s.name)}},Pe={build:(s,o)=>({type:"SliceNotation",value:s,arguments:o}),compile(s,o){o.put("f.slice("),o.nodeOrCurrent(s.value),s.arguments.slice(0,3).forEach($=>{o.put(","),$?o.node($):o.put("undefined")}),o.put(")")},walk(s,o){o.nodeOrNothing(s.value);for(let $ of s.arguments.slice(0,3))$&&o.node($)},stringify(s,o){let[$,he,Ae]=s.arguments;o.nodeOrNothing(s.value),o.put("["),$&&o.node($),o.put(":"),he&&o.node(he),Ae&&(o.put(":"),o.node(Ae)),o.put("]")}},Ke={build:s=>({type:"SortingFunction",compares:s}),compile(s,o){o.put("(a, b)=>{let _q;return "),o.list(s.compares,"||"),o.put("||0}")},walk(s,o){o.list(s.compares)},stringify(s,o){o.list(s.compares,",")}},oe={build:(s,o=!1)=>({type:"Spread",query:s,array:o}),suggest(s,o){s.query===null&&o.queryRoot(s.range[1])},compile(s,o){if(s.array)return o.put("...f.ensureArray("),o.nodeOrCurrent(s.query),void o.put(")");o.put("..."),o.nodeOrCurrent(s.query)},walk(s,o){o.nodeOrNothing(s.query)},stringify(s,o){o.put("..."),o.nodeOrNothing(s.query)}},ce={build:s=>({type:"Template",values:s}),suggest(s,o){for(let[$,he]of Object.entries(s.values))he===null&&o.queryRoot(s.values[$-1].range[1])},compile(s,o){for(let[$,he]of Object.entries(s.values))he!==null&&($!=="0"&&o.put("+"),$%2==0?o.put('"'+Je(he.value,_e)+'"'):(o.put("("),o.node(he),o.put(")")))},walk(s,o){for(let $ of s.values)$!==null&&o.node($)},stringify(s,o){let $=String(s.values.length-1);for(let[he,Ae]of Object.entries(s.values))he%2==0?(o.put(he==="0"?"`":"}"),o.put(Je(Ae.value,Ee)),o.put(he===$?"`":"${")):Ae!==null&&o.node(Ae)}};let _e=new Map([["\b","\\b"],[`
`,"\\n"],["\r","\\r"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\u2028","\\u2028"],["\u2029","\\u2029"],["\\","\\\\"],['"','\\"']]),Ee=new Map([["\b","\\b"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\\","\\\\"],["$","\\$"]]);function Je(s,o){let $="";for(let he=0;he<s.length;he++)$+=o.get(s[he])||s[he];return $}let ft={Arg1:y,Array:S,Binary:x,Block:f,Compare:g,Conditional:d,Context:l,Current:c,Data:v,Declarator:j,Definition:I,Filter:P,Function:D,GetProperty:E,Identifier:L,Literal:N,Map:ne,MapRecursive:Y,Method:ee,MethodCall:Z,Object:R,ObjectEntry:Ce,Parentheses:ie,Pick:te,Pipeline:se,Reference:me,SliceNotation:Pe,SortingFunction:Ke,Spread:oe,Template:ce,Unary:{build:(s,o)=>({type:"Unary",operator:s,argument:o}),compile(s,o){switch(s.operator){case"no":case"not":o.put("!f.bool("),o.node(s.argument),o.put(")");break;case"+":case"-":o.put(s.operator),o.node(s.argument);break;default:o.error('Unknown operator "'+s.operator+'"',s)}},walk(s,o){o.node(s.argument)},stringify(s,o){o.put(s.operator),s.operator!=="-"&&s.operator!=="+"&&o.put(" "),o.node(s.argument)}}},be=s=>new Map(Object.entries(ft).map(([o,$])=>[o,$[s]]).filter(([,o])=>typeof o=="function")),je={};be("build").forEach((s,o)=>je[o]=s);var ye={nodes:ft,build:je,compile:be("compile"),walk:be("walk"),stringify:be("stringify"),suggest:be("suggest")};let ke=ye.walk;var dt=function(s,o){function $(Oe){if(!ke.has(Oe.type))throw new Error("Unknown node type `"+Oe.type+"`");Ae(Oe),ke.get(Oe.type)(Oe,he),xe(Oe)}let he={node:$,nodeOrNothing(Oe){Oe!==null&&$(Oe)},list(Oe){Oe.forEach($)}},Ae=()=>{},xe=()=>{};typeof o=="function"&&(o={enter:o}),o&&(typeof o.enter=="function"&&(Ae=o.enter),typeof o.leave=="function"&&(xe=o.leave)),$(s)};let kt=ye.suggest;function pt(s,o){return o>=0&&o<s.length&&/[a-zA-Z_$0-9]/.test(s[o])}function Ot(s,o){let $=s.charCodeAt(o);return $===9||$===10||$===13||$===32}function sn(s,o,$){for(;o<$;o++)if(!Ot(s,o))return!1;return!0}function Vt(s,o,$,he,Ae){let xe=[];for(let Oe=0;Oe<he.length;Oe++){let[He,Te]=he[Oe];if(He>=o)break;He<s||(He===s?xe.push(s,s):xe.push(s,He),s=Te)}return s===$.length&&Ae||xe.push(s,o),xe}function Mt(s,o,$,he){let Ae=[];for(let xe=0;xe<s.length;xe++){let[Oe,He,Te,at]=s[xe];if(sn(o,Oe,He)){for(;Oe>=0&&Ot(o,Oe-1);)Oe--;for(;He<o.length&&Ot(o,He);)He++;if(pt(o,Oe-1)){if(Oe===He)continue;Oe++}if(pt(o,He)){if(Oe===He)continue;He--}}let Ze=Vt(Oe,He,o,$,he);for(let $e=0;$e<Ze.length;$e+=2)Ae.push([Ze[$e],Ze[$e+1],Te,at])}return Ae}var Me=function(s,{ast:o,commentRanges:$}){let he=function(xe){let Oe=null,He=new Map,Te=(Ze,$e)=>{He.has(Ze)?He.get(Ze).push($e):He.set(Ze,[$e])},at={range(Ze,$e,Ie=Oe,Fe=!0){Te(Ie,[...Ze,$e,Fe]),Fe&&Fe!==!0&&Te(Fe,[])},queryRoot(Ze,$e=Ze){Te(Oe,[Ze,$e,"var",!0]),Te(Oe,[Ze,$e,"path",!0])}};return dt(xe,Ze=>{if(kt.has(Ze.type)){let $e=Oe;Oe=Ze,kt.get(Ze.type)(Ze,at),Oe=$e}}),He}(o),Ae=$.length&&$[$.length-1][1]===s.length&&!/[\r\n]$/.test(s);for(let[xe,Oe]of he)he.set(xe,Mt(Oe,s,$,Ae));return he};let ge=ye.stringify;function q(s){return s.type==="GetProperty"&&(!s.value||s.value.type==="Current")&&s.property.type==="Identifier"}function J(s){return s.type==="MethodCall"&&(!s.value||s.value.type==="Current")}var U=function(s){function o(Ae){if(!ge.has(Ae.type))throw new Error("Unknown node type `"+Ae.type+"`");ge.get(Ae.type)(Ae,he)}let $=[],he={isSimpleGetPropertyQuery:q,isSimpleMethodCallQuery:J,put(Ae){$.push(Ae)},node:o,nodeOrNothing(Ae){if(Ae!==null)return o(Ae),!0},list(Ae,xe){xe?Ae.forEach((Oe,He)=>{He>0&&he.put(xe),o(Oe)}):Ae.forEach(o)}};return o(s),$.join("")};let de=ye.compile;var nt=function(s,o=!1,$=null){function he(Fe){let We;return Te.has(Fe)?We=Te.get(Fe):(He.push(We="s"+He.length),Te.set(Fe,We)),We}function Ae(Fe,We,Ye,it,Qe){let qe=[Fe,We,JSON.stringify(Ye)];if(Ye==="var"){if(!Ie.scope.length)return;qe.push(JSON.stringify(Ie.scope))}else it||He.push(it="s"+He.length),qe.push(it),Qe&&qe.push(Qe);return Ze.push(qe),it}function xe(Fe,We){let Ye=Ie.scope,it=$e.length;if(Ie.scope=Ie.scope.slice(),Ie.scope.own=[],Ie.scope.firstCurrent=null,Ie.scope.captureCurrent=[],Ie.scope.arg1=Ye.arg1||!1,Fe(),Ie.scope.captureCurrent.length){let Qe="stat("+Ie.scope.captureCurrent.reduce((qe,ot)=>Ae(...ot,qe),void 0)+",current)";Ie.scope.firstCurrent?$e[Ie.scope.firstCurrent]=Qe:$e[it]=We($e[it],Qe)}Ie.scope=Ye}function Oe(Fe,We){let Ye=!1;if($!==null){if($.has(Fe))for(let[it,Qe,qe,ot]of $.get(Fe))qe==="var"?Ae(it,Qe,qe):ot===!0?Ie.scope.captureCurrent.push([it,Qe,qe]):(Ye||(Ye=he(Fe),$e.push("stat("+Ye+",")),qe&&Ae(it,Qe,qe,Ye,ot&&he(ot)));Fe.type==="Current"&&Ie.scope.firstCurrent===null&&Ie.scope.captureCurrent.disabled!==!0&&(Ie.scope.firstCurrent=$e.length)}if(!de.has(Fe.type))throw new Error("Unknown node type `"+Fe.type+"`");de.get(Fe.type)(Fe,Ie,We),Ye&&$e.push(")")}let He=[],Te=new WeakMap,at=[],Ze=[],$e=["const current=data;",{toString:()=>at.length>0?"let "+at+`;
`:""},{toString:()=>He.length===0?"":[`const stat=(s,v)=>(s.add(v),v);
`,"const "+He.map(Fe=>Fe+"=new Set()")+`;
`].join("")},"return "],Ie={tolerant:o,scope:[],createScope:xe,error:(Fe,We)=>{let Ye=new SyntaxError(Fe);if(We&&We.range&&(Ye.details={loc:{range:We.range}}),!o)throw Ye},allocateVar(){let Fe="tmp"+at.length;return at.push(Fe),Fe},put:Fe=>$e.push(Fe),node:Oe,nodeOrNothing(Fe,We){Fe&&Oe(Fe,We)},nodeOrCurrent(Fe,We){Oe(Fe||{type:"Current"},We)},list(Fe,We,Ye){Fe.forEach((it,Qe)=>{Qe>0&&$e.push(We),Oe(it,Ye)})}};xe(()=>Oe(s),(Fe,We)=>($e.push(")"),"("+We+","+Fe)),$!==null&&$e.push(`
,[`+Ze.map(Fe=>"["+Fe+"]")+"]");try{return new Function("f","m","data","context",$e.join(""))}catch(Fe){let We=function(it,Qe){let qe=Object.create(SyntaxError.prototype),ot=new Error;return qe.name=it,qe.message=Qe,Object.defineProperty(qe,"stack",{get:function(){return(ot.stack||"").replace(/^(.+\n){1,3}/,it+": "+Qe+`
`)}}),qe}("SyntaxError","Jora query compilation error"),Ye=$e.join("");throw We.compiledSource=Ye,We}};let Re=Object.hasOwnProperty,Le=Object.prototype.toString;var Ue={addToSet:function(s,o){return o!==void 0&&(Array.isArray(o)?o.forEach($=>s.add($)):s.add(o)),s},getPropertyValue:function(s,o){return s&&Re.call(s,o)?s[o]:void 0},isPlainObject:function(s){return s!==null&&typeof s=="object"&&s.constructor===Object},isRegExp:function(s){return Le.call(s)==="[object RegExp]"},isArrayLike:function(s){return s&&Re.call(s,"length")}};let st=(s,o)=>o<s.length?s.charCodeAt(o):0,lt=s=>s===43||s===45,Dt=s=>s>=48&&s<=57,$n=s=>s===9||s===10||s===12||s===13||s===32,wn=s=>s>32&&s<256&&(s<65||s>90)&&(s<97||s>122)&&(s<48||s>57)&&s!==43&&s!==45||s===8470;function rn(s,o){for(;Dt(st(s,o));)o++;return o}function Cn(s,o,$,he){if(o>=s.length)return 0;let Ae=st(s,o);if($n(Ae)){let $e=o+1;for(;$n(st(s,$e));)$e++;return 1|$e-o<<3}if(wn(Ae)||he&&lt(Ae)){let $e=o+1,Ie=Ae;do Ae=Ie,Ie=st(s,$e++);while(wn(Ie)||Ie===Ae);return 2|$e-o-1<<3}let xe=st(s,o+1),Oe=st(s,o+2);if(Te=xe,at=Oe,lt(He=Ae)?Dt(Te)||!(Te!==46||!Dt(at)):!!Dt(He))return 3|function($e,Ie,Fe){let We=st($e,Ie);if(lt(We)&&(We=st($e,Ie+=1)),Dt(We)&&(Ie=rn($e,Ie+1),We=st($e,Ie)),We===46&&Dt(st($e,Ie+1))){if(Fe)return Ie;let Ye=Ie+2;if(Ye=rn($e,Ye),st($e,Ye)===46)return Ie;Ie=Ye}if(We=st($e,Ie),We===69||We===101){let Ye=0;We=st($e,Ie+1),lt(We)&&(Ye=1,We=st($e,Ie+2)),Dt(We)&&(Ie=rn($e,Ie+1+Ye+1))}return Ie}(s,o,$)-o<<3;var He,Te,at;let Ze=o;do Ae=xe,xe=Oe,Oe=st(s,3+Ze++);while(Ze<s.length&&!$n(Ae)&&!wn(Ae)&&!Dt(Ae));return 4|Ze-o<<3}function qn(s,o,$){let he=0,Ae=0,xe=!1,Oe=!1,He=0,Te=0,at=!0;for(;;){let Ze=Cn(s,he,xe,Oe),$e=Cn(o,Ae,xe,Oe),Ie=7&Ze,Fe=Ze>>3,We=7&$e,Ye=$e>>3;if(Ie!==We&&at){if(!(Ie!==1&&Ie!==2||We!==3&&We!==4)){He=1,Te=Ie,he+=Fe;continue}if(!(We!==1&&We!==2||Ie!==3&&Ie!==4)){He=-1,Te=We,Ae+=Ye;continue}}if(at=!1,Ie!==We)return Ie<We?-1:1;if(xe=!1,Oe=!1,Ie===0)return He;let it=Fe<Ye?Fe:Ye,Qe=Fe-Ye,qe=0;for(;qe<it;qe++){let ot=s[he+qe],ut=o[Ae+qe];if(ot!==ut){Qe=ot<ut?-1:1;break}}if(Ie===1||Ie===2)Qe!==0&&(He===0||Ie>Te)&&(Te=Ie,He=Qe),xe=s[he+Fe-1]===".";else if(Ie===3){if(Oe=!0,Qe!==0){let ot=s.substr(he,Fe)-o.substr(Ae,Ye);if(ot!==0)return $?-ot:ot;if(He===0||Ie>Te){let ut=st(s,he),mt=st(o,Ae),yt=ut===45?-1:1;Te=Ie,He=ut===mt||ut!==45&&mt!==43?ut===mt||ut!==43&&mt!==45?(Fe!==Ye?Fe<Ye:Qe<0)?-yt:yt:1:-1,$&&(He=-He)}}}else{if(Qe!==0){if(qe<it){let ot=s[he+qe].toLowerCase(),ut=o[Ae+qe].toLowerCase();if(ot!==ut)return ot<ut?-1:1}return Qe}xe=s[he+Fe-1]==="."}he+=Fe,Ae+=Ye}}var rr={naturalCompare:function(s,o){let $=typeof s,he=typeof o,Ae=0;return $!=="number"&&$!=="string"||he!=="number"&&he!=="string"||(Ae=qn(String(s),String(o),!1)),Ae},naturalAnalyticalCompare:function(s,o){let $=typeof s,he=typeof o,Ae=0;return $!=="number"&&$!=="string"||he!=="number"&&he!=="string"||(Ae=qn(String(s),String(o),!0)),Ae}};let{addToSet:Dn,getPropertyValue:Yn,isPlainObject:ir,isRegExp:fr,isArrayLike:Wr}=Ue,{naturalCompare:Bi,naturalAnalyticalCompare:_r}=rr;function Un(s){switch(typeof s){case"boolean":return 1;case"number":return s!=s?2:3;case"string":return 4;case"object":return s===null?5:6;default:return 7}}var Fn=Object.freeze({ensureArray:s=>Array.isArray(s)?s:[s],bool(s){if(Array.isArray(s))return s.length>0;if(ir(s)){for(let o in s)if(hasOwnProperty.call(s,o))return!0;return!1}return Boolean(s)},add:(s,o)=>Array.isArray(s)||Array.isArray(o)?[...new Set([].concat(s,o))]:s+o,sub(s,o){if(Array.isArray(s)){let $=new Set(s);return Array.isArray(o)?o.forEach(he=>$.delete(he)):$.delete(o),[...$]}return s-o},mul:(s,o)=>s*o,div:(s,o)=>s/o,mod:(s,o)=>s%o,eq:(s,o)=>Object.is(s,o),ne:(s,o)=>!Object.is(s,o),lt:(s,o)=>s<o,lte:(s,o)=>s<=o,gt:(s,o)=>s>o,gte:(s,o)=>s>=o,in:(s,o)=>ir(o)?hasOwnProperty.call(o,s):!(!o||typeof o.indexOf!="function")&&o.indexOf(s)!==-1,cmp(s,o){let $=Un(s),he=Un(o);return $!==he?$<he?-1:1:s<o?-1:s>o?1:0},cmpAnalytical(s,o){let $=Un(s),he=Un(o);return $!==he?$<he?-1:1:$===3?o-s:s<o?-1:s>o?1:0},cmpNatural(s,o){let $=Un(s),he=Un(o);return $!==3&&$!==4||he!==3&&he!==4?$!==he?$<he?-1:1:s<o?-1:s>o?1:0:Bi(s,o)},cmpNaturalAnalytical(s,o){let $=Un(s),he=Un(o);return $!==3&&$!==4||he!==3&&he!==4?$!==he?$<he?-1:1:s<o?-1:s>o?1:0:_r(s,o,!0)},match(s,o){return typeof o=="function"?this.some(s,o):fr(o)?this.some(s,o.test.bind(o)):o==null},pick(s,o=()=>!0){if(s){if(typeof o!="function")return Array.isArray(s)||typeof s=="string"?isFinite(o)?s[o<0?s.length+Number(o):Number(o)||0]:void 0:hasOwnProperty.call(s,o)?s[o]:void 0;if(Array.isArray(s)||typeof s=="string"){for(let $=0;$<s.length;$++)if(o(s[$],$))return s[$]}for(let $ in s)if(hasOwnProperty.call(s,$)&&o(s[$],$))return s[$]}},map(s,o){let $=typeof o=="function"?o:he=>Yn(he,o);return Array.isArray(s)?[...s.reduce((he,Ae)=>Dn(he,$(Ae)),new Set)]:s!==void 0?$(s):s},mapRecursive(s,o){let $=new Set;return Dn($,this.map(s,o)),$.forEach(he=>Dn($,this.map(he,o))),[...$]},some(s,o){return Array.isArray(s)?s.some($=>this.bool(o($))):this.bool(o(s))},filter(s,o){return Array.isArray(s)?s.filter($=>this.bool(o($))):this.bool(o(s))?s:void 0},slice(s,o=0,$=s&&s.length,he=1){if(!Wr(s))return[];if(o=parseInt(o,10)||0,$=parseInt($,10)||s.length,(he=parseInt(he,10)||1)!==1){let Ae=[];o=o<0?Math.max(0,s.length+o):Math.min(s.length,o),$=$<0?Math.max(0,s.length+$):Math.min(s.length,$);for(let xe=he>0?o:$-1;xe>=o&&xe<$;xe+=he)Ae.push(s[xe]);return Ae}return typeof s=="string"?s.slice(o,$):Array.prototype.slice.call(s,o,$)}});let{addToSet:Br,isPlainObject:br}=Ue;function qi(){}function qr(s){return s}function wr(s){return{matched:s.slice(),start:s.index,end:s.index+s[0].length,input:s.input,groups:s.groups||null}}var zn=Object.freeze({bool:Fn.bool,filter:Fn.filter,map:Fn.map,pick:Fn.pick,keys:s=>Object.keys(s||{}),values(s){let o=new Set;for(let $ in s)hasOwnProperty.call(s,$)&&Br(o,s[$]);return[...o]},entries(s){let o=[];for(let $ in s)hasOwnProperty.call(s,$)&&o.push({key:$,value:s[$]});return o},fromEntries(s){let o={};return Array.isArray(s)&&s.forEach($=>{$&&(o[$.key]=$.value)}),o},size:s=>br(s)?Object.keys(s).length:s&&s.length||0,sort(s,o){let $;return Array.isArray(s)?(typeof o=="function"&&($=o.length===2?o:(he,Ae)=>{if(he=o(he),Ae=o(Ae),Array.isArray(he)&&Array.isArray(Ae)){if(he.length!==Ae.length)return he.length<Ae.length?-1:1;for(let xe=0;xe<he.length;xe++){if(he[xe]<Ae[xe])return-1;if(he[xe]>Ae[xe])return 1}return 0}return he<Ae?-1:he>Ae}),s.slice().sort($)):s},reverse:s=>Array.isArray(s)?s.slice().reverse():s,slice:(s,o,$)=>Fn.slice(s,o,$),group(s,o,$){typeof o!="function"&&(o=qi),typeof $!="function"&&($=qr),Array.isArray(s)||(s=[s]);let he=new Map,Ae=[];return s.forEach(xe=>{let Oe=o(xe);Array.isArray(Oe)||(Oe=[Oe]),Oe.forEach(He=>{he.has(He)?he.get(He).add($(xe)):he.set(He,new Set([$(xe)]))})}),he.forEach((xe,Oe)=>Ae.push({key:Oe,value:[...xe]})),Ae},split:(s,o)=>String(s).split(o),join:(s,o)=>Array.isArray(s)?s.join(o):String(s),match(s,o,$){let he=String(s);if($){let xe=[],Oe,He=new RegExp(o,o.flags+"g");for(;Oe=He.exec(he);)xe.push(wr(Oe));return xe}let Ae=String(s).match(o);return Ae&&wr(Ae)},reduce:(s,o,$)=>Array.isArray(s)?$!==void 0?s.reduce((he,Ae)=>o(Ae,he),$):s.reduce((he,Ae)=>o(Ae,he)):o(s,$)});let{addToSet:Dr,isPlainObject:Ar}=Ue,Ur={path:"property",key:"value",value:"value","in-value":"value","value-subset":"value",var:"variable"};function xr(s,o,$,he){let Ae=[];for(let[xe,Oe,He,Te,at=null]of $)if(o>=xe&&o<=Oe&&(he||Te.size||Te.length)){let Ze=s.substring(xe,Oe);/\S/.test(Ze)||(Ze="",xe=Oe=o),Ae.push({context:He,current:Ze,from:xe,to:Oe,values:Te,related:at})}return Ae}var Mr,dr=(s,o)=>({stat($,he){let Ae=xr(s,$,o,he);return Ae.forEach(xe=>{xe.values=[...xe.values]}),Ae.length?Ae:null},suggestion($,he){let Ae=xr(s,$,o,he),xe=[];return Ae.forEach(Oe=>{let{context:He,current:Te,from:at,to:Ze,values:$e,related:Ie}=Oe;xe.push(...function(Fe,We,Ye){let it=new Set,Qe=qe=>{switch(typeof qe){case"string":it.add(JSON.stringify(qe));break;case"number":it.add(String(qe))}};switch(Fe){case"":case"path":We.forEach(qe=>{Array.isArray(qe)?qe.forEach(ot=>{Ar(ot)&&Dr(it,Object.keys(ot))}):Ar(qe)&&Dr(it,Object.keys(qe))});break;case"key":We.forEach(qe=>{qe===null||typeof qe!="object"||Array.isArray(qe)||Object.keys(qe).forEach(Qe)});break;case"value":We.forEach(qe=>{Array.isArray(qe)?qe.forEach(Qe):Qe(qe)});break;case"in-value":We.forEach(qe=>{Array.isArray(qe)?qe.forEach(Qe):Ar(qe)?Object.keys(qe).forEach(Qe):Qe(qe)});break;case"var":We.forEach(qe=>{it.add("$"+qe)});break;case"value-subset":We.forEach(qe=>{Array.isArray(qe)?qe.forEach(Qe):Qe(qe)}),Ye.forEach(qe=>{qe.forEach(ot=>{typeof ot!="string"&&typeof ot!="number"||it.delete(JSON.stringify(ot))})})}return[...it]}(He,$e,Ie).map(Fe=>({current:Te,type:Ur[He],value:Fe,from:at,to:Ze})))}),xe.length?xe:null}}),ai=(Mr=w)&&Mr.default||Mr;let{version:Vr}=ai,{tokenize:Tn,parse:vt}=u,kr=new Map,Gr=new Map,B=new Map,Q=new Map;function tt(s,o){console.log(`[${s}]`),typeof o=="string"?console.log(o):o!==void 0&&console.dir(o,{depth:null}),console.log()}function rt(s,o,$,he){(he=typeof he=="function"?he:!!Boolean(he)&&tt)&&(he("========================="),he("Compile query from source",s));let Ae=vt(s,$);he&&(he("AST",Ae.ast),he("Restored source",U(Ae.ast)));let xe=o?Me(s,Ae):null;if(he&&xe){let He=$e=>JSON.stringify($e).slice(1,-1),Te=[].concat(...[...xe.entries()].map(([$e,Ie])=>Ie.map(Fe=>[$e,...Fe]))),at=[],Ze=null;he("Suggest ranges",Te.sort(($e,Ie)=>$e[1]-Ie[1]).map(([$e,...Ie])=>{let[Fe,We,Ye,it]=Ie,Qe;if(Ye){if(Fe===at[0]&&We===at[1])Qe=" ".repeat(Ze.length);else{let qe=He(s.slice(0,Fe)).length,ot=He(s.substring(Fe,We)).length;at=Ie,Ze=" ".repeat(qe)+(ot?"~".repeat(ot):"\\")+" "+Fe+":"+We,Qe=He(s)+`
`+Ze}return Qe+" ["+Ye+"] on "+$e.type+(it===!0?" (current)":it?" & "+it.type:"")}}).join(`
`))}let Oe=nt(Ae.ast,$,xe);return he&&he("Compiled code",Oe.toString()),Oe}return Object.assign(function(s,o){o=o||{};let $=Boolean(o.stat),he=Boolean(o.tolerant),Ae=o.methods?{...zn,...o.methods}:zn,xe=$?he?Q:Gr:he?B:kr,Oe;return s=String(s),xe.has(s)&&!o.debug?Oe=xe.get(s):(Oe=rt(s,$,he,o.debug),xe.set(s,Oe)),$?(He,Te)=>dr(s,Oe(Fn,Ae,He,Te)):(He,Te)=>Oe(Fn,Ae,He,Te)},{version:Vr,buildin:Fn,methods:zn,setup:function(s){let o=new Map,$=new Map,he=new Map,Ae=new Map,xe={...zn,...s};return function(Oe,He){He=He||{};let Te=Boolean(He.stat),at=Boolean(He.tolerant),Ze=Te?at?Ae:$:at?he:o,$e;if(Oe=String(Oe),Ze.has(Oe)&&!He.debug)$e=Ze.get(Oe);else{let Ie=rt(Oe,Te,at,He.debug);$e=Te?(Fe,We)=>dr(Oe,Ie(Fn,xe,Fe,We)):(Fe,We)=>Ie(Fn,xe,Fe,We),Ze.set(Oe,$e)}return $e}},syntax:{tokenize:Tn,parse:vt,suggest:Me,walk:dt,stringify:U,compile:nt}})}),Object.defineProperty(k,"__esModule",{value:!0}),k.default=_},{}],6:[function(H,pe,k){pe=void 0;var _,F,A,h=function(){let w=arguments[arguments.length-1];_=w(),h=void 0};h.amd=!0,F=this,A=function(){"use strict";function w(Me,ge){for(var q=0;q<ge.length;q++){var J=ge[q];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Me,J.key,J)}}function u(Me,ge){(ge==null||ge>Me.length)&&(ge=Me.length);for(var q=0,J=new Array(ge);q<ge;q++)J[q]=Me[q];return J}function y(Me,ge){var q;if(typeof Symbol!="undefined"&&Me[Symbol.iterator]!=null)return(q=Me[Symbol.iterator]()).next.bind(q);if(Array.isArray(Me)||(q=function(U,de){if(U){if(typeof U=="string")return u(U,de);var nt=Object.prototype.toString.call(U).slice(8,-1);return nt==="Object"&&U.constructor&&(nt=U.constructor.name),nt==="Map"||nt==="Set"?Array.from(U):nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt)?u(U,de):void 0}}(Me))||ge&&Me&&typeof Me.length=="number"){q&&(Me=q);var J=0;return function(){return J>=Me.length?{done:!0}:{done:!1,value:Me[J++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(Me){return g[Me]}var O,m=((function(Me){function ge(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Me.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:ge,changeDefaults:function(q){Me.exports.defaults=q}}}(O={exports:{}}),Vt=O.exports).defaults,Vt.getDefaults,Vt.changeDefaults,/[&<>"']/),x=/[&<>"']/g,f=/[<>"']|&(?!#?\w+;)/,p=/[<>"']|&(?!#?\w+;)/g,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function l(Me){return Me.replace(d,function(ge,q){return(q=q.toLowerCase())==="colon"?":":q.charAt(0)==="#"?q.charAt(1)==="x"?String.fromCharCode(parseInt(q.substring(2),16)):String.fromCharCode(+q.substring(1)):""})}var c=/(^|[^\[])\^/g,v=/[^\w:]/g,j=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,E={},L=/^[^:]+:\/*[^/]*$/,W=/^([^:]+:)[\s\S]*$/,V=/^([^:]+:\/*[^/]*)[\s\S]*$/;function z(Me,ge,q){var J=Me.length;if(J===0)return"";for(var U=0;U<J;){var de=Me.charAt(J-U-1);if(de!==ge||q){if(de===ge||!q)break;U++}else U++}return Me.substr(0,J-U)}var I=function(Me,ge){if(ge){if(m.test(Me))return Me.replace(x,S)}else if(f.test(Me))return Me.replace(p,S);return Me},P=l,D=function(Me,ge){Me=Me.source||Me,ge=ge||"";var q={replace:function(J,U){return U=(U=U.source||U).replace(c,"$1"),Me=Me.replace(J,U),q},getRegex:function(){return new RegExp(Me,ge)}};return q},N={exec:function(){}},ne=function(Me){for(var ge,q,J=1;J<arguments.length;J++)for(q in ge=arguments[J])Object.prototype.hasOwnProperty.call(ge,q)&&(Me[q]=ge[q]);return Me},Y=function(Me,ge){var q=Me.replace(/\|/g,function(U,de,nt){for(var Re=!1,Le=de;0<=--Le&&nt[Le]==="\\";)Re=!Re;return Re?"|":" |"}).split(/ \|/),J=0;if(q.length>ge)q.splice(ge);else for(;q.length<ge;)q.push("");for(;J<q.length;J++)q[J]=q[J].trim().replace(/\\\|/g,"|");return q},ee=function(Me,ge){if(Me.indexOf(ge[1])===-1)return-1;for(var q=Me.length,J=0,U=0;U<q;U++)if(Me[U]==="\\")U++;else if(Me[U]===ge[0])J++;else if(Me[U]===ge[1]&&--J<0)return U;return-1},Z=Vt.defaults,R=z,X=Y,le=I,ue=ee;function Ce(Me,ge,q){var J=ge.href,U=ge.title?le(ge.title):null;return ge=Me[1].replace(/\\([\[\]])/g,"$1"),Me[0].charAt(0)!=="!"?{type:"link",raw:q,href:J,title:U,text:ge}:{type:"image",raw:q,href:J,title:U,text:le(ge)}}var ie=function(){function Me(q){this.options=q||Z}var ge=Me.prototype;return ge.space=function(q){if(q=this.rules.block.newline.exec(q))return 1<q[0].length?{type:"space",raw:q[0]}:{raw:`
`}},ge.code=function(q,J){if(q=this.rules.block.code.exec(q))return(J=J[J.length-1])&&J.type==="paragraph"?{raw:q[0],text:q[0].trimRight()}:(J=q[0].replace(/^ {4}/gm,""),{type:"code",raw:q[0],codeBlockStyle:"indented",text:this.options.pedantic?J:R(J,`
`)})},ge.fences=function(q){var J=this.rules.block.fences.exec(q);if(J){var U=J[0];return q=function(de,nt){if((de=de.match(/^(\s+)(?:```)/))===null)return nt;var Re=de[1];return nt.split(`
`).map(function(Le){var Ue=Le.match(/^\s+/);return Ue!==null&&Ue[0].length>=Re.length?Le.slice(Re.length):Le}).join(`
`)}(U,J[3]||""),{type:"code",raw:U,lang:J[2]&&J[2].trim(),text:q}}},ge.heading=function(q){if(q=this.rules.block.heading.exec(q))return{type:"heading",raw:q[0],depth:q[1].length,text:q[2]}},ge.nptable=function(q){if(q=this.rules.block.nptable.exec(q)){var J={type:"table",header:X(q[1].replace(/^ *| *\| *$/g,"")),align:q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:q[3]?q[3].replace(/\n$/,"").split(`
`):[],raw:q[0]};if(J.header.length===J.align.length){for(var U=J.align.length,de=0;de<U;de++)/^ *-+: *$/.test(J.align[de])?J.align[de]="right":/^ *:-+: *$/.test(J.align[de])?J.align[de]="center":/^ *:-+ *$/.test(J.align[de])?J.align[de]="left":J.align[de]=null;for(U=J.cells.length,de=0;de<U;de++)J.cells[de]=X(J.cells[de],J.header.length);return J}}},ge.hr=function(q){if(q=this.rules.block.hr.exec(q))return{type:"hr",raw:q[0]}},ge.blockquote=function(q){var J=this.rules.block.blockquote.exec(q);if(J)return q=J[0].replace(/^ *> ?/gm,""),{type:"blockquote",raw:J[0],text:q}},ge.list=function(q){if(q=this.rules.block.list.exec(q)){for(var J,U,de,nt,Re=q[0],Le=q[2],Ue=1<Le.length,st={type:"list",raw:Re,ordered:Ue,start:Ue?+Le.slice(0,-1):"",loose:!1,items:[]},lt=q[0].match(this.rules.block.item),Dt=!1,$n=lt.length,wn=this.rules.block.listItemStart.exec(lt[0]),rn=0;rn<$n;rn++){if(Re=J=lt[rn],rn!==$n-1){if((nt=this.rules.block.listItemStart.exec(lt[rn+1]))[1].length>wn[0].length||3<nt[1].length){lt.splice(rn,2,lt[rn]+`
`+lt[rn+1]),rn--,$n--;continue}(!this.options.pedantic||this.options.smartLists?nt[2][nt[2].length-1]!==Le[Le.length-1]:Ue==(nt[2].length===1))&&(U=lt.slice(rn+1).join(`
`),st.raw=st.raw.substring(0,st.raw.length-U.length),rn=$n-1),wn=nt}de=J.length,~(J=J.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf(`
 `)&&(de-=J.length,J=this.options.pedantic?J.replace(/^ {1,4}/gm,""):J.replace(new RegExp("^ {1,"+de+"}","gm"),"")),U=Dt||/\n\n(?!\s*$)/.test(J),rn!==$n-1&&(Dt=J.charAt(J.length-1)===`
`,U=U||Dt),U&&(st.loose=!0),nt=void 0,(de=/^\[[ xX]\] /.test(J))&&(nt=J[1]!==" ",J=J.replace(/^\[[ xX]\] +/,"")),st.items.push({type:"list_item",raw:Re,task:de,checked:nt,loose:U,text:J})}return st}},ge.html=function(q){if(q=this.rules.block.html.exec(q))return{type:this.options.sanitize?"paragraph":"html",raw:q[0],pre:!this.options.sanitizer&&(q[1]==="pre"||q[1]==="script"||q[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(q[0]):le(q[0]):q[0]}},ge.def=function(q){if(q=this.rules.block.def.exec(q))return q[3]&&(q[3]=q[3].substring(1,q[3].length-1)),{tag:q[1].toLowerCase().replace(/\s+/g," "),raw:q[0],href:q[2],title:q[3]}},ge.table=function(q){if(q=this.rules.block.table.exec(q)){var J={type:"table",header:X(q[1].replace(/^ *| *\| *$/g,"")),align:q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:q[3]?q[3].replace(/\n$/,"").split(`
`):[]};if(J.header.length===J.align.length){J.raw=q[0];for(var U=J.align.length,de=0;de<U;de++)/^ *-+: *$/.test(J.align[de])?J.align[de]="right":/^ *:-+: *$/.test(J.align[de])?J.align[de]="center":/^ *:-+ *$/.test(J.align[de])?J.align[de]="left":J.align[de]=null;for(U=J.cells.length,de=0;de<U;de++)J.cells[de]=X(J.cells[de].replace(/^ *\| *| *\| *$/g,""),J.header.length);return J}}},ge.lheading=function(q){if(q=this.rules.block.lheading.exec(q))return{type:"heading",raw:q[0],depth:q[2].charAt(0)==="="?1:2,text:q[1]}},ge.paragraph=function(q){if(q=this.rules.block.paragraph.exec(q))return{type:"paragraph",raw:q[0],text:q[1].charAt(q[1].length-1)===`
`?q[1].slice(0,-1):q[1]}},ge.text=function(q,J){if(q=this.rules.block.text.exec(q))return(J=J[J.length-1])&&J.type==="text"?{raw:q[0],text:q[0]}:{type:"text",raw:q[0],text:q[0]}},ge.escape=function(q){if(q=this.rules.inline.escape.exec(q))return{type:"escape",raw:q[0],text:le(q[1])}},ge.tag=function(q,J,U){if(q=this.rules.inline.tag.exec(q))return!J&&/^<a /i.test(q[0])?J=!0:J&&/^<\/a>/i.test(q[0])&&(J=!1),!U&&/^<(pre|code|kbd|script)(\s|>)/i.test(q[0])?U=!0:U&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(q[0])&&(U=!1),{type:this.options.sanitize?"text":"html",raw:q[0],inLink:J,inRawBlock:U,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(q[0]):le(q[0]):q[0]}},ge.link=function(q){var J=this.rules.inline.link.exec(q);if(J){-1<(q=ue(J[2],"()"))&&(de=(J[0].indexOf("!")===0?5:4)+J[1].length+q,J[2]=J[2].substring(0,q),J[0]=J[0].substring(0,de).trim(),J[3]=""),q=J[2];var U,de="";return de=this.options.pedantic?(U=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(q))?(q=U[1],U[3]):"":J[3]?J[3].slice(1,-1):"",Ce(J,{href:(q=q.trim().replace(/^<([\s\S]*)>$/,"$1"))&&q.replace(this.rules.inline._escapes,"$1"),title:de&&de.replace(this.rules.inline._escapes,"$1")},J[0])}},ge.reflink=function(q,J){if((U=this.rules.inline.reflink.exec(q))||(U=this.rules.inline.nolink.exec(q))){if((q=J[(q=(U[2]||U[1]).replace(/\s+/g," ")).toLowerCase()])&&q.href)return Ce(U,q,U[0]);var U=U[0].charAt(0);return{type:"text",raw:U,text:U}}},ge.strong=function(q,J,U){U===void 0&&(U="");var de=this.rules.inline.strong.start.exec(q);if(de&&(!de[1]||de[1]&&(U===""||this.rules.inline.punctuation.exec(U)))){J=J.slice(-1*q.length);var nt,Re=de[0]==="**"?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(Re.lastIndex=0;(de=Re.exec(J))!=null;)if(nt=this.rules.inline.strong.middle.exec(J.slice(0,de.index+3)))return{type:"strong",raw:q.slice(0,nt[0].length),text:q.slice(2,nt[0].length-2)}}},ge.em=function(q,J,U){U===void 0&&(U="");var de=this.rules.inline.em.start.exec(q);if(de&&(!de[1]||de[1]&&(U===""||this.rules.inline.punctuation.exec(U)))){J=J.slice(-1*q.length);var nt,Re=de[0]==="*"?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(Re.lastIndex=0;(de=Re.exec(J))!=null;)if(nt=this.rules.inline.em.middle.exec(J.slice(0,de.index+2)))return{type:"em",raw:q.slice(0,nt[0].length),text:q.slice(1,nt[0].length-1)}}},ge.codespan=function(q){var J=this.rules.inline.code.exec(q);if(J){var U=J[2].replace(/\n/g," "),de=/[^ ]/.test(U);return q=U.startsWith(" ")&&U.endsWith(" "),de&&q&&(U=U.substring(1,U.length-1)),U=le(U,!0),{type:"codespan",raw:J[0],text:U}}},ge.br=function(q){if(q=this.rules.inline.br.exec(q))return{type:"br",raw:q[0]}},ge.del=function(q){if(q=this.rules.inline.del.exec(q))return{type:"del",raw:q[0],text:q[1]}},ge.autolink=function(q,J){var U;if(q=this.rules.inline.autolink.exec(q))return J=q[2]==="@"?"mailto:"+(U=le(this.options.mangle?J(q[1]):q[1])):U=le(q[1]),{type:"link",raw:q[0],text:U,href:J,tokens:[{type:"text",raw:U,text:U}]}},ge.url=function(q,J){var U,de,nt,Re;if(U=this.rules.inline.url.exec(q)){if(U[2]==="@")nt="mailto:"+(de=le(this.options.mangle?J(U[0]):U[0]));else{for(;Re=U[0],U[0]=this.rules.inline._backpedal.exec(U[0])[0],Re!==U[0];);de=le(U[0]),nt=U[1]==="www."?"http://"+de:de}return{type:"link",raw:U[0],text:de,href:nt,tokens:[{type:"text",raw:de,text:de}]}}},ge.inlineText=function(q,J,U){if(q=this.rules.inline.text.exec(q))return U=J?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(q[0]):le(q[0]):q[0]:le(this.options.smartypants?U(q[0]):q[0]),{type:"text",raw:q[0],text:U}},Me}();Y=N,ee=D,N=ne,(D={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:Y,table:Y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/}).def=ee(D.def).replace("label",D._label).replace("title",D._title).getRegex(),D.bullet=/(?:[*+-]|\d{1,9}[.)])/,D.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,D.item=ee(D.item,"gm").replace(/bull/g,D.bullet).getRegex(),D.listItemStart=ee(/^( *)(bull)/).replace("bull",D.bullet).getRegex(),D.list=ee(D.list).replace(/bull/g,D.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+D.def.source+")").getRegex(),D._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",D._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,D.html=ee(D.html,"i").replace("comment",D._comment).replace("tag",D._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),D.paragraph=ee(D._paragraph).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",D._tag).getRegex(),D.blockquote=ee(D.blockquote).replace("paragraph",D.paragraph).getRegex(),D.normal=N({},D),D.gfm=N({},D.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),D.gfm.nptable=ee(D.gfm.nptable).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",D._tag).getRegex(),D.gfm.table=ee(D.gfm.table).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",D._tag).getRegex(),D.pedantic=N({},D.normal,{html:ee(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",D._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:Y,paragraph:ee(D.normal._paragraph).replace("hr",D.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",D.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),(Y={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Y,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"}).punctuation=ee(Y.punctuation).replace(/punctuation/g,Y._punctuation).getRegex(),Y._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",Y._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",Y._comment=ee(D._comment).replace("(?:-->|$)","-->").getRegex(),Y.em.start=ee(Y.em.start).replace(/punctuation/g,Y._punctuation).getRegex(),Y.em.middle=ee(Y.em.middle).replace(/punctuation/g,Y._punctuation).replace(/overlapSkip/g,Y._overlapSkip).getRegex(),Y.em.endAst=ee(Y.em.endAst,"g").replace(/punctuation/g,Y._punctuation).getRegex(),Y.em.endUnd=ee(Y.em.endUnd,"g").replace(/punctuation/g,Y._punctuation).getRegex(),Y.strong.start=ee(Y.strong.start).replace(/punctuation/g,Y._punctuation).getRegex(),Y.strong.middle=ee(Y.strong.middle).replace(/punctuation/g,Y._punctuation).replace(/overlapSkip/g,Y._overlapSkip).getRegex(),Y.strong.endAst=ee(Y.strong.endAst,"g").replace(/punctuation/g,Y._punctuation).getRegex(),Y.strong.endUnd=ee(Y.strong.endUnd,"g").replace(/punctuation/g,Y._punctuation).getRegex(),Y.blockSkip=ee(Y._blockSkip,"g").getRegex(),Y.overlapSkip=ee(Y._overlapSkip,"g").getRegex(),Y._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Y._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Y._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Y.autolink=ee(Y.autolink).replace("scheme",Y._scheme).replace("email",Y._email).getRegex(),Y._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Y.tag=ee(Y.tag).replace("comment",Y._comment).replace("attribute",Y._attribute).getRegex(),Y._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Y._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,Y._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Y.link=ee(Y.link).replace("label",Y._label).replace("href",Y._href).replace("title",Y._title).getRegex(),Y.reflink=ee(Y.reflink).replace("label",Y._label).getRegex(),Y.reflinkSearch=ee(Y.reflinkSearch,"g").replace("reflink",Y.reflink).replace("nolink",Y.nolink).getRegex(),Y.normal=N({},Y),Y.pedantic=N({},Y.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ee(/^!?\[(label)\]\((.*?)\)/).replace("label",Y._label).getRegex(),reflink:ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Y._label).getRegex()}),Y.gfm=N({},Y.normal,{escape:ee(Y.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),Y.gfm.url=ee(Y.gfm.url,"i").replace("email",Y.gfm._extended_email).getRegex(),Y.breaks=N({},Y.gfm,{br:ee(Y.br).replace("{2,}","*").getRegex(),text:ee(Y.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Y={block:D,inline:Y};var te=Vt.defaults,se=Y.block,me=Y.inline,Pe=function(Me,ge){if(ge<1)return"";for(var q="";1<ge;)1&ge&&(q+=Me),ge>>=1,Me+=Me;return q+Me};function Ke(Me){return Me.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function oe(Me){for(var ge,q="",J=Me.length,U=0;U<J;U++)ge=Me.charCodeAt(U),.5<Math.random()&&(ge="x"+ge.toString(16)),q+="&#"+ge+";";return q}var ce=function(){function Me(U){this.tokens=[],this.tokens.links=Object.create(null),this.options=U||te,this.options.tokenizer=this.options.tokenizer||new ie,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,U={block:se.normal,inline:me.normal},this.options.pedantic?(U.block=se.pedantic,U.inline=me.pedantic):this.options.gfm&&(U.block=se.gfm,this.options.breaks?U.inline=me.breaks:U.inline=me.gfm),this.tokenizer.rules=U}Me.lex=function(U,de){return new Me(de).lex(U)},Me.lexInline=function(U,de){return new Me(de).inlineTokens(U)};var ge,q,J=Me.prototype;return J.lex=function(U){return U=U.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(U,this.tokens,!0),this.inline(this.tokens),this.tokens},J.blockTokens=function(U,de,nt){var Re,Le,Ue,st;for(de===void 0&&(de=[]),nt===void 0&&(nt=!0),U=U.replace(/^ +$/gm,"");U;)if(Re=this.tokenizer.space(U))U=U.substring(Re.raw.length),Re.type&&de.push(Re);else if(Re=this.tokenizer.code(U,de))U=U.substring(Re.raw.length),Re.type?de.push(Re):((st=de[de.length-1]).raw+=`
`+Re.raw,st.text+=`
`+Re.text);else if(Re=this.tokenizer.fences(U))U=U.substring(Re.raw.length),de.push(Re);else if(Re=this.tokenizer.heading(U))U=U.substring(Re.raw.length),de.push(Re);else if(Re=this.tokenizer.nptable(U))U=U.substring(Re.raw.length),de.push(Re);else if(Re=this.tokenizer.hr(U))U=U.substring(Re.raw.length),de.push(Re);else if(Re=this.tokenizer.blockquote(U))U=U.substring(Re.raw.length),Re.tokens=this.blockTokens(Re.text,[],nt),de.push(Re);else if(Re=this.tokenizer.list(U)){for(U=U.substring(Re.raw.length),Ue=Re.items.length,Le=0;Le<Ue;Le++)Re.items[Le].tokens=this.blockTokens(Re.items[Le].text,[],!1);de.push(Re)}else if(Re=this.tokenizer.html(U))U=U.substring(Re.raw.length),de.push(Re);else if(nt&&(Re=this.tokenizer.def(U)))U=U.substring(Re.raw.length),this.tokens.links[Re.tag]||(this.tokens.links[Re.tag]={href:Re.href,title:Re.title});else if(Re=this.tokenizer.table(U))U=U.substring(Re.raw.length),de.push(Re);else if(Re=this.tokenizer.lheading(U))U=U.substring(Re.raw.length),de.push(Re);else if(nt&&(Re=this.tokenizer.paragraph(U)))U=U.substring(Re.raw.length),de.push(Re);else if(Re=this.tokenizer.text(U,de))U=U.substring(Re.raw.length),Re.type?de.push(Re):((st=de[de.length-1]).raw+=`
`+Re.raw,st.text+=`
`+Re.text);else if(U){var lt="Infinite loop on byte: "+U.charCodeAt(0);if(this.options.silent){console.error(lt);break}throw new Error(lt)}return de},J.inline=function(U){for(var de,nt,Re,Le,Ue,st=U.length,lt=0;lt<st;lt++)switch((Ue=U[lt]).type){case"paragraph":case"text":case"heading":Ue.tokens=[],this.inlineTokens(Ue.text,Ue.tokens);break;case"table":for(Ue.tokens={header:[],cells:[]},Re=Ue.header.length,de=0;de<Re;de++)Ue.tokens.header[de]=[],this.inlineTokens(Ue.header[de],Ue.tokens.header[de]);for(Re=Ue.cells.length,de=0;de<Re;de++)for(Le=Ue.cells[de],Ue.tokens.cells[de]=[],nt=0;nt<Le.length;nt++)Ue.tokens.cells[de][nt]=[],this.inlineTokens(Le[nt],Ue.tokens.cells[de][nt]);break;case"blockquote":this.inline(Ue.tokens);break;case"list":for(Re=Ue.items.length,de=0;de<Re;de++)this.inline(Ue.items[de].tokens)}return U},J.inlineTokens=function(U,de,nt,Re,Le){var Ue;de===void 0&&(de=[]),nt===void 0&&(nt=!1),Re===void 0&&(Re=!1),Le===void 0&&(Le="");var st,lt=U;if(this.tokens.links){var Dt=Object.keys(this.tokens.links);if(0<Dt.length)for(;(st=this.tokenizer.rules.inline.reflinkSearch.exec(lt))!=null;)Dt.includes(st[0].slice(st[0].lastIndexOf("[")+1,-1))&&(lt=lt.slice(0,st.index)+"["+Pe("a",st[0].length-2)+"]"+lt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(st=this.tokenizer.rules.inline.blockSkip.exec(lt))!=null;)lt=lt.slice(0,st.index)+"["+Pe("a",st[0].length-2)+"]"+lt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;U;)if(Ue=this.tokenizer.escape(U))U=U.substring(Ue.raw.length),de.push(Ue);else if(Ue=this.tokenizer.tag(U,nt,Re))U=U.substring(Ue.raw.length),nt=Ue.inLink,Re=Ue.inRawBlock,de.push(Ue);else if(Ue=this.tokenizer.link(U))U=U.substring(Ue.raw.length),Ue.type==="link"&&(Ue.tokens=this.inlineTokens(Ue.text,[],!0,Re)),de.push(Ue);else if(Ue=this.tokenizer.reflink(U,this.tokens.links))U=U.substring(Ue.raw.length),Ue.type==="link"&&(Ue.tokens=this.inlineTokens(Ue.text,[],!0,Re)),de.push(Ue);else if(Ue=this.tokenizer.strong(U,lt,Le))U=U.substring(Ue.raw.length),Ue.tokens=this.inlineTokens(Ue.text,[],nt,Re),de.push(Ue);else if(Ue=this.tokenizer.em(U,lt,Le))U=U.substring(Ue.raw.length),Ue.tokens=this.inlineTokens(Ue.text,[],nt,Re),de.push(Ue);else if(Ue=this.tokenizer.codespan(U))U=U.substring(Ue.raw.length),de.push(Ue);else if(Ue=this.tokenizer.br(U))U=U.substring(Ue.raw.length),de.push(Ue);else if(Ue=this.tokenizer.del(U))U=U.substring(Ue.raw.length),Ue.tokens=this.inlineTokens(Ue.text,[],nt,Re),de.push(Ue);else if(Ue=this.tokenizer.autolink(U,oe))U=U.substring(Ue.raw.length),de.push(Ue);else if(nt||!(Ue=this.tokenizer.url(U,oe))){if(Ue=this.tokenizer.inlineText(U,Re,Ke))U=U.substring(Ue.raw.length),Le=Ue.raw.slice(-1),de.push(Ue);else if(U){var $n="Infinite loop on byte: "+U.charCodeAt(0);if(this.options.silent){console.error($n);break}throw new Error($n)}}else U=U.substring(Ue.raw.length),de.push(Ue);return de},ge=Me,q=[{key:"rules",get:function(){return{block:se,inline:me}}}],(J=null)&&w(ge.prototype,J),q&&w(ge,q),Me}(),_e=Vt.defaults,Ee=function(Me,ge,q){if(Me){var J;try{J=decodeURIComponent(l(q)).replace(v,"").toLowerCase()}catch(U){return null}if(J.indexOf("javascript:")===0||J.indexOf("vbscript:")===0||J.indexOf("data:")===0)return null}ge&&!j.test(q)&&(q=function(U,de){E[" "+U]||(L.test(U)?E[" "+U]=U+"/":E[" "+U]=z(U,"/",!0));var nt=(U=E[" "+U]).indexOf(":")===-1;return de.substring(0,2)==="//"?nt?de:U.replace(W,"$1")+de:de.charAt(0)==="/"?nt?de:U.replace(V,"$1")+de:U+de}(ge,q));try{q=encodeURI(q).replace(/%25/g,"%")}catch(U){return null}return q},Je=I,ft=function(){function Me(q){this.options=q||_e}var ge=Me.prototype;return ge.code=function(q,J,U){var de=(J||"").match(/\S*/)[0];return!this.options.highlight||(J=this.options.highlight(q,de))!=null&&J!==q&&(U=!0,q=J),de?'<pre><code class="'+this.options.langPrefix+Je(de,!0)+'">'+(U?q:Je(q,!0))+`</code></pre>
`:"<pre><code>"+(U?q:Je(q,!0))+`</code></pre>
`},ge.blockquote=function(q){return`<blockquote>
`+q+`</blockquote>
`},ge.html=function(q){return q},ge.heading=function(q,J,U,de){return this.options.headerIds?"<h"+J+' id="'+this.options.headerPrefix+de.slug(U)+'">'+q+"</h"+J+`>
`:"<h"+J+">"+q+"</h"+J+`>
`},ge.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ge.list=function(q,J,U){var de=J?"ol":"ul";return"<"+de+(J&&U!==1?' start="'+U+'"':"")+`>
`+q+"</"+de+`>
`},ge.listitem=function(q){return"<li>"+q+`</li>
`},ge.checkbox=function(q){return"<input "+(q?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ge.paragraph=function(q){return"<p>"+q+`</p>
`},ge.table=function(q,J){return`<table>
<thead>
`+q+`</thead>
`+(J=J&&"<tbody>"+J+"</tbody>")+`</table>
`},ge.tablerow=function(q){return`<tr>
`+q+`</tr>
`},ge.tablecell=function(q,J){var U=J.header?"th":"td";return(J.align?"<"+U+' align="'+J.align+'">':"<"+U+">")+q+"</"+U+`>
`},ge.strong=function(q){return"<strong>"+q+"</strong>"},ge.em=function(q){return"<em>"+q+"</em>"},ge.codespan=function(q){return"<code>"+q+"</code>"},ge.br=function(){return this.options.xhtml?"<br/>":"<br>"},ge.del=function(q){return"<del>"+q+"</del>"},ge.link=function(q,J,U){return(q=Ee(this.options.sanitize,this.options.baseUrl,q))===null?U:(q='<a href="'+Je(q)+'"',J&&(q+=' title="'+J+'"'),q+">"+U+"</a>")},ge.image=function(q,J,U){return(q=Ee(this.options.sanitize,this.options.baseUrl,q))===null?U:(U='<img src="'+q+'" alt="'+U+'"',J&&(U+=' title="'+J+'"'),U+(this.options.xhtml?"/>":">"))},ge.text=function(q){return q},Me}(),be=function(){function Me(){}var ge=Me.prototype;return ge.strong=function(q){return q},ge.em=function(q){return q},ge.codespan=function(q){return q},ge.del=function(q){return q},ge.html=function(q){return q},ge.text=function(q){return q},ge.link=function(q,J,U){return""+U},ge.image=function(q,J,U){return""+U},ge.br=function(){return""},Me}(),je=function(){function Me(){this.seen={}}var ge=Me.prototype;return ge.serialize=function(q){return q.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ge.getNextSafeSlug=function(q,J){var U=q,de=0;if(this.seen.hasOwnProperty(U))for(de=this.seen[q];U=q+"-"+ ++de,this.seen.hasOwnProperty(U););return J||(this.seen[q]=de,this.seen[U]=0),U},ge.slug=function(q,J){J===void 0&&(J={});var U=this.serialize(q);return this.getNextSafeSlug(U,J.dryrun)},Me}(),ye=Vt.defaults,ke=P,dt=function(){function Me(q){this.options=q||ye,this.options.renderer=this.options.renderer||new ft,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new be,this.slugger=new je}Me.parse=function(q,J){return new Me(J).parse(q)},Me.parseInline=function(q,J){return new Me(J).parseInline(q)};var ge=Me.prototype;return ge.parse=function(q,J){J===void 0&&(J=!0);for(var U,de,nt,Re,Le,Ue,st,lt,Dt,$n,wn,rn,Cn,qn,rr,Dn="",Yn=q.length,ir=0;ir<Yn;ir++)switch((lt=q[ir]).type){case"space":continue;case"hr":Dn+=this.renderer.hr();continue;case"heading":Dn+=this.renderer.heading(this.parseInline(lt.tokens),lt.depth,ke(this.parseInline(lt.tokens,this.textRenderer)),this.slugger);continue;case"code":Dn+=this.renderer.code(lt.text,lt.lang,lt.escaped);continue;case"table":for(Ue=Dt="",nt=lt.header.length,U=0;U<nt;U++)Ue+=this.renderer.tablecell(this.parseInline(lt.tokens.header[U]),{header:!0,align:lt.align[U]});for(Dt+=this.renderer.tablerow(Ue),st="",nt=lt.cells.length,U=0;U<nt;U++){for(Ue="",Re=(Le=lt.tokens.cells[U]).length,de=0;de<Re;de++)Ue+=this.renderer.tablecell(this.parseInline(Le[de]),{header:!1,align:lt.align[de]});st+=this.renderer.tablerow(Ue)}Dn+=this.renderer.table(Dt,st);continue;case"blockquote":st=this.parse(lt.tokens),Dn+=this.renderer.blockquote(st);continue;case"list":for(Dt=lt.ordered,fr=lt.start,$n=lt.loose,nt=lt.items.length,st="",U=0;U<nt;U++)Cn=(rn=lt.items[U]).checked,qn=rn.task,wn="",rn.task&&(rr=this.renderer.checkbox(Cn),$n?0<rn.tokens.length&&rn.tokens[0].type==="text"?(rn.tokens[0].text=rr+" "+rn.tokens[0].text,rn.tokens[0].tokens&&0<rn.tokens[0].tokens.length&&rn.tokens[0].tokens[0].type==="text"&&(rn.tokens[0].tokens[0].text=rr+" "+rn.tokens[0].tokens[0].text)):rn.tokens.unshift({type:"text",text:rr}):wn+=rr),wn+=this.parse(rn.tokens,$n),st+=this.renderer.listitem(wn,qn,Cn);Dn+=this.renderer.list(st,Dt,fr);continue;case"html":Dn+=this.renderer.html(lt.text);continue;case"paragraph":Dn+=this.renderer.paragraph(this.parseInline(lt.tokens));continue;case"text":for(st=lt.tokens?this.parseInline(lt.tokens):lt.text;ir+1<Yn&&q[ir+1].type==="text";)st+=`
`+((lt=q[++ir]).tokens?this.parseInline(lt.tokens):lt.text);Dn+=J?this.renderer.paragraph(st):st;continue;default:var fr='Token with "'+lt.type+'" type was not found.';if(this.options.silent)return void console.error(fr);throw new Error(fr)}return Dn},ge.parseInline=function(q,J){J=J||this.renderer;for(var U="",de=q.length,nt=0;nt<de;nt++)switch((Re=q[nt]).type){case"escape":U+=J.text(Re.text);break;case"html":U+=J.html(Re.text);break;case"link":U+=J.link(Re.href,Re.title,this.parseInline(Re.tokens,J));break;case"image":U+=J.image(Re.href,Re.title,Re.text);break;case"strong":U+=J.strong(this.parseInline(Re.tokens,J));break;case"em":U+=J.em(this.parseInline(Re.tokens,J));break;case"codespan":U+=J.codespan(Re.text);break;case"br":U+=J.br();break;case"del":U+=J.del(this.parseInline(Re.tokens,J));break;case"text":U+=J.text(Re.text);break;default:var Re='Token with "'+Re.type+'" type was not found.';if(this.options.silent)return void console.error(Re);throw new Error(Re)}return U},Me}(),kt=ne,pt=function(Me){Me&&Me.sanitize&&!Me.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},Ot=I,sn=(I=Vt.getDefaults,Vt.changeDefaults),Vt=Vt.defaults;function Mt(Me,ge,q){if(Me==null)throw new Error("marked(): input parameter is undefined or null");if(typeof Me!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Me)+", string expected");if(typeof ge=="function"&&(q=ge,ge=null),ge=kt({},Mt.defaults,ge||{}),pt(ge),q){var J,U=ge.highlight;try{J=ce.lex(Me,ge)}catch(Le){return q(Le)}var de=function(Le){var Ue;if(!Le)try{Ue=dt.parse(J,ge)}catch(st){Le=st}return ge.highlight=U,Le?q(Le):q(null,Ue)};if(!U||U.length<3)return de();if(delete ge.highlight,!J.length)return de();var nt=0;return Mt.walkTokens(J,function(Le){Le.type==="code"&&(nt++,setTimeout(function(){U(Le.text,Le.lang,function(Ue,st){return Ue?de(Ue):(st!=null&&st!==Le.text&&(Le.text=st,Le.escaped=!0),void(--nt==0&&de()))})},0))}),void(nt===0&&de())}try{var Re=ce.lex(Me,ge);return ge.walkTokens&&Mt.walkTokens(Re,ge.walkTokens),dt.parse(Re,ge)}catch(Le){if(Le.message+=`
Please report this to https://github.com/markedjs/marked.`,ge.silent)return"<p>An error occurred:</p><pre>"+Ot(Le.message+"",!0)+"</pre>";throw Le}}return Mt.options=Mt.setOptions=function(Me){return kt(Mt.defaults,Me),sn(Mt.defaults),Mt},Mt.getDefaults=I,Mt.defaults=Vt,Mt.use=function(Me){var ge,q=kt({},Me);Me.renderer&&function(){var J,U=Mt.defaults.renderer||new ft;for(J in Me.renderer)!function(de){var nt=U[de];U[de]=function(){for(var Re=arguments.length,Le=new Array(Re),Ue=0;Ue<Re;Ue++)Le[Ue]=arguments[Ue];var st=Me.renderer[de].apply(U,Le);return st===!1&&(st=nt.apply(U,Le)),st}}(J);q.renderer=U}(),Me.tokenizer&&function(){var J,U=Mt.defaults.tokenizer||new ie;for(J in Me.tokenizer)!function(de){var nt=U[de];U[de]=function(){for(var Re=arguments.length,Le=new Array(Re),Ue=0;Ue<Re;Ue++)Le[Ue]=arguments[Ue];var st=Me.tokenizer[de].apply(U,Le);return st===!1&&(st=nt.apply(U,Le)),st}}(J);q.tokenizer=U}(),Me.walkTokens&&(ge=Mt.defaults.walkTokens,q.walkTokens=function(J){Me.walkTokens(J),ge&&ge(J)}),Mt.setOptions(q)},Mt.walkTokens=function(Me,ge){for(var q=y(Me);!(J=q()).done;){var J=J.value;switch(ge(J),J.type){case"table":for(var U=y(J.tokens.header);!(de=U()).done;){var de=de.value;Mt.walkTokens(de,ge)}for(var nt,Re=y(J.tokens.cells);!(nt=Re()).done;)for(var Le=y(nt.value);!(Ue=Le()).done;){var Ue=Ue.value;Mt.walkTokens(Ue,ge)}break;case"list":Mt.walkTokens(J.items,ge);break;default:J.tokens&&Mt.walkTokens(J.tokens,ge)}}},Mt.parseInline=function(Me,ge){if(Me==null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Me!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Me)+", string expected");ge=kt({},Mt.defaults,ge||{}),pt(ge);try{var q=ce.lexInline(Me,ge);return ge.walkTokens&&Mt.walkTokens(q,ge.walkTokens),dt.parseInline(q,ge)}catch(J){if(J.message+=`
Please report this to https://github.com/markedjs/marked.`,ge.silent)return"<p>An error occurred:</p><pre>"+Ot(J.message+"",!0)+"</pre>";throw J}},Mt.Parser=dt,Mt.parser=dt.parse,Mt.Renderer=ft,Mt.TextRenderer=be,Mt.Lexer=ce,Mt.lexer=ce.lex,Mt.Tokenizer=ie,Mt.Slugger=je,Mt.parse=Mt},typeof k=="object"&&pe!==void 0?pe.exports=A():typeof h=="function"&&h.amd?h(A):(F=typeof globalThis!="undefined"?globalThis:F||self).marked=A(),Object.defineProperty(k,"__esModule",{value:!0}),k.default=_},{}],7:[function(H,pe,k){var _={},F=(pe=void 0,function(){let h=arguments[arguments.length-1];A=h(),F=void 0});F.amd=!0;var A=function(h){var w=/\blang(?:uage)?-([\w-]+)\b/i,u=0,y={manual:!0,disableWorkerMessageHandler:h.Prism&&h.Prism.disableWorkerMessageHandler,util:{encode:function l(c){return c instanceof S?new S(c.type,l(c.content),c.alias):Array.isArray(c)?c.map(l):c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(l){return Object.prototype.toString.call(l).slice(8,-1)},objId:function(l){return l.__id||Object.defineProperty(l,"__id",{value:++u}),l.__id},clone:function l(c,v){var j,E;switch(v=v||{},y.util.type(c)){case"Object":if(E=y.util.objId(c),v[E])return v[E];for(var L in j={},v[E]=j,c)c.hasOwnProperty(L)&&(j[L]=l(c[L],v));return j;case"Array":return E=y.util.objId(c),v[E]?v[E]:(j=[],v[E]=j,c.forEach(function(W,V){j[V]=l(W,v)}),j);default:return c}},getLanguage:function(l){for(;l&&!w.test(l.className);)l=l.parentElement;return l?(l.className.match(w)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(j){var l=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(j.stack)||[])[1];if(l){var c=document.getElementsByTagName("script");for(var v in c)if(c[v].src==l)return c[v]}return null}},isActive:function(l,c,v){for(var j="no-"+c;l;){var E=l.classList;if(E.contains(c))return!0;if(E.contains(j))return!1;l=l.parentElement}return!!v}},languages:{extend:function(l,c){var v=y.util.clone(y.languages[l]);for(var j in c)v[j]=c[j];return v},insertBefore:function(l,c,v,j){var E=(j=j||y.languages)[l],L={};for(var W in E)if(E.hasOwnProperty(W)){if(W==c)for(var V in v)v.hasOwnProperty(V)&&(L[V]=v[V]);v.hasOwnProperty(W)||(L[W]=E[W])}var z=j[l];return j[l]=L,y.languages.DFS(y.languages,function(I,P){P===z&&I!=l&&(this[I]=L)}),L},DFS:function l(c,v,j,E){E=E||{};var L=y.util.objId;for(var W in c)if(c.hasOwnProperty(W)){v.call(c,W,c[W],j||W);var V=c[W],z=y.util.type(V);z!=="Object"||E[L(V)]?z!=="Array"||E[L(V)]||(E[L(V)]=!0,l(V,v,W,E)):(E[L(V)]=!0,l(V,v,null,E))}}},plugins:{},highlightAll:function(l,c){y.highlightAllUnder(document,l,c)},highlightAllUnder:function(l,c,v){var j={callback:v,container:l,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};y.hooks.run("before-highlightall",j),j.elements=Array.prototype.slice.apply(j.container.querySelectorAll(j.selector)),y.hooks.run("before-all-elements-highlight",j);for(var E,L=0;E=j.elements[L++];)y.highlightElement(E,c===!0,j.callback)},highlightElement:function(l,c,v){var j=y.util.getLanguage(l),E=y.languages[j];l.className=l.className.replace(w,"").replace(/\s+/g," ")+" language-"+j;var L=l.parentElement;L&&L.nodeName.toLowerCase()==="pre"&&(L.className=L.className.replace(w,"").replace(/\s+/g," ")+" language-"+j);var W={element:l,language:j,grammar:E,code:l.textContent};function V(I){W.highlightedCode=I,y.hooks.run("before-insert",W),W.element.innerHTML=W.highlightedCode,y.hooks.run("after-highlight",W),y.hooks.run("complete",W),v&&v.call(W.element)}if(y.hooks.run("before-sanity-check",W),!W.code)return y.hooks.run("complete",W),void(v&&v.call(W.element));if(y.hooks.run("before-highlight",W),W.grammar)if(c&&h.Worker){var z=new Worker(y.filename);z.onmessage=function(I){V(I.data)},z.postMessage(JSON.stringify({language:W.language,code:W.code,immediateClose:!0}))}else V(y.highlight(W.code,W.grammar,W.language));else V(y.util.encode(W.code))},highlight:function(l,c,v){var j={code:l,grammar:c,language:v};return y.hooks.run("before-tokenize",j),j.tokens=y.tokenize(j.code,j.grammar),y.hooks.run("after-tokenize",j),S.stringify(y.util.encode(j.tokens),j.language)},tokenize:function(l,c){var v=c.rest;if(v){for(var j in v)c[j]=v[j];delete c.rest}var E=new m;return x(E,E.head,l),O(l,E,c,E.head,0),function(L){for(var W=[],V=L.head.next;V!==L.tail;)W.push(V.value),V=V.next;return W}(E)},hooks:{all:{},add:function(l,c){var v=y.hooks.all;v[l]=v[l]||[],v[l].push(c)},run:function(l,c){var v=y.hooks.all[l];if(v&&v.length)for(var j,E=0;j=v[E++];)j(c)}},Token:S};function S(l,c,v,j){this.type=l,this.content=c,this.alias=v,this.length=0|(j||"").length}function O(l,c,v,j,E,L){for(var W in v)if(v.hasOwnProperty(W)&&v[W]){var V=v[W];V=Array.isArray(V)?V:[V];for(var z=0;z<V.length;++z){if(L&&L.cause==W+","+z)return;var I=V[z],P=I.inside,D=!!I.lookbehind,N=!!I.greedy,ne=0,Y=I.alias;if(N&&!I.pattern.global){var ee=I.pattern.toString().match(/[imsuy]*$/)[0];I.pattern=RegExp(I.pattern.source,ee+"g")}for(var Z=I.pattern||I,R=j.next,X=E;R!==c.tail&&!(L&&X>=L.reach);X+=R.value.length,R=R.next){var le=R.value;if(c.length>l.length)return;if(!(le instanceof S)){var ue=1;if(N&&R!=c.tail.prev){if(Z.lastIndex=X,!(me=Z.exec(l)))break;var Ce=me.index+(D&&me[1]?me[1].length:0),ie=me.index+me[0].length,te=X;for(te+=R.value.length;Ce>=te;)te+=(R=R.next).value.length;if(X=te-=R.value.length,R.value instanceof S)continue;for(var se=R;se!==c.tail&&(te<ie||typeof se.value=="string");se=se.next)ue++,te+=se.value.length;ue--,le=l.slice(X,te),me.index-=X}else{Z.lastIndex=0;var me=Z.exec(le)}if(me){D&&(ne=me[1]?me[1].length:0),Ce=me.index+ne;var Pe=me[0].slice(ne),Ke=(ie=Ce+Pe.length,le.slice(0,Ce)),oe=le.slice(ie),ce=X+le.length;L&&ce>L.reach&&(L.reach=ce);var _e=R.prev;Ke&&(_e=x(c,_e,Ke),X+=Ke.length),f(c,_e,ue),R=x(c,_e,new S(W,P?y.tokenize(Pe,P):Pe,Y,Pe)),oe&&x(c,R,oe),ue>1&&O(l,c,v,R.prev,X,{cause:W+","+z,reach:ce})}}}}}}function m(){var l={value:null,prev:null,next:null},c={value:null,prev:l,next:null};l.next=c,this.head=l,this.tail=c,this.length=0}function x(l,c,v){var j=c.next,E={value:v,prev:c,next:j};return c.next=E,j.prev=E,l.length++,E}function f(l,c,v){for(var j=c.next,E=0;E<v&&j!==l.tail;E++)j=j.next;c.next=j,j.prev=c,l.length-=E}if(S.stringify=function l(c,v){if(typeof c=="string")return c;if(Array.isArray(c)){var j="";return c.forEach(function(z){j+=l(z,v)}),j}var E={type:c.type,content:l(c.content,v),tag:"span",classes:["token",c.type],attributes:{},language:v},L=c.alias;L&&(Array.isArray(L)?Array.prototype.push.apply(E.classes,L):E.classes.push(L)),y.hooks.run("wrap",E);var W="";for(var V in E.attributes)W+=" "+V+'="'+(E.attributes[V]||"").replace(/"/g,"&quot;")+'"';return"<"+E.tag+' class="'+E.classes.join(" ")+'"'+W+">"+E.content+"</"+E.tag+">"},!h.document)return h.addEventListener&&(y.disableWorkerMessageHandler||h.addEventListener("message",function(l){var c=JSON.parse(l.data),v=c.language,j=c.code,E=c.immediateClose;h.postMessage(y.highlight(j,y.languages[v],v)),E&&h.close()},!1)),y;var p=y.util.currentScript();function g(){y.manual||y.highlightAll()}if(p&&(y.filename=p.src,p.hasAttribute("data-manual")&&(y.manual=!0)),!y.manual){var d=document.readyState;d==="loading"||d==="interactive"&&p&&p.defer?document.addEventListener("DOMContentLoaded",g):window.requestAnimationFrame?window.requestAnimationFrame(g):window.setTimeout(g,16)}return y}(typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{});pe!==void 0&&pe.exports&&(pe.exports=A),_!==void 0&&(_.Prism=A),A.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},A.languages.markup.tag.inside["attr-value"].inside.entity=A.languages.markup.entity,A.languages.markup.doctype.inside["internal-subset"].inside=A.languages.markup,A.hooks.add("wrap",function(h){h.type==="entity"&&(h.attributes.title=h.content.replace(/&amp;/,"&"))}),Object.defineProperty(A.languages.markup.tag,"addInlined",{value:function(h,w){var u={};u["language-"+w]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:A.languages[w]},u.cdata=/^<!\[CDATA\[|\]\]>$/i;var y={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:u}};y["language-"+w]={pattern:/[\s\S]+/,inside:A.languages[w]};var S={};S[h]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return h}),"i"),lookbehind:!0,greedy:!0,inside:y},A.languages.insertBefore("markup","cdata",S)}}),A.languages.html=A.languages.markup,A.languages.mathml=A.languages.markup,A.languages.svg=A.languages.markup,A.languages.xml=A.languages.extend("markup",{}),A.languages.ssml=A.languages.xml,A.languages.atom=A.languages.xml,A.languages.rss=A.languages.xml,function(h){var w=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;h.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\((?!\s*\))\s*)(?:[^()]|\((?:[^()]|\([^()]*\))*\))+?(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+w.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+w.source+"$"),alias:"url"}}},selector:RegExp(`[^{}\\s](?:[^{};"']|`+w.source+")*?(?=\\s*\\{)"),string:{pattern:w,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},h.languages.css.atrule.inside.rest=h.languages.css;var u=h.languages.markup;u&&(u.tag.addInlined("style","css"),h.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:u.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:h.languages.css}},alias:"language-css"}},u.tag))}(A),A.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},A.languages.javascript=A.languages.extend("clike",{"class-name":[A.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),A.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,A.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:A.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:A.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:A.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:A.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),A.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:A.languages.javascript}},string:/[\s\S]+/}}}),A.languages.markup&&A.languages.markup.tag.addInlined("script","javascript"),A.languages.js=A.languages.javascript,function(){if(typeof self!="undefined"&&self.Prism&&self.document){var h=window.Prism,w={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},u="data-src-status",y="loading",S="loaded",O='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',m=/\blang(?:uage)?-([\w-]+)\b/i;h.hooks.add("before-highlightall",function(p){p.selector+=", "+O}),h.hooks.add("before-sanity-check",function(p){var g=p.element;if(g.matches(O)){p.code="",g.setAttribute(u,y);var d=g.appendChild(document.createElement("CODE"));d.textContent="Loading\u2026";var l=g.getAttribute("data-src"),c=p.language;if(c==="none"){var v=(/\.(\w+)$/.exec(l)||[,"none"])[1];c=w[v]||v}f(d,c),f(g,c);var j=h.plugins.autoloader;j&&j.loadLanguages(c);var E=new XMLHttpRequest;E.open("GET",l,!0),E.onreadystatechange=function(){var L,W;E.readyState==4&&(E.status<400&&E.responseText?(g.setAttribute(u,S),d.textContent=E.responseText,h.highlightElement(d)):(g.setAttribute(u,"failed"),E.status>=400?d.textContent=(L=E.status,W=E.statusText,"\u2716 Error "+L+" while fetching file: "+W):d.textContent="\u2716 Error: File does not exist or is empty"))},E.send(null)}}),h.plugins.fileHighlight={highlight:function(p){for(var g,d=(p||document).querySelectorAll(O),l=0;g=d[l++];)h.highlightElement(g)}};var x=!1;h.fileHighlight=function(){x||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),x=!0),h.plugins.fileHighlight.highlight.apply(this,arguments)}}function f(p,g){var d=p.className;d=d.replace(m," ")+" language-"+g,p.className=d.replace(/\s+/g," ").trim()}}(),A.languages.json={property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},A.languages.webmanifest=A.languages.json,function(h){h.languages.php=h.languages.extend("clike",{keyword:/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,boolean:{pattern:/\b(?:false|true)\b/i,alias:"constant"},constant:[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0}}),h.languages.insertBefore("php","string",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),h.languages.insertBefore("php","comment",{delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"}}),h.languages.insertBefore("php","keyword",{variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),h.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});var w={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)*)/,lookbehind:!0,inside:h.languages.php};h.languages.insertBefore("php","string",{"nowdoc-string":{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},"heredoc-string":{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:w}},"single-quoted-string":{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,alias:"string",inside:{interpolation:w}}}),delete h.languages.php.string,h.hooks.add("before-tokenize",function(u){/<\?/.test(u.code)&&h.languages["markup-templating"].buildPlaceholders(u,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/gi)}),h.hooks.add("after-tokenize",function(u){h.languages["markup-templating"].tokenizePlaceholders(u,"php")})}(A),A.languages.twig={comment:/\{#[\s\S]*?#\}/,tag:{pattern:/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}/,inside:{ld:{pattern:/^(?:\{\{-?|\{%-?\s*\w+)/,inside:{punctuation:/^(?:\{\{|\{%)-?/,keyword:/\w+/}},rd:{pattern:/-?(?:%\}|\}\})$/,inside:{punctuation:/.+/}},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:true|false|null)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-xor|b-or|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],property:/\b[a-zA-Z_]\w*\b/,punctuation:/[()\[\]{}:.,]/}},other:{pattern:/\S(?:[\s\S]*\S)?/,inside:A.languages.markup}},function(h){var w=/[*&][^\s[\]{},]+/,u=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,y="(?:"+u.source+"(?:[ 	]+"+w.source+")?|"+w.source+"(?:[ 	]+"+u.source+")?)";function S(O,m){m=(m||"").replace(/m/g,"")+"m";var x=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|]|}|\s*#))/.source.replace(/<<prop>>/g,function(){return y}).replace(/<<value>>/g,function(){return O});return RegExp(x,m)}h.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)[^\r\n]+(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return y})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)[^\r\n{[\]},#\s]+?(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return y})),lookbehind:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:S(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?)?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:S(/true|false/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:S(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:S(/("|')(?:(?!\2)[^\\\r\n]|\\.)*\2/.source),lookbehind:!0,greedy:!0},number:{pattern:S(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+\.?\d*|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:u,important:w,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},h.languages.yml=h.languages.yaml}(A),function(h){var w={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},u={pattern:/(^|[^\w.-])-?\d*\.?\d+/,lookbehind:!0},y={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/url\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:if|else|for|return|unless)(?=\s+|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:rgb|hsl)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:rgb|hsl)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:w,number:u,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:w,boolean:/\b(?:true|false)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:u,punctuation:/[{}()\[\];:,]/};y.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^{|}$/,alias:"punctuation"},rest:y}},y.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:y}},h.languages.stylus={"atrule-declaration":{pattern:/(^\s*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:y}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:(?:\{[^}]*\}|.+)|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:y}},statement:{pattern:/(^[ \t]*)(?:if|else|for|return|unless)[ \t]+.+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:y}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)[^{\r\n]*(?:;|[^{\r\n,](?=$)(?!(?:\r?\n|\r)(?:\{|\2[ \t]+)))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:y.interpolation}},rest:y}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t]+)))/m,lookbehind:!0,inside:{interpolation:y.interpolation,comment:y.comment,punctuation:/[{},]/}},func:y.func,string:y.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:y.interpolation,punctuation:/[{}()\[\];:.]/}}(A),Object.defineProperty(k,"__esModule",{value:!0}),k.default=A},{}],8:[function(H,pe,k){(function(_){var F=function(A){var h=/\blang(?:uage)?-([\w-]+)\b/i,w=0,u={manual:A.Prism&&A.Prism.manual,disableWorkerMessageHandler:A.Prism&&A.Prism.disableWorkerMessageHandler,util:{encode:function d(l){return l instanceof y?new y(l.type,d(l.content),l.alias):Array.isArray(l)?l.map(d):l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(d){return Object.prototype.toString.call(d).slice(8,-1)},objId:function(d){return d.__id||Object.defineProperty(d,"__id",{value:++w}),d.__id},clone:function d(l,c){var v,j;switch(c=c||{},u.util.type(l)){case"Object":if(j=u.util.objId(l),c[j])return c[j];for(var E in v={},c[j]=v,l)l.hasOwnProperty(E)&&(v[E]=d(l[E],c));return v;case"Array":return j=u.util.objId(l),c[j]?c[j]:(v=[],c[j]=v,l.forEach(function(L,W){v[W]=d(L,c)}),v);default:return l}},getLanguage:function(d){for(;d&&!h.test(d.className);)d=d.parentElement;return d?(d.className.match(h)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(v){var d=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(v.stack)||[])[1];if(d){var l=document.getElementsByTagName("script");for(var c in l)if(l[c].src==d)return l[c]}return null}},isActive:function(d,l,c){for(var v="no-"+l;d;){var j=d.classList;if(j.contains(l))return!0;if(j.contains(v))return!1;d=d.parentElement}return!!c}},languages:{extend:function(d,l){var c=u.util.clone(u.languages[d]);for(var v in l)c[v]=l[v];return c},insertBefore:function(d,l,c,v){var j=(v=v||u.languages)[d],E={};for(var L in j)if(j.hasOwnProperty(L)){if(L==l)for(var W in c)c.hasOwnProperty(W)&&(E[W]=c[W]);c.hasOwnProperty(L)||(E[L]=j[L])}var V=v[d];return v[d]=E,u.languages.DFS(u.languages,function(z,I){I===V&&z!=d&&(this[z]=E)}),E},DFS:function d(l,c,v,j){j=j||{};var E=u.util.objId;for(var L in l)if(l.hasOwnProperty(L)){c.call(l,L,l[L],v||L);var W=l[L],V=u.util.type(W);V!=="Object"||j[E(W)]?V!=="Array"||j[E(W)]||(j[E(W)]=!0,d(W,c,L,j)):(j[E(W)]=!0,d(W,c,null,j))}}},plugins:{},highlightAll:function(d,l){u.highlightAllUnder(document,d,l)},highlightAllUnder:function(d,l,c){var v={callback:c,container:d,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};u.hooks.run("before-highlightall",v),v.elements=Array.prototype.slice.apply(v.container.querySelectorAll(v.selector)),u.hooks.run("before-all-elements-highlight",v);for(var j,E=0;j=v.elements[E++];)u.highlightElement(j,l===!0,v.callback)},highlightElement:function(d,l,c){var v=u.util.getLanguage(d),j=u.languages[v];d.className=d.className.replace(h,"").replace(/\s+/g," ")+" language-"+v;var E=d.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&(E.className=E.className.replace(h,"").replace(/\s+/g," ")+" language-"+v);var L={element:d,language:v,grammar:j,code:d.textContent};function W(z){L.highlightedCode=z,u.hooks.run("before-insert",L),L.element.innerHTML=L.highlightedCode,u.hooks.run("after-highlight",L),u.hooks.run("complete",L),c&&c.call(L.element)}if(u.hooks.run("before-sanity-check",L),!L.code)return u.hooks.run("complete",L),void(c&&c.call(L.element));if(u.hooks.run("before-highlight",L),L.grammar)if(l&&A.Worker){var V=new Worker(u.filename);V.onmessage=function(z){W(z.data)},V.postMessage(JSON.stringify({language:L.language,code:L.code,immediateClose:!0}))}else W(u.highlight(L.code,L.grammar,L.language));else W(u.util.encode(L.code))},highlight:function(d,l,c){var v={code:d,grammar:l,language:c};return u.hooks.run("before-tokenize",v),v.tokens=u.tokenize(v.code,v.grammar),u.hooks.run("after-tokenize",v),y.stringify(u.util.encode(v.tokens),v.language)},tokenize:function(d,l){var c=l.rest;if(c){for(var v in c)l[v]=c[v];delete l.rest}var j=new O;return m(j,j.head,d),S(d,j,l,j.head,0),function(E){for(var L=[],W=E.head.next;W!==E.tail;)L.push(W.value),W=W.next;return L}(j)},hooks:{all:{},add:function(d,l){var c=u.hooks.all;c[d]=c[d]||[],c[d].push(l)},run:function(d,l){var c=u.hooks.all[d];if(c&&c.length)for(var v,j=0;v=c[j++];)v(l)}},Token:y};function y(d,l,c,v){this.type=d,this.content=l,this.alias=c,this.length=0|(v||"").length}function S(d,l,c,v,j,E){for(var L in c)if(c.hasOwnProperty(L)&&c[L]){var W=c[L];W=Array.isArray(W)?W:[W];for(var V=0;V<W.length;++V){if(E&&E.cause==L+","+V)return;var z=W[V],I=z.inside,P=!!z.lookbehind,D=!!z.greedy,N=0,ne=z.alias;if(D&&!z.pattern.global){var Y=z.pattern.toString().match(/[imsuy]*$/)[0];z.pattern=RegExp(z.pattern.source,Y+"g")}for(var ee=z.pattern||z,Z=v.next,R=j;Z!==l.tail&&!(E&&R>=E.reach);R+=Z.value.length,Z=Z.next){var X=Z.value;if(l.length>d.length)return;if(!(X instanceof y)){var le=1;if(D&&Z!=l.tail.prev){if(ee.lastIndex=R,!(se=ee.exec(d)))break;var ue=se.index+(P&&se[1]?se[1].length:0),Ce=se.index+se[0].length,ie=R;for(ie+=Z.value.length;ue>=ie;)ie+=(Z=Z.next).value.length;if(R=ie-=Z.value.length,Z.value instanceof y)continue;for(var te=Z;te!==l.tail&&(ie<Ce||typeof te.value=="string");te=te.next)le++,ie+=te.value.length;le--,X=d.slice(R,ie),se.index-=R}else{ee.lastIndex=0;var se=ee.exec(X)}if(se){P&&(N=se[1]?se[1].length:0),ue=se.index+N;var me=se[0].slice(N),Pe=(Ce=ue+me.length,X.slice(0,ue)),Ke=X.slice(Ce),oe=R+X.length;E&&oe>E.reach&&(E.reach=oe);var ce=Z.prev;Pe&&(ce=m(l,ce,Pe),R+=Pe.length),x(l,ce,le),Z=m(l,ce,new y(L,I?u.tokenize(me,I):me,ne,me)),Ke&&m(l,Z,Ke),le>1&&S(d,l,c,Z.prev,R,{cause:L+","+V,reach:oe})}}}}}}function O(){var d={value:null,prev:null,next:null},l={value:null,prev:d,next:null};d.next=l,this.head=d,this.tail=l,this.length=0}function m(d,l,c){var v=l.next,j={value:c,prev:l,next:v};return l.next=j,v.prev=j,d.length++,j}function x(d,l,c){for(var v=l.next,j=0;j<c&&v!==d.tail;j++)v=v.next;l.next=v,v.prev=l,d.length-=j}if(A.Prism=u,y.stringify=function d(l,c){if(typeof l=="string")return l;if(Array.isArray(l)){var v="";return l.forEach(function(V){v+=d(V,c)}),v}var j={type:l.type,content:d(l.content,c),tag:"span",classes:["token",l.type],attributes:{},language:c},E=l.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(j.classes,E):j.classes.push(E)),u.hooks.run("wrap",j);var L="";for(var W in j.attributes)L+=" "+W+'="'+(j.attributes[W]||"").replace(/"/g,"&quot;")+'"';return"<"+j.tag+' class="'+j.classes.join(" ")+'"'+L+">"+j.content+"</"+j.tag+">"},!A.document)return A.addEventListener&&(u.disableWorkerMessageHandler||A.addEventListener("message",function(d){var l=JSON.parse(d.data),c=l.language,v=l.code,j=l.immediateClose;A.postMessage(u.highlight(v,u.languages[c],c)),j&&A.close()},!1)),u;var f=u.util.currentScript();function p(){u.manual||u.highlightAll()}if(f&&(u.filename=f.src,f.hasAttribute("data-manual")&&(u.manual=!0)),!u.manual){var g=document.readyState;g==="loading"||g==="interactive"&&f&&f.defer?document.addEventListener("DOMContentLoaded",p):window.requestAnimationFrame?window.requestAnimationFrame(p):window.setTimeout(p,16)}return u}(typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{});pe!==void 0&&pe.exports&&(pe.exports=F),_!==void 0&&(_.Prism=F),F.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},F.languages.markup.tag.inside["attr-value"].inside.entity=F.languages.markup.entity,F.languages.markup.doctype.inside["internal-subset"].inside=F.languages.markup,F.hooks.add("wrap",function(A){A.type==="entity"&&(A.attributes.title=A.content.replace(/&amp;/,"&"))}),Object.defineProperty(F.languages.markup.tag,"addInlined",{value:function(A,h){var w={};w["language-"+h]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:F.languages[h]},w.cdata=/^<!\[CDATA\[|\]\]>$/i;var u={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:w}};u["language-"+h]={pattern:/[\s\S]+/,inside:F.languages[h]};var y={};y[A]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return A}),"i"),lookbehind:!0,greedy:!0,inside:u},F.languages.insertBefore("markup","cdata",y)}}),F.languages.html=F.languages.markup,F.languages.mathml=F.languages.markup,F.languages.svg=F.languages.markup,F.languages.xml=F.languages.extend("markup",{}),F.languages.ssml=F.languages.xml,F.languages.atom=F.languages.xml,F.languages.rss=F.languages.xml,function(A){var h=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;A.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\((?!\s*\))\s*)(?:[^()]|\((?:[^()]|\([^()]*\))*\))+?(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+h.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+h.source+"$"),alias:"url"}}},selector:RegExp(`[^{}\\s](?:[^{};"']|`+h.source+")*?(?=\\s*\\{)"),string:{pattern:h,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},A.languages.css.atrule.inside.rest=A.languages.css;var w=A.languages.markup;w&&(w.tag.addInlined("style","css"),A.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:w.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:A.languages.css}},alias:"language-css"}},w.tag))}(F),F.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},F.languages.javascript=F.languages.extend("clike",{"class-name":[F.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),F.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,F.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:F.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:F.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:F.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:F.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),F.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:F.languages.javascript}},string:/[\s\S]+/}}}),F.languages.markup&&F.languages.markup.tag.addInlined("script","javascript"),F.languages.js=F.languages.javascript,function(){if(typeof self!="undefined"&&self.Prism&&self.document){var A=window.Prism,h={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},w="data-src-status",u="loading",y="loaded",S='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',O=/\blang(?:uage)?-([\w-]+)\b/i;A.hooks.add("before-highlightall",function(f){f.selector+=", "+S}),A.hooks.add("before-sanity-check",function(f){var p=f.element;if(p.matches(S)){f.code="",p.setAttribute(w,u);var g=p.appendChild(document.createElement("CODE"));g.textContent="Loading\u2026";var d=p.getAttribute("data-src"),l=f.language;if(l==="none"){var c=(/\.(\w+)$/.exec(d)||[,"none"])[1];l=h[c]||c}x(g,l),x(p,l);var v=A.plugins.autoloader;v&&v.loadLanguages(l);var j=new XMLHttpRequest;j.open("GET",d,!0),j.onreadystatechange=function(){var E,L;j.readyState==4&&(j.status<400&&j.responseText?(p.setAttribute(w,y),g.textContent=j.responseText,A.highlightElement(g)):(p.setAttribute(w,"failed"),j.status>=400?g.textContent=(E=j.status,L=j.statusText,"\u2716 Error "+E+" while fetching file: "+L):g.textContent="\u2716 Error: File does not exist or is empty"))},j.send(null)}}),A.plugins.fileHighlight={highlight:function(f){for(var p,g=(f||document).querySelectorAll(S),d=0;p=g[d++];)A.highlightElement(p)}};var m=!1;A.fileHighlight=function(){m||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),m=!0),A.plugins.fileHighlight.highlight.apply(this,arguments)}}function x(f,p){var g=f.className;g=g.replace(O," ")+" language-"+p,f.className=g.replace(/\s+/g," ").trim()}}()}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],9:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _=y(H("../widget/index.js")),F=function(z){if(z&&z.__esModule)return z;if(z===null||S(z)!=="object"&&typeof z!="function")return{default:z};var I=u();if(I&&I.has(z))return I.get(z);var P={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in z)if(Object.prototype.hasOwnProperty.call(z,N)){var ne=D?Object.getOwnPropertyDescriptor(z,N):null;ne&&(ne.get||ne.set)?Object.defineProperty(P,N,ne):P[N]=z[N]}return P.default=z,I&&I.set(z,P),P}(H("../views/index-complex.js")),A=y(H("../core/router.js")),h=H("../core/utils/dom.js"),w=H("../core/utils/html.js");function u(){if(typeof WeakMap!="function")return null;var z=new WeakMap;return u=function(){return z},z}function y(z){return z&&z.__esModule?z:{default:z}}function S(z){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(z)}function O(z,I,P,D,N,ne,Y){try{var ee=z[ne](Y),Z=ee.value}catch(R){return void P(R)}ee.done?I(Z):Promise.resolve(Z).then(D,N)}function m(z){return function(){var I=this,P=arguments;return new Promise(function(D,N){var ne=z.apply(I,P);function Y(Z){O(ne,D,N,Y,ee,"next",Z)}function ee(Z){O(ne,D,N,Y,ee,"throw",Z)}Y(void 0)})}}function x(z,I){var P=Object.keys(z);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(z);I&&(D=D.filter(function(N){return Object.getOwnPropertyDescriptor(z,N).enumerable})),P.push.apply(P,D)}return P}function f(z){for(var I=1;I<arguments.length;I++){var P=arguments[I]!=null?arguments[I]:{};I%2?x(Object(P),!0).forEach(function(D){p(z,D,P[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(P)):x(Object(P)).forEach(function(D){Object.defineProperty(z,D,Object.getOwnPropertyDescriptor(P,D))})}return z}function p(z,I,P){return I in z?Object.defineProperty(z,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):z[I]=P,z}function g(z,I){if(!(z instanceof I))throw new TypeError("Cannot call a class as a function")}function d(z,I){for(var P=0;P<I.length;P++){var D=I[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(z,D.key,D)}}function l(z,I,P){return(l=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(D,N,ne){var Y=function(Z,R){for(;!Object.prototype.hasOwnProperty.call(Z,R)&&(Z=L(Z))!==null;);return Z}(D,N);if(Y){var ee=Object.getOwnPropertyDescriptor(Y,N);return ee.get?ee.get.call(ne):ee.value}})(z,I,P||z)}function c(z,I){return(c=Object.setPrototypeOf||function(P,D){return P.__proto__=D,P})(z,I)}function v(z){var I=function(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(P){return!1}}();return function(){var P,D=L(z);if(I){var N=L(this).constructor;P=Reflect.construct(D,arguments,N)}else P=D.apply(this,arguments);return j(this,P)}}function j(z,I){return!I||S(I)!=="object"&&typeof I!="function"?E(z):I}function E(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function L(z){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(z)}var W=function(z,I){return z!==void 0?z:I},V=function(z){!function(ee,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(Z&&Z.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Z&&c(ee,Z)}(Y,z);var I,P,D,N,ne=v(Y);function Y(ee){var Z,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};g(this,Y),(Z=ne.call(this,ee,null,f(f({},R),{},{darkmode:W(R.darkmode,"auto"),darkmodePersistent:W(R.darkmodePersistent,!0)}))).mode=Z.options.mode,Z.download=Z.options.setup.model&&Z.options.setup.model.download,Z.apply(F),Z.apply(A.default);var X=function(){};return Z.nav.menu.append({view:"block",className:["toggle-menu-item","dark-mode-switcher"],name:"dark-mode",when:'#.widget | darkmode.mode != "disabled"',postRender:function(le,ue,Ce,ie){var te,se=ie.hide;X(),X=Z.darkmode.on(function(me,Pe){var Ke=Pe==="auto"?"auto":me;Ke!==te&&(le.innerHTML="",te=Ke,Z.view.render(le,{view:"toggle-group",beforeToggles:'text:"Color schema"',onChange:function(oe){te=oe,Z.darkmode.set(oe),se()},value:Ke,data:[{value:!1,text:"Light"},{value:!0,text:"Dark"},{value:"auto",text:"Auto"}]},null,{widget:E(Z)}))},!0)}}),Z.mode==="modelfree"?Z.nav.append({name:"load-data",content:'text:"Load data"',onClick:function(){return(0,h.createElement)("input",{type:"file",accept:"application/json,.json",onchange:function(le){return Z.loadDataFromEvent(le)}}).click()}}):(Z.nav.append({name:"index-page",when:"#.widget | pageId != defaultPageId",data:'{ text: "Index", href: pageLink(#.widget.defaultPageId) }'}),Z.nav.append({name:"report-page",when:"#.widget | pageId != reportPageId",data:'{ text: "Make report", href: pageLink(#.widget.reportPageId) }'}),Z.nav.menu.append({name:"download",when:"#.widget | download",data:'{ text: "Download report", href: #.widget.download }'}),Z.nav.menu.append({name:"drop-cache",when:"#.widget | options.cache",content:'text:"Reload with no cache"',onClick:function(){return fetch("drop-cache").then(function(){return location.reload()})}}),Z.nav.menu.append({name:"switch-model",when:'#.widget | mode = "multi"',data:{href:".."},content:'text:"Switch model"'})),Z.nav.append({name:"inspect",content:`html:'<svg style="width:16px;height:16px;vertical-align:top;margin:1px -7px 0;opacity:.85" viewBox="1 -1 30 30"><path fill="currentColor" d="M 15 2 C 8.3844239 2 3 7.3844287 3 14 C 3 20.615571 8.3844239 26 15 26 L 25 26 C 26.105 26 27 25.105 27 24 L 27 14 C 27 7.3844287 21.615576 2 15 2 z M 15 4 C 20.534697 4 25 8.465307 25 14 C 25 19.534693 20.534697 24 15 24 C 9.4653034 24 5 19.534693 5 14 C 5 8.465307 9.4653034 4 15 4 z M 15.953125 6.9863281 A 1.0001 1.0001 0 0 0 15.013672 7.8359375 L 13.013672 19.835938 A 1.0001 1.0001 0 1 0 14.986328 20.164062 L 16.986328 8.1640625 A 1.0001 1.0001 0 0 0 15.953125 6.9863281 z M 10.980469 9.9882812 A 1.0001 1.0001 0 0 0 10.167969 10.445312 L 8.1679688 13.445312 A 1.0001 1.0001 0 0 0 8.1679688 14.554688 L 10.167969 17.554688 A 1.0001 1.0001 0 1 0 11.832031 16.445312 L 10.201172 14 L 11.832031 11.554688 A 1.0001 1.0001 0 0 0 10.980469 9.9882812 z M 18.988281 9.9882812 A 1.0001 1.0001 0 0 0 18.167969 11.554688 L 19.798828 14 L 18.167969 16.445312 A 1.0001 1.0001 0 1 0 19.832031 17.554688 L 21.832031 14.554688 A 1.0001 1.0001 0 0 0 21.832031 13.445312 L 19.832031 10.445312 A 1.0001 1.0001 0 0 0 18.988281 9.9882812 z"></path></svg>'`,onClick:function(){return Z.inspectMode.set(!Z.inspectMode.value)},postRender:function(le){le.title="Enable view inspection. Use Alt + click for quick inspection"}}),Z}return I=Y,(P=[{key:"setData",value:function(ee,Z){var R=this,X=l(L(Y.prototype),"setData",this).call(this,ee,Z);return this.mode==="modelfree"&&X.then(function(){R.defaultPageId=R.reportPageId,R.setPageHash(R.pageHash,!0)}),X}},{key:"loadDataFromEvent",value:function(ee){var Z=this,R=ee.dataTransfer||ee.target,X=R&&R.files&&R.files[0];if(ee.stopPropagation(),ee.preventDefault(),X.type==="application/json"){var le=new FileReader;le.onload=function(ue){var Ce=JSON.parse(ue.target.result);Z.setData(Ce,{name:"Discover file: ".concat(X.name),createdAt:new Date,data:Ce})},le.readAsText(X)}}},{key:"loadDataFromUrl",value:(N=m(function*(ee,Z){var R,X,le,ue=this,Ce=this.dom.loadingOverlay,ie=typeof ee=="string"?void 0:ee,te=Date.now(),se=function(ce){return Ce.querySelector(".title").textContent=ce},me=function(ce){return Ce.style.setProperty("--progress",ce)},Pe=(R=m(function*(){document.hidden||(yield Promise.race([new Promise(requestAnimationFrame),new Promise(function(ce){return setTimeout(ce,16)})]))}),function(){return R.apply(this,arguments)}),Ke=(X=m(function*(ce,_e){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};try{return se(ce+"..."),yield Pe(),me(_e),yield Ee()}finally{console.log("[Discovery] ".concat(ce," in ").concat(oe.time(),"ms")),yield Pe()}}),function(ce,_e){return X.apply(this,arguments)}),oe={start:Date.now(),time:function(){try{return Date.now()-this.start}finally{this.start=Date.now()}}};return Ce.innerHTML='<div class="title"></div><div class="progress"></div>',Ce.classList.remove("error","done"),Ce.classList.add("init"),yield Pe(),Ce.classList.remove("init"),Ke("Awaiting data",0,function(){return fetch(ie?"data:application/json,{}":ee)}).then(function(ce){return Ke("Receiving data",0,function(){return new Response(new ReadableStream({start:function(_e){return m(function*(){for(var Ee,Je,ft=Number(ce.headers.get("x-file-size"))||!ce.headers.get("content-encoding")&&Number(ce.headers.get("x-file-size")),be=ce.body.getReader(),je=Date.now(),ye=0,ke=0,dt=Date.now();;){var kt=yield be.read(),pt=kt.done,Ot=kt.value;if(pt){me(.9),yield Pe(),_e.close();break}_e.enqueue(Ot),ye+=Ot.length,ft?(ke=ye/ft,Ee=Math.round(100*ke)+"%"):(ke=.1+Math.min(.9,(Date.now()-je)/2e4),Ee=(ye/1048576).toFixed(1)+"MB"),Ee!==Je&&(ke===1||Date.now()-dt>50)&&(dt=Date.now(),Je=Ee,se("Receiving data (".concat(Ee,")...")),me(.9*ke),yield Pe())}})()}})).text()})}).then(function(ce){return Ke("Processing data (parse)",.95,function(){return ie||JSON.parse(ce)})}).then((le=m(function*(ce){if(console.log("[Discovery] loadDataFromUrl() received data in",Date.now()-te),ce.error){var _e=new Error(ce.error);throw _e.stack=null,_e}var Ee=Z?ce[Z]:ce,Je=f(f({name:"Discovery"},Z?ce:{data:ce}),{},{createdAt:Z&&ce.createdAt?new Date(Date.parse(ce.createdAt)):new Date});yield Ke("Processing data (prepare)",1,function(){return ue.setData(Ee,Je)}),Ce.classList.add("done")}),function(ce){return le.apply(this,arguments)})).catch(function(ce){Ce.classList.add("error"),Ce.innerHTML=(ue.options.cache?`<button class="view-button" onclick="fetch('drop-cache').then(() => location.reload())">Reload with no cache</button>`:"")+'<pre><div class="view-alert view-alert-danger">Error loading data</div><div class="view-alert view-alert-danger">'+(0,w.escapeHtml)(ce.stack||String(ce)).replace(/^Error:\s*(\S+Error:)/,"$1")+"</div></pre>",console.error("[Discovery] Error loading data:",ce)})}),function(ee,Z){return N.apply(this,arguments)})},{key:"setContainer",value:function(ee){var Z=this;l(L(Y.prototype),"setContainer",this).call(this,ee),this.dom.container&&(this.dom.container.append(this.dom.loadingOverlay=(0,h.createElement)("div","loading-overlay done")),this.options.mode==="modelfree"&&(this.dom.container.addEventListener("drop",function(R){return Z.loadDataFromEvent(R)},!0),this.dom.container.addEventListener("dragover",function(R){R.stopPropagation(),R.preventDefault()},!0)))}},{key:"getRenderContext",value:function(){return f(f({},l(L(Y.prototype),"getRenderContext",this).call(this)),{},{modelfree:this.mode==="modelfree"})}},{key:"renderPage",value:function(){return document.title=this.getRenderContext().name||document.title,l(L(Y.prototype),"renderPage",this).call(this)}}])&&d(I.prototype,P),D&&d(I,D),Y}(_.default);k.default=V},{"../core/router.js":16,"../core/utils/dom.js":21,"../core/utils/html.js":22,"../views/index-complex.js":77,"../widget/index.js":139}],10:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _,F=(_=H("./emitter.js"))&&_.__esModule?_:{default:_};function A(g){return(A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(g)}function h(g){return function(d){if(Array.isArray(d))return w(d)}(g)||function(d){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(d))return Array.from(d)}(g)||function(d,l){if(!d)return;if(typeof d=="string")return w(d,l);var c=Object.prototype.toString.call(d).slice(8,-1);if(c==="Object"&&d.constructor&&(c=d.constructor.name),c==="Map"||c==="Set")return Array.from(d);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return w(d,l)}(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(g,d){(d==null||d>g.length)&&(d=g.length);for(var l=0,c=new Array(d);l<d;l++)c[l]=g[l];return c}function u(g,d){for(var l=0;l<d.length;l++){var c=d[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,c.key,c)}}function y(g,d){return(y=Object.setPrototypeOf||function(l,c){return l.__proto__=c,l})(g,d)}function S(g){var d=function(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,c=x(g);if(d){var v=x(this).constructor;l=Reflect.construct(c,arguments,v)}else l=c.apply(this,arguments);return O(this,l)}}function O(g,d){return!d||A(d)!=="object"&&typeof d!="function"?m(g):d}function m(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function x(g){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(g)}var f=new WeakMap,p=function(g){!function(E,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),L&&y(E,L)}(j,g);var d,l,c,v=S(j);function j(){var E;return function(L,W){if(!(L instanceof W))throw new TypeError("Cannot call a class as a function")}(this,j),E=v.call(this),f.set(m(E),new Map),E}return d=j,(l=[{key:"define",value:function(E,L){return f.get(this).set(E,L),this.emit("define",E,L),L}},{key:"isDefined",value:function(E){return f.get(this).has(E)}},{key:"get",value:function(E){return f.get(this).get(E)}},{key:"names",get:function(){return h(f.get(this).keys())}},{key:"keys",get:function(){return f.get(this).keys()}},{key:"values",get:function(){return f.get(this).values()}},{key:"entries",get:function(){return f.get(this).entries()}}])&&u(d.prototype,l),c&&u(d,c),j}(F.default);k.default=p},{"./emitter.js":11}],11:[function(H,pe,k){"use strict";function _(A,h){for(var w=0;w<h.length;w++){var u=h[w];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(A,u.key,u)}}Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var F=function(){function A(){!function(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}(this,A),this.listeners=Object.create(null)}var h,w,u;return h=A,(w=[{key:"on",value:function(y,S){return this.listeners[y]={callback:S,next:this.listeners[y]||null},this}},{key:"once",value:function(y,S){return this.on(y,function O(){for(var m=arguments.length,x=new Array(m),f=0;f<m;f++)x[f]=arguments[f];S.apply(this,x),this.off(y,O)})}},{key:"off",value:function(y,S){for(var O=this.listeners[y]||null,m=null;O!==null;){if(O.callback===S){O.callback=null,m?m.next=O.next:this.listeners[y]=O.next;break}m=O,O=O.next}return this}},{key:"emit",value:function(y){for(var S=this.listeners[y]||null,O=!1,m=arguments.length,x=new Array(m>1?m-1:0),f=1;f<m;f++)x[f-1]=arguments[f];for(;S!==null;)typeof S.callback=="function"&&S.callback.apply(this,x),O=!0,S=S.next;return O}}])&&_(h.prototype,w),u&&_(h,u),A}();k.default=F},{}],12:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _,F=(_=H("./dict.js"))&&_.__esModule?_:{default:_};function A(z,I){if(!(z instanceof I))throw new TypeError("Cannot call a class as a function")}function h(z,I){for(var P=0;P<I.length;P++){var D=I[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(z,D.key,D)}}function w(z,I,P){return(w=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(D,N,ne){var Y=function(Z,R){for(;!Object.prototype.hasOwnProperty.call(Z,R)&&(Z=O(Z))!==null;);return Z}(D,N);if(Y){var ee=Object.getOwnPropertyDescriptor(Y,N);return ee.get?ee.get.call(ne):ee.value}})(z,I,P||z)}function u(z,I){return(u=Object.setPrototypeOf||function(P,D){return P.__proto__=D,P})(z,I)}function y(z){var I=function(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(P){return!1}}();return function(){var P,D=O(z);if(I){var N=O(this).constructor;P=Reflect.construct(D,arguments,N)}else P=D.apply(this,arguments);return S(this,P)}}function S(z,I){return!I||m(I)!=="object"&&typeof I!="function"?function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(z):I}function O(z){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(z)}function m(z){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(z)}function x(z){return function(I){if(Array.isArray(I))return d(I)}(z)||function(I){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(I))return Array.from(I)}(z)||g(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(z,I){return function(P){if(Array.isArray(P))return P}(z)||function(P,D){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(P)))return;var N=[],ne=!0,Y=!1,ee=void 0;try{for(var Z,R=P[Symbol.iterator]();!(ne=(Z=R.next()).done)&&(N.push(Z.value),!D||N.length!==D);ne=!0);}catch(X){Y=!0,ee=X}finally{try{ne||R.return==null||R.return()}finally{if(Y)throw ee}}return N}(z,I)||g(z,I)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(z,I){var P;if(typeof Symbol=="undefined"||z[Symbol.iterator]==null){if(Array.isArray(z)||(P=g(z))||I&&z&&typeof z.length=="number"){P&&(z=P);var D=0,N=function(){};return{s:N,n:function(){return D>=z.length?{done:!0}:{done:!1,value:z[D++]}},e:function(Z){throw Z},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ne,Y=!0,ee=!1;return{s:function(){P=z[Symbol.iterator]()},n:function(){var Z=P.next();return Y=Z.done,Z},e:function(Z){ee=!0,ne=Z},f:function(){try{Y||P.return==null||P.return()}finally{if(ee)throw ne}}}}function g(z,I){if(z){if(typeof z=="string")return d(z,I);var P=Object.prototype.toString.call(z).slice(8,-1);return P==="Object"&&z.constructor&&(P=z.constructor.name),P==="Map"||P==="Set"?Array.from(z):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?d(z,I):void 0}}function d(z,I){(I==null||I>z.length)&&(I=z.length);for(var P=0,D=new Array(I);P<I;P++)D[P]=z[P];return D}var l=new Map,c=null;function v(){c=null;var z,I=p(l.entries());try{for(I.s();!(z=I.n()).done;){var P=f(z.value,2),D=P[0],N=P[1];console.groupCollapsed("".concat(D," (").concat(N.length,")")),N.forEach(function(ne){var Y;return(Y=console).warn.apply(Y,x(ne))}),console.groupEnd()}}catch(ne){I.e(ne)}finally{I.f()}l.clear()}function j(z){c===null&&l.size===0&&(c=setTimeout(v,1));for(var I=arguments.length,P=new Array(I>1?I-1:0),D=1;D<I;D++)P[D-1]=arguments[D];l.has(z)?l.get(z).push(P):l.set(z,[P])}function E(z,I,P){switch(m(I)){case"function":return I;case"string":return Object.assign(function(D){return D&&Object.hasOwnProperty.call(D,I)?D[I]:void 0},{getterFromString:"object[".concat(JSON.stringify(I),"]")});default:throw new Error('[Discovery] Bad type "'.concat(typeof key=="undefined"?"undefined":m(key),'" for ').concat(P,' in object marker "').concat(z,'" config (must be a string or a function)'))}}function L(z,I,P,D){return I&&hasOwnProperty.call(I,P)?E(z,I[P],'"'.concat(P,'" option')):D}function W(z,I,P){return(Array.isArray(I[P])?I[P]:[]).map(function(D){return E(z,D,'"'.concat(P,'" option'))})}var V=function(z){!function(Y,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),ee&&u(Y,ee)}(ne,z);var I,P,D,N=y(ne);function ne(){return A(this,ne),N.apply(this,arguments)}return I=ne,(P=[{key:"define",value:function(Y,ee){if(!this.isDefined(Y)){var Z=W(Y,ee=ee||{},"refs"),R=W(Y,ee,"lookupRefs"),X=typeof ee.page=="string"?ee.page:null,le=L(Y,ee,"ref",null),ue=L(Y,ee,"title",le||function(){return null});return w(O(ne.prototype),"define",this).call(this,Y,function(Ce){var ie=Ce.name,te=Ce.indexRefs,se=Ce.lookupRefs,me=Ce.page,Pe=Ce.getRef,Ke=Ce.getTitle;me&&(Pe!==null?te.unshift(Pe):console.warn('Option "ref" for "'.concat(ie,'" marker must be specified when "page" options is defined ("page" option ignored)'))),te.length>0&&se.unshift(function(Je){return Je});var oe=new Set,ce=new Map,_e=new Map,Ee=new WeakMap;return{page:Pe!==null?me:null,mark:function(Je){if(Je!==null&&m(Je)==="object"){oe.add(Je);var ft,be=p(te);try{for(be.s();!(ft=be.n()).done;){var je=ft.value,ye=je(Je),ke=ye===null?"null":m(ye);if(ke==="object"||ke==="string"||ke==="number"){if(!ce.has(ye)){ce.set(ye,Je);continue}ce.get(ye)!==Je&&j('The same reference value used for different objects for "'.concat(ie,'" marker'),'Reference value "'.concat(ye,'"'),{refGetter:je.getterFromString||je,ref:ye,currentObject:ce.get(ye),newObject:Je})}}}catch(dt){be.e(dt)}finally{be.f()}}else console.warn('Invalid value used for "'.concat(ie,'" marker (should be an object)'))},lookup:function(Je){var ft=Je===null?"null":m(Je);if(ft!=="object"&&ft!=="string"&&ft!=="number")return null;if(_e.has(Je))return _e.get(Je);if(Ee.has(Je))return Ee.get(Je);var be=null,je=null;if(oe.has(Je))je=Je;else{var ye,ke=p(se);try{for(ke.s();!(ye=ke.n()).done;){var dt=(0,ye.value)(Je);if(ce.has(dt)){je=ce.get(dt);break}}}catch(pt){ke.e(pt)}finally{ke.f()}}if(je!==null){if(_e.has(je))be=_e.get(je);else{var kt=Pe!==null?Pe(je):null;be=Object.freeze({type:ie,object:je,ref:kt,title:Ke(je),href:me!==null&&kt!==null?"#".concat(encodeURIComponent(me),":").concat(encodeURIComponent(kt)):null}),_e.set(je,be)}Je!==je&&(m(Je)!=="object"?_e.set(Je,be):Ee.set(Je,be))}return be}}}({name:Y,indexRefs:Z,lookupRefs:R,page:X,getRef:le,getTitle:ue}))}console.error('[Discovery] Object marker "'.concat(Y,'" is already defined, new definition ignored'))}},{key:"lookup",value:function(Y,ee){if(ee)return this.get(ee).lookup(Y);var Z,R=p(this.values);try{for(R.s();!(Z=R.n()).done;){var X=Z.value.lookup,le=X(Y);if(le!==null)return le}}catch(ue){R.e(ue)}finally{R.f()}return null}},{key:"resolveAll",value:function(Y){var ee,Z=[],R=p(this.values);try{for(R.s();!(ee=R.n()).done;){var X=(0,ee.value.lookup)(Y);X!==null&&Z.push(X)}}catch(le){R.e(le)}finally{R.f()}return null}}])&&h(I.prototype,P),D&&h(I,D),ne}(F.default);k.default=V},{"./dict.js":10}],13:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _=h(H("./dict.js")),F=h(H("./publisher.js")),A=H("../core/utils/dom.js");function h(v){return v&&v.__esModule?v:{default:v}}function w(v){return(w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(v)}function u(v,j){var E=Object.keys(v);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(v);j&&(L=L.filter(function(W){return Object.getOwnPropertyDescriptor(v,W).enumerable})),E.push.apply(E,L)}return E}function y(v){for(var j=1;j<arguments.length;j++){var E=arguments[j]!=null?arguments[j]:{};j%2?u(Object(E),!0).forEach(function(L){S(v,L,E[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(E)):u(Object(E)).forEach(function(L){Object.defineProperty(v,L,Object.getOwnPropertyDescriptor(E,L))})}return v}function S(v,j,E){return j in v?Object.defineProperty(v,j,{value:E,enumerable:!0,configurable:!0,writable:!0}):v[j]=E,v}function O(v,j){for(var E=0;E<j.length;E++){var L=j[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(v,L.key,L)}}function m(v,j,E){return(m=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(L,W,V){var z=function(P,D){for(;!Object.prototype.hasOwnProperty.call(P,D)&&(P=g(P))!==null;);return P}(L,W);if(z){var I=Object.getOwnPropertyDescriptor(z,W);return I.get?I.get.call(V):I.value}})(v,j,E||v)}function x(v,j){return(x=Object.setPrototypeOf||function(E,L){return E.__proto__=L,E})(v,j)}function f(v){var j=function(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(E){return!1}}();return function(){var E,L=g(v);if(j){var W=g(this).constructor;E=Reflect.construct(L,arguments,W)}else E=L.apply(this,arguments);return p(this,E)}}function p(v,j){return!j||w(j)!=="object"&&typeof j!="function"?function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(v):j}function g(v){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(v)}var d=Symbol("config"),l={name:"not-found",render:function(v,j){var E=j.name;v.style.cssText="color:#a00",v.innerText="Page `".concat(E,"` not found")}},c=function(v){!function(z,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(I&&I.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),I&&x(z,I)}(V,v);var j,E,L,W=f(V);function V(z){var I;if(function(ne,Y){if(!(ne instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,V),(I=W.call(this)).view=z.view,I.lastPage=null,I.lastPageId=null,I.pageOverscrolled=new F.default(!1),I.setPageOverscroll=function(){},typeof IntersectionObserver=="function"){var P=(0,A.createElement)("div",{style:"position:absolute"}),D=null,N=function(){};z.on("container-changed",function(ne){var Y=ne.content;D&&(D.disconnect(),D=null),Y&&(D=new IntersectionObserver(function(ee){return I.pageOverscrolled.set(!ee[ee.length-1].isIntersecting)},{root:Y}),I.setPageOverscroll=function(ee){D.unobserve(P),N(),ee&&(ee.prepend(P),D.observe(P),N=I.pageOverscrolled.subscribeSync(function(Z){return ee.classList.toggle("page_overscrolled",Z)}))})})}return I}return j=V,(E=[{key:"define",value:function(z,I,P){var D=this;m(g(V.prototype),"define",this).call(this,z,Object.freeze(S({name:z,render:typeof I=="function"?I.bind(this.view):function(N,ne,Y){return D.view.render(N,I,ne,Y)},options:Object.freeze(y({},P))},d,I)))}},{key:"render",value:function(z,I,P,D){var N,ne=Date.now(),Y=this.get(I);Y||(Y=this.get("not-found")||l,P={name:I});var ee=Y.options||{},Z=ee.reuseEl,R=ee.init,X=ee.keepScrollOffset,le=X===void 0||X,ue=this.lastPage!==I,Ce=D&&D.id,ie=this.lastPageId!==Ce,te=Z&&!ue?z:document.createElement("article"),se=z.parentNode;this.lastPage=I,this.lastPageId=Ce,te.id=z.id,te.classList.add("page","page-"+I),ue&&typeof R=="function"&&R(te);try{N=Y.render(te,P,D)}catch(me){N=this.view.render(te,"alert-danger",String(me)+" (see details in console)"),console.error(me)}return(ue||ie||!le)&&(se.scrollTop=0),te!==z&&(z.replaceWith(te),this.setPageOverscroll(te)),{pageEl:te,config:Y[d],renderState:Promise.resolve(N).then(function(){return console.log("[Discovery] Page `"+Y.name+"` rendered in "+(Date.now()-ne)+"ms")})}}}])&&O(j.prototype,E),L&&O(j,L),V}(_.default);k.default=c},{"../core/utils/dom.js":21,"./dict.js":10,"./publisher.js":15}],14:[function(H,pe,k){"use strict";var _;function F(m){return(F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(m)}function A(m,x){for(var f=0;f<x.length;f++){var p=x[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function h(m,x,f){return(h=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(p,g,d){var l=function(v,j){for(;!Object.prototype.hasOwnProperty.call(v,j)&&(v=S(v))!==null;);return v}(p,g);if(l){var c=Object.getOwnPropertyDescriptor(l,g);return c.get?c.get.call(d):c.value}})(m,x,f||m)}function w(m,x){return(w=Object.setPrototypeOf||function(f,p){return f.__proto__=p,f})(m,x)}function u(m){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(f){return!1}}();return function(){var f,p=S(m);if(x){var g=S(this).constructor;f=Reflect.construct(p,arguments,g)}else f=p.apply(this,arguments);return y(this,f)}}function y(m,x){return!x||F(x)!=="object"&&typeof x!="function"?function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m):x}function S(m){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(m)}Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var O=function(m){!function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&w(l,c)}(d,m);var x,f,p,g=u(d);function d(l){var c;return function(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}(this,d),(c=g.call(this)).view=l,c}return x=d,(f=[{key:"define",value:function(l,c){var v=this;c=JSON.parse(JSON.stringify(c)),h(S(d.prototype),"define",this).call(this,l,Object.freeze({name:l,render:function(j,E,L,W){return v.view.render(j,c,L,W)},config:c}))}},{key:"render",value:function(l,c,v,j){var E=this.get(c);if(!E){var L="Preset `"+c+"` is not found";console.error(L,c);var W=l.appendChild(document.createElement("div"));return W.style.cssText="color:#a00;border:1px dashed #a00;font-size:12px;padding:4px",W.innerText=L,Promise.resolve()}return E.render(l,null,v,j)}}])&&A(x.prototype,f),p&&A(x,p),d}(((_=H("./dict.js"))&&_.__esModule?_:{default:_}).default);k.default=O},{"./dict.js":10}],15:[function(H,pe,k){"use strict";function _(A,h){for(var w=0;w<h.length;w++){var u=h[w];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(A,u.key,u)}}Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var F=function(){function A(y,S){!function(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")}(this,A),this.value=y,this.shouldPublish=typeof S=="function"?S:this.shouldPublish,this.subscriber=null}var h,w,u;return h=A,(w=[{key:"subscribe",value:function(y,S){var O=this;return this.subscriber={callback:y,thisArg:S,subscriber:this.subscriber},function(){return O.unsubscribe(y,S)}}},{key:"subscribeSync",value:function(y,S){var O=this.subscribe(y,S);return y.call(S,this.value),O}},{key:"unsubscribe",value:function(y,S){for(var O=this,m=this.subscriber;m!==null;){if(m.callback===y&&m.thisArg===S){m.callback=null,m.thisArg=null,O.subscriber=m.subscriber;break}O=m,m=m.subscriber}}},{key:"shouldPublish",value:function(y,S){return y!==S}},{key:"set",value:function(y){if(!this.shouldPublish(y,this.value))return!1;var S=this.subscriber;for(this.value=y;S!==null;)S.callback!==null&&S.callback.call(S.thisArg,y),S=S.subscriber;return!0}},{key:"readonly",get:function(){var y=this;return{subscribe:this.subscribe.bind(this),subscribeSync:this.subscribeSync.bind(this),unsubscribe:this.unsubscribe.bind(this),get value(){return y.value}}}}])&&_(h.prototype,w),u&&_(h,u),A}();k.default=F},{}],16:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(_){_.setPageHash(location.hash),_.cancelScheduledRender(),window.addEventListener("hashchange",function(){return _.setPageHash(location.hash)},!1),_.on("pageHashChange",function(F){var A=_.pageHash||"#";(A!=="#"||location.hash)&&(F?location.replace(A):location.hash=A)})}},{}],17:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.encode=function(w){var u="";Array.isArray(w)||(w=function(g){g=function(c){for(var v="",j=0;j<c.length;j++){var E=c.charCodeAt(j);v+=E<128?_[E]:E<2048?_[E>>6|192]+_[63&E|128]:_[E>>12|224]+_[E>>6&63|128]+_[63&E|128]}return v}(g);for(var d=new Array(g.length),l=0;l<g.length;l++)d[l]=g.charCodeAt(l);return d}(w));for(var y=0;y<w.length;){var S=w[y++],O=w[y++],m=w[y++],x=(3&S)<<4|O>>4,f=(15&O)<<2|m>>6,p=63&m;O==null?f=p=64:m==null&&(p=64),u+=F[S>>2]+F[x]+F[f]+F[p]}return u},k.decode=function(w){var u,y,S,O,m=[];w=w.replace(/[^a-zA-Z0-9\+\/]/g,"");for(var x=0;x<w.length;){u=A[w.charAt(x++)],y=A[w.charAt(x++)],S=A[w.charAt(x++)],O=A[w.charAt(x++)];var f=u<<2|y>>4,p=(15&y)<<4|S>>2,g=(3&S)<<6|O;m.push(f,p,g)}return S!=null&&S!=64||m.pop(),O!=null&&O!=64||m.pop(),function(d){return function(l){for(var c="",v=0;v<l.length;){var j=l.charCodeAt(v++);if(j<128)c+=String.fromCharCode(j);else{var E=l.charCodeAt(v++);if(32&j){var L=l.charCodeAt(v++);c+=String.fromCharCode((15&j)<<12|(63&E)<<6|63&L)}else c+=String.fromCharCode((31&j)<<6|63&E)}}return c}(d.map(function(l){return _[l]}).join(""))}(m)};for(var _=[],F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),A=F.reduce(function(w,u,y){return w[u]=y,w},{}),h=0;h<255;h++)_[h]=String.fromCharCode(h)},{}],18:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.equal=function(A,h){if(A===h)return!0;for(var w in A)if(_.call(A,w)&&(!_.call(h,w)||A[w]!==h[w]))return!1;for(var u in h)if(_.call(h,u)&&(!_.call(A,u)||A[u]!==h[u]))return!1;return!0},k.fuzzyStringCompare=function(A,h){var w=F(A,0),u=F(A,A.length-1);return h.toLowerCase().indexOf(A.toLowerCase().substring(w,A.length-u),F(h,0))!==-1};var _=Object.hasOwnProperty;function F(A,h){var w=A.charCodeAt(h);return w===34||w===39?1:0}},{}],19:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(F){navigator.clipboard?navigator.clipboard.writeText(F):function(A){var h=window.getSelection(),w=document.createRange();document.body.appendChild(_),_.firstChild.nodeValue=A,w.selectNodeContents(_),h.removeAllRanges(),h.addRange(w);try{document.execCommand("copy")}catch(u){console.error(u)}h.removeAllRanges(),_.remove()}(F)};var _=(0,H("./dom.js").createElement)("div",{style:["position: fixed","overflow: hidden","font-size: 1px","width: 1px","height: 1px","top: 0","left: 0","white-space: pre"].join(";")},["text"])},{"./dom.js":21}],20:[function(H,pe,k){"use strict";function _(F){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(F)}Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(F,A){if(typeof A=="number"&&(A={wait:A}),h=A,w=_(h),h==null||w!=="object"&&w!=="function")return F;var h,w,u,y,S,O,m,x,f,p,g=A.wait,d=0,l=!0;if(typeof F!="function")throw new TypeError("Expected a function");function c(z){var I=u,P=y;return u=y=void 0,d=z,O=F.apply(P,I)}function v(z,I){return setTimeout(z,I)}function j(z){return d=z,m=v(L,g),f?c(z):O}function E(z){var I=z-x;return x===void 0||I>=g||I<0||p&&z-d>=S}function L(){var z=Date.now();if(E(z))return W(z);m=v(L,function(I){var P=I-d,D=g-(I-x);return p?Math.min(D,S-P):D}(z))}function W(z){return m=void 0,l&&u?c(z):(u=y=void 0,O)}function V(){for(var z=Date.now(),I=E(z),P=arguments.length,D=new Array(P),N=0;N<P;N++)D[N]=arguments[N];if(u=D,y=this,x=z,I){if(m===void 0)return j(x);if(p)return m=v(L,g),c(x)}return m===void 0&&(m=v(L,g)),O}return g=Math.max(0,Number(g)||0),f=Boolean(A.leading),S=(p="maxWait"in A)?Math.max(Number(A.maxWait)||0,g):S,l="trailing"in A?Boolean(A.trailing):l,V.cancel=function(){m!==void 0&&clearTimeout(m),d=0,u=x=y=m=void 0},V.flush=function(){return m===void 0?O:W(Date.now())},V.pending=function(){return m!==void 0},V}},{}],21:[function(H,pe,k){"use strict";function _(h){return document.createTextNode(String(h))}Object.defineProperty(k,"__esModule",{value:!0}),k.createElement=function(h,w,u){var y=document.createElement(h);typeof w=="string"&&(w={class:w});for(var S in w)if(hasOwnProperty.call(w,S)){if(w[S]===void 0)continue;S.startsWith("on")?y.addEventListener(S.substr(2),w[S]):y.setAttribute(S,w[S])}return Array.isArray(u)?u.forEach(function(O){return y.appendChild(O instanceof Node?O:_(O))}):typeof u=="string"&&(y.innerHTML=u),y},k.createText=_,k.createFragment=function(){for(var h=document.createDocumentFragment(),w=arguments.length,u=new Array(w),y=0;y<w;y++)u[y]=arguments[y];return u.forEach(function(S){return h.appendChild(S instanceof Node?S:_(S))}),h},k.passiveCaptureOptions=k.passiveSupported=void 0;var F=function(){var h=!1;try{var w={get passive(){return h=!0,!1}};window.addEventListener("test",null,w),window.removeEventListener("test",null,w)}catch(u){}return h}();k.passiveSupported=F;var A=!F||Object.freeze({passive:!0,capture:!0});k.passiveCaptureOptions=A},{}],22:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.escapeHtml=function(_){return _.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},{}],23:[function(H,pe,k){"use strict";function _(W){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(W)}Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var F=c(H("./base64.js")),A=c(H("./compare.js")),h=d(H("./copy-text.js")),w=d(H("./debounce.js")),u=c(H("./dom.js")),y=c(H("./html.js")),S=c(H("./json.js")),O=c(H("./layout.js")),m=c(H("./pattern.js")),x=c(H("./persistent.js")),f=c(H("./pointer.js")),p=d(H("./safe-filter-rx.js")),g=c(H("./size.js"));function d(W){return W&&W.__esModule?W:{default:W}}function l(){if(typeof WeakMap!="function")return null;var W=new WeakMap;return l=function(){return W},W}function c(W){if(W&&W.__esModule)return W;if(W===null||_(W)!=="object"&&typeof W!="function")return{default:W};var V=l();if(V&&V.has(W))return V.get(W);var z={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in W)if(Object.prototype.hasOwnProperty.call(W,P)){var D=I?Object.getOwnPropertyDescriptor(W,P):null;D&&(D.get||D.set)?Object.defineProperty(z,P,D):z[P]=W[P]}return z.default=W,V&&V.set(W,z),z}function v(W,V){var z=Object.keys(W);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(W);V&&(I=I.filter(function(P){return Object.getOwnPropertyDescriptor(W,P).enumerable})),z.push.apply(z,I)}return z}function j(W){for(var V=1;V<arguments.length;V++){var z=arguments[V]!=null?arguments[V]:{};V%2?v(Object(z),!0).forEach(function(I){E(W,I,z[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(z)):v(Object(z)).forEach(function(I){Object.defineProperty(W,I,Object.getOwnPropertyDescriptor(z,I))})}return W}function E(W,V,z){return V in W?Object.defineProperty(W,V,{value:z,enumerable:!0,configurable:!0,writable:!0}):W[V]=z,W}var L=j(j(j(j(j(j(j({base64:F},A),{},{copyText:h.default,debounce:w.default},u),y),S),O),{},{pattern:m,persistent:x},f),{},{safeFilterRx:p.default},g);k.default=L},{"./base64.js":17,"./compare.js":18,"./copy-text.js":19,"./debounce.js":20,"./dom.js":21,"./html.js":22,"./json.js":24,"./layout.js":25,"./pattern.js":26,"./persistent.js":27,"./pointer.js":28,"./safe-filter-rx.js":29,"./size.js":30}],24:[function(H,pe,k){"use strict";var _;function F(S,O){return function(m){if(Array.isArray(m))return m}(S)||function(m,x){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(m)))return;var f=[],p=!0,g=!1,d=void 0;try{for(var l,c=m[Symbol.iterator]();!(p=(l=c.next()).done)&&(f.push(l.value),!x||f.length!==x);p=!0);}catch(v){g=!0,d=v}finally{try{p||c.return==null||c.return()}finally{if(g)throw d}}return f}(S,O)||function(m,x){if(!m)return;if(typeof m=="string")return A(m,x);var f=Object.prototype.toString.call(m).slice(8,-1);if(f==="Object"&&m.constructor&&(f=m.constructor.name),f==="Map"||f==="Set")return Array.from(m);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return A(m,x)}(S,O)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A(S,O){(O==null||O>S.length)&&(O=S.length);for(var m=0,x=new Array(O);m<O;m++)x[m]=S[m];return x}Object.defineProperty(k,"__esModule",{value:!0}),k.jsonStringifyAsJavaScript=function(S,O){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4,x=[],f=function(p,g){return typeof g=="string"&&u.call(this[p])==="[object Date]"&&(g=this[p]),g!==null&&y.has(u.call(g))?(x.push(g),"{{{__placeholder__}}}"):g};return String(JSON.stringify(S,O||f,m)).replace(/"((?:\\.|[^"])*)"(:?)/g,function(p,g,d){return d&&/^[a-z$_][a-z$_\d]*$/i.test(g)?g+d:"'".concat(g.replace(/\\"/g,'"').replace(/'/g,"\\'"),"'")+d}).replace(/(^|\n)([ \t]*)(.*?)([a-zA-Z$_][a-zA-Z0-9$_]+:\s*)?'{{{__placeholder__}}}'/g,function(p,g,d,l,c){return g+d+l+w(x.shift(),d,c)})},k.jsonStringifyInfo=void 0;var h=((_=H("/gen/@discoveryjs/json-ext.js"))&&_.__esModule?_:{default:_}).default.stringifyInfo;function w(S,O,m){return typeof S=="function"?function(x,f,p){var g=String(x),d=F(g.match(/^(?:\S+\s+)?(\S+)\(/)||[],2),l=d[0],c=d[1];if(l!=="function"&&l!=="function*"&&c===p.trim().slice(0,-1)&&(p=""),g.indexOf(`
`)===-1)return p+g;var v=g.split(/\n/),j=v[v.length-1].match(/^\s*/)[0].length,E=new RegExp("^\\s{0,"+j+"}");return p+v.map(function(L,W){return W&&L.length?L.replace(E,f):L}).join(`
`)}(S,O,m):S instanceof Date?"".concat(m,'new Date("').concat(S.toISOString(),'")'):m+String(S)}k.jsonStringifyInfo=h;var u=Object.prototype.toString,y=new Set(["[object Function]","[object RegExp]","[object Date]"])},{"/gen/@discoveryjs/json-ext.js":1}],25:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.getOffsetParent=function(w){for(var u=w.offsetParent||_;u&&u!==_&&getComputedStyle(u).position=="static";)u=u.offsetParent;return u||_},k.getPageOffset=A,k.getBoundingRect=h,k.getViewportRect=function(w,u){var y,S,O=F?document.documentElement:document.body,m=w!==O||u?h(w,u):A(),x=m.top,f=m.left;return w&&w!==window?(x+=w.clientTop,f+=w.clientLeft,y=w.clientWidth,S=w.clientHeight):(y=window.innerWidth||0,S=window.innerHeight||0),{top:x,left:f,right:f+y,bottom:x+S,width:y,height:S}};var _=document.documentElement,F=document.compatMode==="CSS1Compat";function A(w){var u=0,y=0;if(w&&w.getBoundingClientRect){var S=w.getBoundingClientRect();u=-S.top,y=-S.left}else if(F)u=window.pageYOffset||_.scrollTop,y=window.pageXOffset||_.scrollLeft;else{var O=document.body;w!==O&&(u=O.scrollTop-O.clientTop,y=O.scrollLeft-O.clientLeft)}return{left:y,top:u}}function h(w,u){var y=A(u),S=0,O=0,m=0,x=0;if(w&&w.getBoundingClientRect){var f=w.getBoundingClientRect();S=f.top,O=f.left,m=f.right,x=f.bottom}return{top:S+y.top,left:O+y.left,right:m+y.left,bottom:x+y.top,width:m-O,height:x-S}}},{}],26:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.has=function(h,w,u){return _.call(w)==="[object RegExp]"?u&&!w.ignoreCase?new RegExp(w,w.flags+"i").test(h):w.test(h):typeof w=="string"?u?String(h).toLowerCase().indexOf(w.toLowerCase()):String(h).indexOf(w)!==-1:!1},k.matchAll=function(h,w,u,y,S){var O=_.call(w)==="[object RegExp]"?F:typeof w=="string"?A:null,m=String(h);if(S)switch(O){case F:w.ignoreCase||(w=new RegExp(w,w.flags+"i"));break;case A:m=m.toLowerCase(),w=w.toLowerCase()}if(O===null)return void u(h);var x=0;do{var f=O(m,w,x);if(f===null){u(x>0?h.slice(x):h);break}f.offset!==x&&u(h.slice(x,f.offset)),f.length!==0&&y(h.substr(f.offset,f.length)),x=f.offset+f.length}while(x!==h.length)};var _=Object.prototype.toString,F=function(h,w,u){var y=h.slice(u).search(w);return y!==-1?{offset:u+y,length:RegExp.lastMatch.length}:null},A=function(h,w,u){var y=h.indexOf(w,u);return y!==-1?{offset:y,length:w.length}:null}},{}],27:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.localStorageEntry=k.sessionStorageEntry=void 0;var _,F=(_=H("../emitter.js"))&&_.__esModule?_:{default:_};function A(m,x){return function(f){if(Array.isArray(f))return f}(m)||function(f,p){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(f)))return;var g=[],d=!0,l=!1,c=void 0;try{for(var v,j=f[Symbol.iterator]();!(d=(v=j.next()).done)&&(g.push(v.value),!p||g.length!==p);d=!0);}catch(E){l=!0,c=E}finally{try{d||j.return==null||j.return()}finally{if(l)throw c}}return g}(m,x)||h(m,x)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(m,x){if(m){if(typeof m=="string")return w(m,x);var f=Object.prototype.toString.call(m).slice(8,-1);return f==="Object"&&m.constructor&&(f=m.constructor.name),f==="Map"||f==="Set"?Array.from(m):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?w(m,x):void 0}}function w(m,x){(x==null||x>m.length)&&(x=m.length);for(var f=0,p=new Array(x);f<x;f++)p[f]=m[f];return p}function u(m){var x=new Map;return x.storage=function(f){var p,g="__storage_test__"+Math.random();try{p=window[f]}catch(d){return null}try{p.setItem(g,g),p.removeItem(g)}catch(d){if(!(d instanceof DOMException)||d.code!==22&&d.code!==1014&&d.name!=="QuotaExceededError"&&d.name!=="NS_ERROR_DOM_QUOTA_REACHED"||p.length===0)return null}return p}(m),x.getOrCreate=function(f){return x.get(f)||function(p,g){var d=null,l=new F.default,c=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.storage.getItem(p);d!==j&&l.emit("change",d=j)},v={get value(){return this.get()},get:function(){return d},set:function(j){g.storage&&(g.storage.setItem(p,j),c())},delete:function(){g.storage&&(g.storage.removeItem(p),c())},forceSync:function(){return g.storage&&c(),this.get()},on:function(j,E){return l.on("change",j),E&&j(d),function(){return l.off("change",j)}},off:function(j){l.off("change",j)}};return g.set(p,v),v.forceSync(),v}(f,x)},x.getOrCreate.available=x.storage!==null,x}var y=new Map([["session",u("sessionStorage")],["local",u("localStorage")]]),S=y.get("session").getOrCreate;k.sessionStorageEntry=S;var O=y.get("local").getOrCreate;k.localStorageEntry=O,addEventListener("storage",function(m){var x,f=function(g,d){var l;if(typeof Symbol=="undefined"||g[Symbol.iterator]==null){if(Array.isArray(g)||(l=h(g))||d&&g&&typeof g.length=="number"){l&&(g=l);var c=0,v=function(){};return{s:v,n:function(){return c>=g.length?{done:!0}:{done:!1,value:g[c++]}},e:function(W){throw W},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,E=!0,L=!1;return{s:function(){l=g[Symbol.iterator]()},n:function(){var W=l.next();return E=W.done,W},e:function(W){L=!0,j=W},f:function(){try{E||l.return==null||l.return()}finally{if(L)throw j}}}}(y);try{for(f.s();!(x=f.n()).done;){var p=A(x.value,2)[1];p.storage===m.storageArea&&p.has(m.key)&&p.get(m.key).forceSync()}}catch(g){f.e(g)}finally{f.f()}})},{"../emitter.js":11}],28:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.pointerXY=void 0;var _,F=H("./dom.js"),A=new((_=H("../publisher.js"))&&_.__esModule?_:{default:_}).default({x:0,y:0},function(w,u){return w.x!==u.x||w.y!==u.y});document.addEventListener("pointermove",function(w){var u=w.x,y=w.y;return A.set({x:u,y})},F.passiveCaptureOptions);var h=A.readonly;k.pointerXY=h},{"../publisher.js":15,"./dom.js":21}],29:[function(H,pe,k){"use strict";function _(F,A){try{return new RegExp("((?:"+F+")+)",A)}catch(h){}return new RegExp("((?:"+F.replace(/[\[\]\(\)\?\+\*\{\}\\]/g,"\\$&")+")+)",A)}Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(F){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"i",h=_(F,A);return h.rawSource=F,h}},{}],30:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.ContentRect=void 0;var _,F=(_=H("../publisher.js"))&&_.__esModule?_:{default:_};function A(p){return(A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}function h(p,g){var d;if(typeof Symbol=="undefined"||p[Symbol.iterator]==null){if(Array.isArray(p)||(d=function(L,W){if(!L)return;if(typeof L=="string")return w(L,W);var V=Object.prototype.toString.call(L).slice(8,-1);if(V==="Object"&&L.constructor&&(V=L.constructor.name),V==="Map"||V==="Set")return Array.from(L);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return w(L,W)}(p))||g&&p&&typeof p.length=="number"){d&&(p=d);var l=0,c=function(){};return{s:c,n:function(){return l>=p.length?{done:!0}:{done:!1,value:p[l++]}},e:function(L){throw L},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,j=!0,E=!1;return{s:function(){d=p[Symbol.iterator]()},n:function(){var L=d.next();return j=L.done,L},e:function(L){E=!0,v=L},f:function(){try{j||d.return==null||d.return()}finally{if(E)throw v}}}}function w(p,g){(g==null||g>p.length)&&(g=p.length);for(var d=0,l=new Array(g);d<g;d++)l[d]=p[d];return l}function u(p,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(p,l.key,l)}}function y(p,g){return(y=Object.setPrototypeOf||function(d,l){return d.__proto__=l,d})(p,g)}function S(p){var g=function(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(d){return!1}}();return function(){var d,l=m(p);if(g){var c=m(this).constructor;d=Reflect.construct(l,arguments,c)}else d=l.apply(this,arguments);return O(this,d)}}function O(p,g){return!g||A(g)!=="object"&&typeof g!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(p):g}function m(p){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(p)}var x=typeof ResizeObserver=="function",f=function(p){!function(j,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(E&&E.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),E&&y(j,E)}(v,p);var g,d,l,c=S(v);function v(){var j;return function(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")}(this,v),(j=c.call(this)).el=null,x&&(j.observer=new ResizeObserver(function(E){var L,W=h(E);try{for(W.s();!(L=W.n()).done;){var V=L.value;j.set(V.contentRect)}}catch(z){W.e(z)}finally{W.f()}})),j}return g=v,(d=[{key:"observe",value:function(j){j=j||null,this.observer&&this.el!==j&&(this.el!==null&&this.observer.unobserve(this.el),j!==null&&this.observer.observe(j)),this.el=j}}])&&u(g.prototype,d),l&&u(g,l),v}(F.default);k.ContentRect=f},{"../publisher.js":15}],31:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _,F=(_=H("./dict.js"))&&_.__esModule?_:{default:_};function A(Z,R){return function(X){if(Array.isArray(X))return X}(Z)||function(X,le){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(X)))return;var ue=[],Ce=!0,ie=!1,te=void 0;try{for(var se,me=X[Symbol.iterator]();!(Ce=(se=me.next()).done)&&(ue.push(se.value),!le||ue.length!==le);Ce=!0);}catch(Pe){ie=!0,te=Pe}finally{try{Ce||me.return==null||me.return()}finally{if(ie)throw te}}return ue}(Z,R)||c(Z,R)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(Z,R){var X=Object.keys(Z);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(Z);R&&(le=le.filter(function(ue){return Object.getOwnPropertyDescriptor(Z,ue).enumerable})),X.push.apply(X,le)}return X}function w(Z){for(var R=1;R<arguments.length;R++){var X=arguments[R]!=null?arguments[R]:{};R%2?h(Object(X),!0).forEach(function(le){u(Z,le,X[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(X)):h(Object(X)).forEach(function(le){Object.defineProperty(Z,le,Object.getOwnPropertyDescriptor(X,le))})}return Z}function u(Z,R,X){return R in Z?Object.defineProperty(Z,R,{value:X,enumerable:!0,configurable:!0,writable:!0}):Z[R]=X,Z}function y(Z,R){for(var X=0;X<R.length;X++){var le=R[X];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(Z,le.key,le)}}function S(Z,R,X){return(S=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(le,ue,Ce){var ie=function(se,me){for(;!Object.prototype.hasOwnProperty.call(se,me)&&(se=p(se))!==null;);return se}(le,ue);if(ie){var te=Object.getOwnPropertyDescriptor(ie,ue);return te.get?te.get.call(Ce):te.value}})(Z,R,X||Z)}function O(Z,R){return(O=Object.setPrototypeOf||function(X,le){return X.__proto__=le,X})(Z,R)}function m(Z){var R=function(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(X){return!1}}();return function(){var X,le=p(Z);if(R){var ue=p(this).constructor;X=Reflect.construct(le,arguments,ue)}else X=le.apply(this,arguments);return x(this,X)}}function x(Z,R){return!R||g(R)!=="object"&&typeof R!="function"?f(Z):R}function f(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function p(Z){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)})(Z)}function g(Z){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(Z)}function d(Z){return function(R){if(Array.isArray(R))return v(R)}(Z)||function(R){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(R))return Array.from(R)}(Z)||c(Z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function l(Z,R){var X;if(typeof Symbol=="undefined"||Z[Symbol.iterator]==null){if(Array.isArray(Z)||(X=c(Z))||R&&Z&&typeof Z.length=="number"){X&&(Z=X);var le=0,ue=function(){};return{s:ue,n:function(){return le>=Z.length?{done:!0}:{done:!1,value:Z[le++]}},e:function(se){throw se},f:ue}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ce,ie=!0,te=!1;return{s:function(){X=Z[Symbol.iterator]()},n:function(){var se=X.next();return ie=se.done,se},e:function(se){te=!0,Ce=se},f:function(){try{ie||X.return==null||X.return()}finally{if(te)throw Ce}}}}function c(Z,R){if(Z){if(typeof Z=="string")return v(Z,R);var X=Object.prototype.toString.call(Z).slice(8,-1);return X==="Object"&&Z.constructor&&(X=Z.constructor.name),X==="Map"||X==="Set"?Array.from(Z):X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X)?v(Z,R):void 0}}function v(Z,R){(R==null||R>Z.length)&&(R=Z.length);for(var X=0,le=new Array(R);X<R;X++)le[X]=Z[X];return le}var j=Object.freeze({}),E=Object.hasOwnProperty,L=new WeakMap,W=new WeakMap,V=new WeakMap,z=new WeakMap,I=new Set(["view","when","data","whenData","postRender","className"]);function P(Z,R){return z.set(Z,R),Z}function D(Z,R,X){if(!X.has(Z)){if(V.has(Z)){var le,ue=l(V.get(Z));try{var Ce=function(){var te=le.value,se=R.children.find(function(me){return me.view===te});se?R=se:R.children.push(R={node:null,parent:R,view:te,children:[]})};for(ue.s();!(le=ue.n()).done;)Ce()}catch(te){ue.e(te)}finally{ue.f()}}if(W.has(Z)?R.children.push(R={node:Z,parent:R,view:W.get(Z),children:[]}):L.has(Z)&&R.children.push(R={node:Z,parent:R,viewRoot:L.get(Z),children:[]}),Z.nodeType===1)for(var ie=Z.firstChild;ie;ie=ie.nextSibling)D(ie,R,X)}}function N(Z,R,X,le,ue,Ce){return!E.call(X,Z)||X[Z]===void 0||!!R.queryBool(X[Z]===!0?"":X[Z],le,ue)||(W.set(Ce,{skipped:Z,config:X,data:le,context:ue}),!1)}function ne(Z,R,X,le,ue,Ce){var ie=Z.options.tag,te=ie===!1||ie===null?document.createDocumentFragment():document.createElement(ie||"div"),se=Promise.resolve(Z.render(te,le,ue,Ce));return typeof X.postRender=="function"&&(se=se.then(function(){return X.postRender(te,X,ue,Ce)})),se.then(function(){if(te.classList&&(Z.name&&te.classList.add("view-".concat(Z.name)),X.className)){var me,Pe=X.className;(typeof Pe=="function"&&(Pe=Pe(ue,Ce)),typeof Pe=="string"&&(Pe=Pe.trim().split(/\s+/)),Array.isArray(Pe))&&(me=te.classList).add.apply(me,d(Pe.map(function(Ee){return typeof Ee=="function"?Ee(ue,Ce):Ee}).filter(Boolean)))}var Ke={config:X,props:le,data:ue,context:Ce};if(te.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)W.set(te,Ke);else{var oe,ce=l(te.childNodes);try{for(ce.s();!(oe=ce.n()).done;){var _e=oe.value;V.has(_e)?V.get(_e).unshift(Ke):V.set(_e,[Ke])}}catch(Ee){ce.e(Ee)}finally{ce.f()}}R.replaceWith(te)})}function Y(Z,R,X,le){var ue=this;if(Array.isArray(R))return Promise.all(R.map(function(_e){return Y.call(ue,Z,_e,X,le)}));var Ce=null;switch(g(R.view)){case"function":Ce={render:R.view,name:!1,options:j};break;case"string":if(R.view==="render"){var ie=R,te=ie.config,se=te===void 0?"":te,me=ie.context,Pe=me===void 0?"":me;Ce={render:function(_e,Ee,Je){var ft=se!==""?ue.host.query(se,X,le):Je,be=ue.host.query(Pe,le,X);return ue.render(_e,ft,Je!==ft?Je:X,be)},name:!1,options:{tag:!1}}}else if(R.view.startsWith("preset/")){var Ke=R.view.substr(7);if(!this.host.preset.isDefined(Ke))return this.host.preset.render(Z,Ke,X,le);Ce={render:this.host.preset.get(Ke).render,name:!1,options:{tag:!1}}}else Ce=this.get(R.view)}if(!Ce){var oe=typeof R.view=="string"?"View `"+R.view+"` is not found":"Render is not a function";console.error(oe,R),Ce=this.get("config-error")||this.defaultConfigErrorRenderer,R={reason:oe,config:R}}Z||(Z=document.createDocumentFragment());var ce=Z.appendChild(document.createComment(""));return N("when",this.host,R,X,le,ce)?("data"in R?Promise.resolve().then(function(){return ue.host.query(R.data,X,le)}):Promise.resolve(X)).then(function(_e){return N("whenData",ue.host,R,_e,le,ce)?ne(Ce,ce,R,ue.propsFromConfig(R,_e,le),_e,le):null}).catch(function(_e){ne(ue.get("alert-danger"),ce,{postRender:function(Ee){Ee.style.whiteSpace="pre-wrap",Ee.style.fontFamily="monospace",Ee.style.fontSize="12px"}},{},_e),console.error(_e)}):Promise.resolve()}var ee=function(Z){!function(ie,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(te&&te.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),te&&O(ie,te)}(Ce,Z);var R,X,le,ue=m(Ce);function Ce(ie){var te,se;return function(me,Pe){if(!(me instanceof Pe))throw new TypeError("Cannot call a class as a function")}(this,Ce),(te=ue.call(this)).host=ie,te.defaultConfigErrorRenderer=(se=f(te),{name:"config-error",render:function(me,Pe){if(me.className="buildin-view-config-error",me.textContent=Pe.reason,"config"in Pe){var Ke=me.appendChild(document.createElement("span")),oe=!1;Ke.className="toggle-config",Ke.textContent="show config...",Ke.addEventListener("click",function(){if(oe=!oe,me.classList.toggle("expanded",oe),Ke.textContent=oe?"hide config...":"show config...",oe){var ce=document.createDocumentFragment();se.render(ce,{view:"struct",expanded:1},Pe.config).then(function(){return me.appendChild(ce)})}else me.lastChild.remove()})}},options:j}),te}return R=Ce,(X=[{key:"define",value:function(ie,te,se){var me=this;S(p(Ce.prototype),"define",this).call(this,ie,Object.freeze({name:ie,render:typeof te=="function"?te.bind(this):function(Pe,Ke,oe,ce){return me.render(Pe,te,oe,ce)},options:Object.freeze(w({},se))}))}},{key:"normalizeConfig",value:function(ie){var te=this;if(!ie)return null;if(Array.isArray(ie))return ie.reduce(function(oe,ce){return oe.concat(te.normalizeConfig(ce)||[])},[]);if(typeof ie=="string"){var se=A(ie.match(/^(\S+?)([:{])((?:.|\s)+)$/)||[],4),me=se[1],Pe=se[2],Ke=se[3];if(me){if(Pe==="{")try{return P(this.host.queryToConfig(me,Pe+Ke),ie)}catch(oe){return P(this.badConfig(ie,oe),ie)}return P({view:me,data:Ke},ie)}return P({view:ie},ie)}return typeof ie=="function"?P({view:ie},ie):ie}},{key:"badConfig",value:function(ie,te){var se=te&&te.message||"Unknown error";return console.error(se,{config:ie,error:te}),{view:this.defaultConfigErrorRenderer.render,reason:se,config:ie}}},{key:"ensureValidConfig",value:function(ie){var te=this;return Array.isArray(ie)?ie.map(function(se){return te.ensureValidConfig(se)}):ie&&ie.view?ie:this.badConfig(ie,new Error(ie?"Option `view` is missed":"Config is not a valid value"))}},{key:"composeConfig",value:function(ie,te){return ie=this.normalizeConfig(ie),te=this.normalizeConfig(te),ie&&te?Array.isArray(ie)?ie.map(function(se){return P(w(w({},se),te),[se,te])}):P(w(w({},ie),te),[ie,te]):ie||te}},{key:"propsFromConfig",value:function(ie,te,se){var me=P({},ie);for(var Pe in ie)if(E.call(ie,Pe)&&!I.has(Pe)){var Ke=ie[Pe];me[Pe]=typeof Ke=="string"&&Ke.startsWith("=")?this.host.query(Ke.slice(1),te,se):Ke}return me}},{key:"render",value:function(ie,te,se,me){return Y.call(this,ie,this.ensureValidConfig(this.normalizeConfig(te)),se,me)}},{key:"listLimit",value:function(ie,te){return ie!==!1&&(!ie||isNaN(ie)?te:Math.max(parseInt(ie,10),0)||te)}},{key:"renderList",value:function(ie,te,se,me){var Pe=this,Ke=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,oe=arguments.length>5&&arguments[5]!==void 0&&arguments[5],ce=arguments.length>6?arguments[6]:void 0;oe===!1&&(oe=se.length);var _e=Promise.all(se.slice(Ke,Ke+oe).map(function(Ee,Je,ft){return Pe.render(ie,te,Ee,w(w({},me),{},{index:Ke+Je,array:se,sliceIndex:Je,slice:ft}))}));return this.maybeMoreButtons(ce||ie,null,se.length,Ke+oe,oe,function(Ee,Je){return Pe.renderList(ie,te,se,me,Ee,Je,ce)}),_e}},{key:"maybeMoreButtons",value:function(ie,te,se,me,Pe,Ke){var oe=se-me,ce=oe<=0?null:document.createElement("span");return oe>Pe&&this.renderMoreButton(ce,"Show "+Pe+" more...",function(){return Ke(me,Pe)}),oe>0&&this.renderMoreButton(ce,"Show all the rest "+oe+" items...",function(){return Ke(me,1/0)}),ce!==null&&(ce.className="more-buttons",ie.insertBefore(ce,te)),ce}},{key:"renderMoreButton",value:function(ie,te,se){var me=document.createElement("button");me.className="more-button",me.innerHTML=te,me.addEventListener("click",function(){ie.remove(),se()}),ie.appendChild(me)}},{key:"adoptFragment",value:function(ie,te){var se=V.get(te);if(se){var me,Pe=l(ie.childNodes);try{for(Pe.s();!(me=Pe.n()).done;){var Ke=me.value;V.set(Ke,se)}}catch(oe){Pe.e(oe)}finally{Pe.f()}}}},{key:"setViewRoot",value:function(ie,te,se){L.set(ie,w({name:te},se))}},{key:"getViewTree",value:function(ie){var te,se=new Set(ie||[]),me=[],Pe=l(this.host.getDomRoots());try{for(Pe.s();!(te=Pe.n()).done;)D(te.value,{parent:null,children:me},se)}catch(Ke){Pe.e(Ke)}finally{Pe.f()}return me}},{key:"getViewStackTrace",value:function(ie){var te=this.host.dom.container;if(!te||ie instanceof Node==0||!te.contains(ie))return null;for(var se=[],me=ie;me!==te;)W.has(me)&&se.push(W.get(me)),me=me.parentNode;return se.length===0?null:se.reverse()}},{key:"getViewConfigTransitionTree",value:function(ie){var te=z.get(ie)||[];return Array.isArray(te)||(te=[te]),{value:ie,deps:te.map(this.getViewConfigTransitionTree,this)}}}])&&y(R.prototype,X),le&&y(R,le),Ce}(F.default);k.default=ee},{"./dict.js":10}],32:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _,F=H("../core/utils/dom.js"),A=H("../core/utils/layout.js"),h=H("../core/utils/pointer.js"),w=(_=H("../core/utils/debounce.js"))&&_.__esModule?_:{default:_};function u(x,f){var p;if(typeof Symbol=="undefined"||x[Symbol.iterator]==null){if(Array.isArray(x)||(p=S(x))||f&&x&&typeof x.length=="number"){p&&(x=p);var g=0,d=function(){};return{s:d,n:function(){return g>=x.length?{done:!0}:{done:!1,value:x[g++]}},e:function(j){throw j},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,c=!0,v=!1;return{s:function(){p=x[Symbol.iterator]()},n:function(){var j=p.next();return c=j.done,j},e:function(j){v=!0,l=j},f:function(){try{c||p.return==null||p.return()}finally{if(v)throw l}}}}function y(x){return function(f){if(Array.isArray(f))return O(f)}(x)||function(f){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(f))return Array.from(f)}(x)||S(x)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S(x,f){if(x){if(typeof x=="string")return O(x,f);var p=Object.prototype.toString.call(x).slice(8,-1);return p==="Object"&&x.constructor&&(p=x.constructor.name),p==="Map"||p==="Set"?Array.from(x):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?O(x,f):void 0}}function O(x,f){(f==null||f>x.length)&&(f=x.length);for(var p=0,g=new Array(f);p<f;p++)g[p]=x[p];return g}function m(x,f){if(x===null)return!0;for(var p=0,g=["top","left","width","height"];p<g.length;p++){var d=g[p];if(x[d]!==f[d])return!0}return!1}k.default=function(x){var f,p=!1,g=null,d=null,l=null,c=null,v=new Set,j=new Map,E=new Map,L=(0,F.createElement)("div","cancel-hint view-alert view-alert-warning"),W=(0,F.createElement)("div",{class:"discovery-view-inspector-overlay",onclick:function(){return P(d&&!l?d:null)}},[L]),V=(0,w.default)(function(){if(p&&l===null){var Z=x.view.getViewTree([ne.el]),R=new Set(y(E.keys()));!function Ce(ie,te){var se,me=u(ie);try{for(me.s();!(se=me.n()).done;){var Pe=se.value;if(Pe.node&&(Pe.view||Pe.viewRoot)){var Ke=(0,A.getBoundingRect)(Pe.node,te),oe=E.get(Pe.node)||null;oe===null?((oe={el:te.appendChild(document.createElement("div")),box:null}).el.className=Pe.viewRoot?"overlay view-root":"overlay",E.set(Pe.node,oe),j.set(oe.el,Pe)):R.delete(Pe.node),m(oe.box,Ke)&&(oe.el.style.top="".concat(Ke.top,"px"),oe.el.style.left="".concat(Ke.left,"px"),oe.el.style.width="".concat(Ke.width,"px"),oe.el.style.height="".concat(Ke.height,"px"),oe.box=Ke),Pe.children.length&&(Pe.node.nodeType===1&&(oe.el.style.overflow=getComputedStyle(Pe.node).overflow!=="visible"?"hidden":"visible"),Ce(Pe.children,oe.el))}else Pe.children.length&&Ce(Pe.children,te)}}catch(ce){me.e(ce)}finally{me.f()}}(Z,W);var X,le=u(R);try{for(le.s();!(X=le.n()).done;){var ue=X.value;E.get(ue).el.remove(),E.delete(ue)}}catch(Ce){le.e(Ce)}finally{le.f()}z()}},{maxWait:0,wait:50}),z=function(){var Z=h.pointerXY.value,R=Z.x,X=Z.y;N(y(document.elementsFromPoint(0|R,0|X)||[]).find(function(le){return j.has(le)})||null)},I=function(Z){Z.key!=="Escase"&&Z.keyCode!==27&&Z.which!==27||x.inspectMode.set(!1)},P=function(Z){l=Z||null,Z?(ne.show(),ne.freeze()):Y?(Y=!1,x.inspectMode.set(!1)):(v.clear(),D(),V())},D=function(){g&&g.classList.remove("hovered"),g=null,d=null,l=null,ne.hide()},N=function(Z){if(Z!==g)if(g!==null&&g.classList.remove("hovered"),g=Z,Z!==null){Z.classList.add("hovered");var R=j.get(Z)||null;R!==null?d!==null&&R.view===d.view||(d=R,clearTimeout(c),ne.show()):d=null}else c=setTimeout(D,100)},ne=new x.view.Popup({className:"discovery-inspect-details-popup",position:"pointer",hideIfEventOutside:!1,hideOnResize:!1,render:function(Z){for(var R=l||d,X=[],le=R;le!==null&&(le.view||le.viewRoot);)le!==R&&l!==null&&v.add(le),X.unshift(le),le=le.parent;x.view.render(Z,{view:"context",modifiers:{view:"tree",when:l!==null,data:"$[0]",className:"sidebar",limitLines:!1,itemConfig:{collapsible:"=not viewRoot",expanded:function(ue){return v.has(ue)},onToggle:function(ue,Ce,ie){return ue?v.add(ie):v.delete(ie)}},item:{view:"switch",content:[{when:"viewRoot",content:{view:"block",className:"view-root",content:"text:viewRoot.name"}},{when:"$ = #.selected",content:{view:"block",className:[function(ue){return!(!ue.view||!ue.view.skipped)&&"skipped"},"selected"],content:'text:(view.config.view or "#root" | $ + "" = $ ? $ : "\u0192n")',postRender:function(ue){requestAnimationFrame(function(){return ue.scrollIntoView()})}}},{content:{view:"link",className:function(ue){return!(!ue.leaf.view||!ue.leaf.view.skipped)&&"skipped"},data:'{ text: view.config.view or "#root" | $ + "" = $ ? $ : "\u0192n", href: false, leaf: $ }',onClick:function(ue,Ce){P(Ce.leaf)}}}]}},content:{view:"context",modifiers:{view:"block",className:"toolbar",content:[{view:"toggle-group",className:"stack-view-chain",name:"view",data:".({ value: $ })",value:"=$[-1].value",toggleConfig:{className:[function(ue){return!!ue.value.viewRoot&&"view-root"},function(ue){return!(!ue.value.view||!ue.value.view.skipped)&&"skipped"}],content:['text:value | viewRoot.name or view.config.view | $ + "" = $ ? $ : "\u0192n"',{view:"list",when:!1,className:"data-flow-changes",data:`
                                                $self: value | viewRoot or view;
                                                $parent: value.parent | viewRoot or view or #.host;
                                                ['data', 'context'].[$parent[$] != $self[$]]
                                            `,whenData:!0,itemConfig:{view:"block",className:function(ue){return ue},content:"text:$[0]"}}]}},{view:"button",when:l!==null,content:'text:"Close inspector"',onClick:function(){x.inspectMode.set(!1)}}]},content:[{view:"block",className:["content","props-config"],data:"#.view | view or viewRoot",content:[{view:"block",className:"content-section skip",when:"skipped",content:'block{ content: "badge:{ text: skipped }" }'},{view:"block",className:"content-section render",when:'config | view + "" != view',content:'source:{ content: config.view + "", syntax: "js" }'},{view:"block",when:"props != undefined",className:"content-section props",content:{view:"struct",expanded:2,data:"props"}},{view:"block",className:"content-section config",content:[{view:"struct",expanded:1,data:"config"},{view:"tree",data:function(ue){return x.view.getViewConfigTransitionTree(ue.config).deps},whenData:!0,expanded:3,children:"deps",item:{view:"struct",expanded:1,data:"value"}}]}]},{view:"block",className:["content","data-context"],data:"$map: => parent and { ..., v: view or viewRoot, parent: parent.$map() }; #.view.$map()",content:[{view:"block",className:"content-section data",content:{view:"struct",expanded:1,data:"v.data"}},{view:"tree",when:!1,children:"[..parent[=>v.data != @.v.data]].[]",item:["struct:v.data",'source:{ content: v | config.data or "???", syntax: "discovery-query" }']},{view:"block",className:"content-section context",content:{view:"struct",expanded:1,data:"v.context"}}]}]}},X,{selected:R,host:x})}});x.inspectMode.subscribeSync(function(Z){return Z?void(p||(p=!0,document.addEventListener("scroll",V,F.passiveCaptureOptions),document.addEventListener("keydown",I,!0),h.pointerXY.subscribe(V),f=setInterval(V,500),x.dom.container.append(W),V())):void(p&&(p=!1,clearInterval(f),document.removeEventListener("scroll",V,F.passiveCaptureOptions),document.removeEventListener("keydown",I,!0),h.pointerXY.unsubscribe(V),W.remove(),D()))});var Y=!1;function ee(Z){Z.key!=="Alt"&&Z.keyCode!==18&&Z.which!==18||(Z.type==="keydown"?p||(Y=!0,L.dataset.alt=!0,x.inspectMode.set(!0)):Y&&!l&&(Y=!1,delete L.dataset.alt,x.inspectMode.set(!1)))}document.addEventListener("keydown",ee,!0),document.addEventListener("keyup",ee,!0)}},{"../core/utils/debounce.js":20,"../core/utils/dom.js":21,"../core/utils/layout.js":25,"../core/utils/pointer.js":28}],33:[function(H,pe,k){"use strict";function _(f){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"Widget",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(k,"App",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(k,"router",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(k,"utils",{enumerable:!0,get:function(){return S.default}}),k.pages=k.complexViews=k.views=void 0;var F=x(H("./widget/index.js")),A=x(H("./app/index.js")),h=m(H("./views/index.js"));k.views=h;var w=m(H("./views/index-complex.js"));k.complexViews=w;var u=m(H("./pages/index.js"));k.pages=u;var y=x(H("./core/router.js")),S=x(H("./core/utils/index.js"));function O(){if(typeof WeakMap!="function")return null;var f=new WeakMap;return O=function(){return f},f}function m(f){if(f&&f.__esModule)return f;if(f===null||_(f)!=="object"&&typeof f!="function")return{default:f};var p=O();if(p&&p.has(f))return p.get(f);var g={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in f)if(Object.prototype.hasOwnProperty.call(f,l)){var c=d?Object.getOwnPropertyDescriptor(f,l):null;c&&(c.get||c.set)?Object.defineProperty(g,l,c):g[l]=f[l]}return g.default=f,p&&p.set(f,g),g}function x(f){return f&&f.__esModule?f:{default:f}}},{"./app/index.js":9,"./core/router.js":16,"./core/utils/index.js":23,"./pages/index.js":35,"./views/index-complex.js":77,"./views/index.js":78,"./widget/index.js":139}],34:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(F){F.page.define("default",{view:"switch",content:[{when:"#.modelfree",content:[{view:"h1",className:"modelfree",content:['text:"Discovery "','badge:{ text: "model free mode" }']},'html:"<p>Running in <b>model free mode</b>, because no config or models are set up. Please, read <a class=\\"view-link\\" href=\\"https://github.com/discoveryjs/discovery/blob/master/README.md\\" href=\\"_blank\\">documention</a> for more details."','html:"<p>Load data (JSON) with a button or just drop a file on the page.</p>"','html:"<br>"',{view:"button-primary",onClick:function(){return(0,_.createElement)("input",{type:"file",accept:"application/json,.json",onchange:function(A){return F.loadDataFromEvent(A)}}).click()},content:'text:"Load data"'}]},{content:["h1:#.name",{view:"struct",expanded:1}]}]})};var _=H("../core/utils/dom.js")},{"../core/utils/dom.js":21}],35:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"default",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(k,"notFound",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(k,"report",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(k,"viewsShowcase",{enumerable:!0,get:function(){return h.default}});var _=w(H("./default.js")),F=w(H("./not-found.js")),A=w(H("./report.js")),h=w(H("./views-showcase.js"));function w(u){return u&&u.__esModule?u:{default:u}}},{"./default.js":34,"./not-found.js":36,"./report.js":37,"./views-showcase.js":42}],36:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(_){_.page.define("not-found",['alert-warning:"Page `" + name + "` not found"'])}},{}],37:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(x){function f(E,L){return x.setPageParams(O(O({},x.pageParams),E),L)}var p=(0,A.default)(x,f),g=(0,h.default)(x,f),d=(0,w.default)(x,f),l=(0,_.createElement)("div",{class:"report-editor",hidden:!0},[g.el,d.el]),c=(0,_.createElement)("div","report-content"),v=[].concat((j=p.el,function(E){if(Array.isArray(E))return y(E)}(j)||function(E){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(E))return Array.from(E)}(j)||function(E,L){if(E){if(typeof E=="string")return y(E,L);var W=Object.prototype.toString.call(E).slice(8,-1);return W==="Object"&&E.constructor&&(W=E.constructor.name),W==="Map"||W==="Set"?Array.from(E):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?y(E,L):void 0}}(j)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),[l,c]),j;x.page.define("report",function(E,L,W){l.hidden=W.params.noedit,p.render(L,W);var V=g.perform(L,W);if(V.error)return d.el.hidden=!0,void(c.hidden=!0);d.el.hidden=!1,c.hidden=!1,d.render(V.data,W,c)},{reuseEl:!0,init:function(E){v.forEach(function(L){return E.appendChild(L)})},encodeParams:F.encodeParams,decodeParams:F.decodeParams})};var _=H("../core/utils/dom.js"),F=H("./report/params.js"),A=u(H("./report/header.js")),h=u(H("./report/editor-query.js")),w=u(H("./report/editor-view.js"));function u(x){return x&&x.__esModule?x:{default:x}}function y(x,f){(f==null||f>x.length)&&(f=x.length);for(var p=0,g=new Array(f);p<f;p++)g[p]=x[p];return g}function S(x,f){var p=Object.keys(x);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(x);f&&(g=g.filter(function(d){return Object.getOwnPropertyDescriptor(x,d).enumerable})),p.push.apply(p,g)}return p}function O(x){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?S(Object(p),!0).forEach(function(g){m(x,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(p)):S(Object(p)).forEach(function(g){Object.defineProperty(x,g,Object.getOwnPropertyDescriptor(p,g))})}return x}function m(x,f,p){return f in x?Object.defineProperty(x,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):x[f]=p,x}},{"../core/utils/dom.js":21,"./report/editor-query.js":38,"./report/editor-view.js":39,"./report/header.js":40,"./report/params.js":41}],38:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(u,y){var S,O,m=!1,x={},f=new u.view.QueryEditor(function(c,v){return u.querySuggestions(c,v,u.data,u.context)}).on("change",function(c){return S.checked&&y({query:c},!0)}),p=u.getQueryEngineInfo(),g=(0,_.createElement)("div","buttons"),d=(0,_.createElement)("div","data-query-result"),l=(0,_.createElement)("div","form query-editor-form",[(0,_.createElement)("div","query-editor",[f.el,(0,_.createElement)("div","editor-toolbar",[(0,_.createElement)("span","syntax-hint",'Use <a class="view-link" href="'.concat(p.link,'" target="_blank">').concat(p.name,"</a> ").concat(p.version||""," syntax for queries")),(0,_.createElement)("label","view-checkbox",[S=(0,_.createElement)("input",{class:"live-update",type:"checkbox",checked:!0,onchange:function(c){c.target.checked&&y({query:f.getValue()},!0)}}),(0,_.createElement)("span","view-checkbox__label","process on input")]),g])]),d]);return u.view.render(g,{view:"button-primary",content:'text:"Process"',onClick:function(){x={},y({query:f.getValue()},!0),u.scheduleRender("page")}}),{el:l,perform:function(c,v){var j,E,L=v.params.query;if(f.setValue(L),x.query===L&&x.data===c&&x.context===v)E=x.results;else{O&&(O.clear(),O=null);try{j=Date.now(),E=u.query(L,c,v),j=Date.now()-j}catch(z){var W=z.details&&z.details.loc,V=f.cm.doc;return W&&(O=z.details.token==="EOF"?V.setBookmark(V.posFromIndex(z.details.loc.range[0]),{widget:(0,_.createElement)("span","discovery-editor-error"," ")}):V.markText(V.posFromIndex(z.details.loc.range[0]),V.posFromIndex(z.details.loc.range[1]),{className:"discovery-editor-error"})),x={},d.innerHTML='<div class="report-error query-error">'+(0,F.escapeHtml)(z.message)+"</div>",{error:z}}x={data:c,query:L,context:v,results:E},d.innerHTML="",u.view.render(d,{view:"expand",header:'text:"'.concat(w(E)," in ").concat(parseInt(j,10),'ms"'),expanded:m,onToggle:function(z){return m=z},content:{view:"struct",expanded:1}},E)}return{data:E}}}};var _=H("../../core/utils/dom.js"),F=H("../../core/utils/html.js");function A(u){return(A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(u)}function h(u,y,S){return u.length?"".concat(u.length," ").concat(u.length===1?y:S):"empty"}function w(u){return Array.isArray(u)?"Array (".concat(h(u,"element","elements"),")"):u&&A(u)==="object"?"Object (".concat(h(Object.keys(u),"key","keys"),")"):"Scalar (".concat(u===null?"null":A(u),")")}},{"../../core/utils/dom.js":21,"../../core/utils/html.js":22}],39:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(f,p){var g,d,l,c,v,j,E={},L=Array.isArray(f.options.viewPresets)?x.concat(f.options.viewPresets):x,W=new f.view.ViewEditor(f).on("change",function(P){return j.checked&&p({view:P},!0)}),V=(0,F.createElement)("div","buttons"),z=(0,F.createElement)("div","form view-editor-form",[(0,F.createElement)("div","report-editor-tabs view-mode",v=["Default","Custom"].map(function(P){return(0,F.createElement)("div",{class:"report-editor-tab","data-mode":P.toLowerCase(),onclick:function(){return p({view:P==="Default"?void 0:m},!0)}},P)})),(0,F.createElement)("div","report-editor-tabs presets",L.map(function(P){return function(D,N,ne){return(0,F.createElement)("div",{class:"report-editor-tab",onclick:function(){return ne({view:N})}},D||"Untitled preset")}(P.name,P.content,p)})),g=(0,F.createElement)("div",{class:"view-editor-form-content",hidden:!0},[(0,F.createElement)("button",{class:"view-button formatting",title:"Prettify (input should be a JSON)",onclick:function(){W.focus();try{var P=W.getValue().trim(),D=new Function("return 0,"+P)();p({view:(0,h.jsonStringifyAsJavaScript)(D)})}catch(N){console.error("[Discovery] Prettify failed",N)}}}),W.el,(0,F.createElement)("div","editor-toolbar",[d=(0,F.createElement)("div","view-expand",[(0,F.createElement)("div",{class:"header",onclick:function(){d.classList.toggle("expanded"),c.classList.toggle("visible")}},[l=(0,F.createElement)("div","header-content"),(0,F.createElement)("div","trigger")]),c=(0,F.createElement)("div","view-editor-view-list")]),(0,F.createElement)("label","view-checkbox",[j=(0,F.createElement)("input",{class:"live-update",type:"checkbox",checked:!0,onchange:function(P){P.target.checked&&p({view:W.getValue()},!0)}}),(0,F.createElement)("span","view-checkbox__label","build on input")]),V])])]);f.view.render(V,{view:"button-primary",content:'text:"Build"',onClick:function(){E={},p({view:W.getValue()},!0),f.scheduleRender("page")}}),new f.view.Popup({className:"view-editor-view-list-hint",hoverTriggers:".view-editor-view-list .item.with-usage",render:function(P,D){f.view.render(P,(0,w.default)(f),f.view.get(D.textContent),{})}}),l.textContent="Available ".concat(y(f.view.entries).filter(function(P){return u(P,2)[1].options.usage}).length," views");var I=function(){return c.innerHTML='<a href="#views-showcase" class="view-link">Views showcase</a><br><br>'+y(f.view.entries).sort().map(function(P){var D=u(P,2),N=D[0],ne=D[1];return'<div><a class="item view-link'.concat(ne.options.usage?" with-usage":"",'" ').concat(ne.options.usage?'href="#views-showcase:'+N+'"':"",">").concat(N,"</a></div>")}).join("")};return I(),f.view.on("define",I),{el:z,render:function(P,D,N){var ne=typeof D.params.view=="string"?"custom":"default",Y=D.params.view,ee=null;if(W.setValue(Y),g.hidden=ne!=="custom",v.forEach(function(Z){return Z.classList.toggle("active",Z.dataset.mode===ne)}),Y||ne!=="default"||(Y=m),E.data!==P||E.view!==Y){N.innerHTML="";try{ee=Function("return "+(Y?"0,"+Y:"null"))(),f.view.render(N,ee,P,D)}catch(Z){f.view.render(N,function(R){R.className="report-error render-error",R.innerHTML=(0,A.escapeHtml)(String(Z))+"<br>(see details in console)",console.error(Z)})}E={data:P,view:Y}}}}},k.defaultViewSource=void 0;var _,F=H("../../core/utils/dom.js"),A=H("../../core/utils/html.js"),h=H("../../core/utils/json.js"),w=(_=H("../../views/_usage.js"))&&_.__esModule?_:{default:_};function u(f,p){return function(g){if(Array.isArray(g))return g}(f)||function(g,d){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(g)))return;var l=[],c=!0,v=!1,j=void 0;try{for(var E,L=g[Symbol.iterator]();!(c=(E=L.next()).done)&&(l.push(E.value),!d||l.length!==d);c=!0);}catch(W){v=!0,j=W}finally{try{c||L.return==null||L.return()}finally{if(v)throw j}}return l}(f,p)||S(f,p)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(f){return function(p){if(Array.isArray(p))return O(p)}(f)||function(p){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(p))return Array.from(p)}(f)||S(f)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S(f,p){if(f){if(typeof f=="string")return O(f,p);var g=Object.prototype.toString.call(f).slice(8,-1);return g==="Object"&&f.constructor&&(g=f.constructor.name),g==="Map"||g==="Set"?Array.from(f):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?O(f,p):void 0}}function O(f,p){(p==null||p>f.length)&&(p=f.length);for(var g=0,d=new Array(p);g<p;g++)d[g]=f[g];return d}var m=`{
    view: 'struct',
    expanded: 1
}`;k.defaultViewSource=m;var x=[{name:"Table",content:(0,h.jsonStringifyAsJavaScript)({view:"table"})},{name:"Auto-link list",content:(0,h.jsonStringifyAsJavaScript)({view:"ol",item:"auto-link"})},{name:"Signature",content:(0,h.jsonStringifyAsJavaScript)({view:"signature",expanded:2})}]},{"../../core/utils/dom.js":21,"../../core/utils/html.js":22,"../../core/utils/json.js":24,"../../views/_usage.js":43}],40:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h,w){var u,y,S,O,m=new h.view.Popup({render:function(p,g,d){return h.view.render(p,{view:"menu",data:[{text:"Copy link to report",action:function(){return(0,A.default)(location)}},{text:"Copy report as JSON",action:function(){return(0,A.default)((l=h.pageParams,c=function(W){return W.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")},v=l.title,j=l.query,E=l.view,L={title:v,query:j,view:E},`{
`.concat(Object.keys(L).reduce(function(W,V){return W.concat(L[V]?"    ".concat(V,": '").concat(c(L[V]),"'"):[])},[]).join(`,
`),`
}`)));var l,c,v,j,E,L}}],onClick:function(l){d(),l.action()}})}}),x=(0,F.createElement)("div","report-actions",[O=(0,F.createElement)("button",{class:"edit-mode",title:"Toggle edit mode",onclick:function(p){p.target.blur(),w({noedit:!h.pageParams.noedit})}}),(0,F.createElement)("button",{class:"share",title:"Share ...",onclick:function(p){var g=p.target;g.blur(),m.show(g)}}),(0,F.createElement)("button",{class:"toggle-fullscreen",title:"Toggle full page mode",onclick:function(p){p.target.blur(),w({dzen:!h.pageParams.dzen})}})]),f=(0,F.createElement)("div","report-header",[(0,F.createElement)("div",{class:"report-header-text","data-title":"\xA0"},[u=(0,F.createElement)("input",{placeholder:"Untitled report",oninput:function(p){var g=p.target;return w({title:g.value},!0)},onkeypress:function(p){p.charCode!==13&&p.keyCode!==13||p.target.blur()}}),(0,F.createElement)("span","timestamp",[y=(0,F.createElement)("span",null,"&nbsp;"),S=(0,F.createElement)("span")])])]);return{el:[x,f],render:function(p,g){var d=g.params,l=d.title,c=d.noedit;u.parentNode.dataset.title=l||u.placeholder,u.value=l,O.classList.toggle("disabled",c),y.innerText=g.createdAt&&typeof g.createdAt.toLocaleString=="function"?"Data collected at "+g.createdAt.toLocaleString().replace(",","")+" | ":"",S.innerText="View built at "+new Date().toLocaleString().replace(",","")}}};var _,F=H("../../core/utils/dom.js"),A=(_=H("../../core/utils/copy-text.js"))&&_.__esModule?_:{default:_}},{"../../core/utils/copy-text.js":19,"../../core/utils/dom.js":21}],41:[function(H,pe,k){"use strict";function _(w){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(w)}Object.defineProperty(k,"__esModule",{value:!0}),k.encodeParams=function(w){var u=["query","view","title","dzen","noedit"],y=typeof w=="string"?{query:w}:w,S=y.query,O=y.view,m=y.title,x=y.dzen,f=y.noedit,p=y.extra,g=[];return x&&g.push(["dzen"]),f&&g.push(["noedit"]),m&&g.push(["title",m]),S&&g.push(["q",F.encode(S)]),typeof O=="string"&&g.push(O?["v",F.encode(O)]:["v"]),Object.keys(p||{}).sort().forEach(function(d){u.includes(d)||g.push([d,p[d]])}),g},k.decodeParams=function(w){var u=Object.fromEntries(w),y=["q","v","title","dzen","noedit"],S={title:u.title||"",query:F.decode(h(u.q,"")),view:"v"in u?F.decode(h(u.v,"")):void 0,dzen:"dzen"in u,noedit:"noedit"in u};return Object.keys(u).forEach(function(O){y.includes(O)||(S[O]=u[O])}),S};var F=function(w){if(w&&w.__esModule)return w;if(w===null||_(w)!=="object"&&typeof w!="function")return{default:w};var u=A();if(u&&u.has(w))return u.get(w);var y={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in w)if(Object.prototype.hasOwnProperty.call(w,O)){var m=S?Object.getOwnPropertyDescriptor(w,O):null;m&&(m.get||m.set)?Object.defineProperty(y,O,m):y[O]=w[O]}return y.default=w,u&&u.set(w,y),y}(H("../../core/utils/base64.js"));function A(){if(typeof WeakMap!="function")return null;var w=new WeakMap;return A=function(){return w},w}function h(w,u){return typeof w=="string"?w:u||""}},{"../../core/utils/base64.js":17}],42:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){h.page.define("views-showcase",{view:"context",data:function(){return function(u){if(Array.isArray(u))return A(u)}(w=h.view.values)||function(u){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(u))return Array.from(u)}(w)||function(u,y){if(u){if(typeof u=="string")return A(u,y);var S=Object.prototype.toString.call(u).slice(8,-1);return S==="Object"&&u.constructor&&(S=u.constructor.name),S==="Map"||S==="Set"?Array.from(u):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?A(u,y):void 0}}(w)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}();var w},modifiers:[{view:"block",className:"sidebar",content:{view:"content-filter",content:{view:"menu",name:"view",limit:!1,data:`
                            .[name ~= #.filter]
                            .sort(name asc)
                            .({ ..., disabled: no options.usage })
                        `,item:"text-match:{ text: name, match: #.filter }"}}}],content:{view:"block",className:"content",data:"$[=> name=(#.view.name or #.id)]",content:{view:"switch",content:[{when:"no $ and #.id",content:'alert-warning:"View \\"" + #.id + "\\" not found"'},{when:"no $",content:'text:"Select a view"'},{content:[{view:"context",postRender:function(w,u,y,S){h.setPageRef(y.name),h.cancelScheduledRender(),S.id=h.pageRef}},(0,F.default)(h)]}]}}},{sidebar:!1})};var _,F=(_=H("../views/_usage.js"))&&_.__esModule?_:{default:_};function A(h,w){(w==null||w>h.length)&&(w=h.length);for(var u=0,y=new Array(w);u<w;u++)y[u]=h[u];return y}},{"../views/_usage.js":43}],43:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(f){var p={view:"context",modifiers:[{view:"switch",when:"beforeDemo",content:[{when:function(g){return typeof g.beforeDemo=="string"},content:'html:"<p>" + beforeDemo + "</p>"'},{content:{view:"render",config:"beforeDemo",context:"{ __demoContext: true }"}}]},{view:"block",className:"usage-render",postRender:function(g,d){return(0,d.onInit)(g,"root")},content:{view:"render",config:"demo or view",context:"{ __demoContext: true }"}},{view:"switch",when:"afterDemo",content:[{when:function(g){return typeof g.afterDemo=="string"},content:'html:"<p>" + afterDemo + "</p>"'},{content:{view:"render",config:"afterDemo",context:"{ __demoContext: true }"}}]}],content:{view:"tabs",className:"usage-sources",name:"code",tabs:[{value:"config",text:"Config (JS)"},{value:"config-json",text:"Config (JSON)"},{value:"html",text:"HTML"}],content:{view:"switch",content:[{when:'#.code="config"',content:{view:"source",className:"first-tab",data:function(g){return{syntax:"discovery-view",content:(0,_.jsonStringifyAsJavaScript)(g.demo||g.view)}}}},{when:'#.code="config-json"',content:{view:"source",data:function(g){return{syntax:"json",content:JSON.stringify(g.demo||g.view,null,4)}}}},{when:'#.code="html"',content:{view:"source",data:function(g,d){return{syntax:"html",content:m(d.root)}}}}]}}};return{view:"block",className:"discovery-view-usage",data:function(g){var d,l=g.name,c=g.options,v=(d=f.view.values,function(j){if(Array.isArray(j))return S(j)}(d)||function(j){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(j))return Array.from(j)}(d)||y(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).filter(function(j){return j.options.usage===c.usage}).map(function(j){return j.name});return v.includes(l)||v.unshift(l),A(A({demo:{view:l,data:'"'+l+'"'}},typeof c.usage=="function"?c.usage(l,v):Array.isArray(c.usage)?{examples:c.usage}:c.usage),{},{name:l,group:v})},content:["h1:name",p,{view:"list",data:"examples",whenData:!0,itemConfig:{className:"usage-section"},item:["h2:title",p]}]}};var _=H("../core/utils/json.js");function F(f,p){var g=Object.keys(f);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(f);p&&(d=d.filter(function(l){return Object.getOwnPropertyDescriptor(f,l).enumerable})),g.push.apply(g,d)}return g}function A(f){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?F(Object(g),!0).forEach(function(d){h(f,d,g[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(g)):F(Object(g)).forEach(function(d){Object.defineProperty(f,d,Object.getOwnPropertyDescriptor(g,d))})}return f}function h(f,p,g){return p in f?Object.defineProperty(f,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[p]=g,f}function w(f,p){return function(g){if(Array.isArray(g))return g}(f)||function(g,d){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(g)))return;var l=[],c=!0,v=!1,j=void 0;try{for(var E,L=g[Symbol.iterator]();!(c=(E=L.next()).done)&&(l.push(E.value),!d||l.length!==d);c=!0);}catch(W){v=!0,j=W}finally{try{c||L.return==null||L.return()}finally{if(v)throw j}}return l}(f,p)||y(f,p)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(f,p){var g;if(typeof Symbol=="undefined"||f[Symbol.iterator]==null){if(Array.isArray(f)||(g=y(f))||p&&f&&typeof f.length=="number"){g&&(f=g);var d=0,l=function(){};return{s:l,n:function(){return d>=f.length?{done:!0}:{done:!1,value:f[d++]}},e:function(E){throw E},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,v=!0,j=!1;return{s:function(){g=f[Symbol.iterator]()},n:function(){var E=g.next();return v=E.done,E},e:function(E){j=!0,c=E},f:function(){try{v||g.return==null||g.return()}finally{if(j)throw c}}}}function y(f,p){if(f){if(typeof f=="string")return S(f,p);var g=Object.prototype.toString.call(f).slice(8,-1);return g==="Object"&&f.constructor&&(g=f.constructor.name),g==="Map"||g==="Set"?Array.from(f):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?S(f,p):void 0}}function S(f,p){(p==null||p>f.length)&&(p=f.length);for(var g=0,d=new Array(p);g<p;g++)d[g]=f[g];return d}function O(f){return Boolean(f&&f.nodeType===Node.TEXT_NODE)}function m(f){var p,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:`
`,d="",l=u(f.childNodes);try{for(l.s();!(p=l.n()).done;){var c=p.value;O(c)||!c.previousSibling||O(c.previousSibling)||(d+=g),d+=x(c,g)}}catch(v){l.e(v)}finally{l.f()}return d}function x(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:`
`;switch(f.nodeType){case Node.ELEMENT_NODE:var g=f.cloneNode().outerHTML.split(/(?=<\/[^>]+>$)/),d=w(g,2),l=d[0],c=d[1],v=c===void 0?"":c;return l+(f.firstChild&&!O(f.firstChild)?p+"  ":"")+m(f,p+"  ")+(f.lastChild&&!O(f.lastChild)?p:"")+v;case Node.TEXT_NODE:return f.nodeValue;case Node.COMMENT_NODE:return"<!--"+f.nodeValue+"-->";case Node.DOCUMENT_FRAGMENT_NODE:return m(f,p)}return""}},{"../core/utils/json.js":24}],44:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){function h(w,u,y,S){var O=u.content,m=O===void 0?"text":O;return w.classList.add("view-alert"),A.view.render(w,m,y,S)}A.view.define("alert",h,{usage:F.default}),A.view.define("alert-success",h,{usage:F.default}),A.view.define("alert-danger",h,{usage:F.default}),A.view.define("alert-warning",h,{usage:F.default})};var _,F=(_=H("./alerts.usage.js"))&&_.__esModule?_:{default:_}},{"./alerts.usage.js":45}],45:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default=function(_,F){return{demo:{view:_,data:'"Alert"'},examples:[{title:"Variations",demo:F.map(function(A){return"".concat(A,':"').concat(A,'"')})},{title:"Complex content",demo:{view:_,content:['h3:"Some header"','text:"Hello world!"']}}]}}},{}],46:[function(H,pe,k){"use strict";function _(h,w){var u=Object.keys(h);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(h);w&&(y=y.filter(function(S){return Object.getOwnPropertyDescriptor(h,S).enumerable})),u.push.apply(u,y)}return u}function F(h){for(var w=1;w<arguments.length;w++){var u=arguments[w]!=null?arguments[w]:{};w%2?_(Object(u),!0).forEach(function(y){A(h,y,u[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(u)):_(Object(u)).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(u,y))})}return h}function A(h,w,u){return w in h?Object.defineProperty(h,w,{value:u,enumerable:!0,configurable:!0,writable:!0}):h[w]=u,h}Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){h.view.define("auto-link",function(w,u,y,S){var O=u.content,m=u.fallback,x=u.href;if(y){var f=h.resolveValueLinks(y),p=f?(typeof x=="function"?x:function(g){return g})(f[0].href,y,S):null;return p?h.view.render(w,{view:"link",content:O},F(F({},f[0]),{},{href:p}),S):h.view.render(w,m||O||"text",y,S)}},{tag:!1})}},{}],47:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){function w(u,y,S,O){var m,x=y.content,f=S||{},p=f.color,g=f.textColor,d=f.darkColor,l=f.darkTextColor,c=f.text,v=f.href,j=f.prefix,E=f.postfix,L=f.hint;return typeof S!="string"&&typeof S!="number"&&typeof S!="boolean"||(c=S),p&&u.style.setProperty("--discovery-view-badge-color",p),d&&u.style.setProperty("--discovery-view-badge-dark-color",d),g&&u.style.setProperty("--discovery-view-badge-text-color",g),l&&u.style.setProperty("--discovery-view-badge-dark-text-color",l),v&&(u.href=v),L&&(u.title=L),A(u,"prefix",j),x?m=h.view.render(u,x,S,O):u.append(document.createTextNode(c)),A(u,"postfix",E),m}h.view.define("badge",w,{tag:"a",usage:F.default}),h.view.define("pill-badge",w,{tag:"a",usage:F.default})};var _,F=(_=H("./badges.usage.js"))&&_.__esModule?_:{default:_};function A(h,w,u){if(u){var y=h.appendChild(document.createElement("span"));y.className=w,y.textContent=u}}},{"./badges.usage.js":48}],48:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default=function(_,F){return{demo:{view:_,data:JSON.stringify(_)},examples:[{title:"Variations",demo:F.map(function(A){return"".concat(A,':"').concat(A,'"')})},{title:"With color",demo:{view:_,data:{color:"rgba(237, 177, 9, 0.35)",text:"Colored badge"}}},{title:"With text color",demo:{view:_,data:{textColor:"red",text:"Badge with colored text"}}},{title:"With explicit dark-mode colors",demo:{view:_,data:{color:"blue",textColor:"white",darkColor:"yellow",darkTextColor:"black",text:"Badge with colored text"}}},{title:"As a link",demo:{view:_,data:{href:"#",text:"Click me!"}}},{title:"Prefix and postfix",demo:{view:_,data:{prefix:"prefix",postfix:"postfix",text:"text"}}},{title:"With a hint",demo:{view:_,data:{text:"text",hint:"hint"}}}]}}},{}],49:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("block",function(h,w,u,y){var S=w.content,O=S===void 0?[]:S,m=w.onInit,x=w.onChange,f=typeof m!="function"&&typeof x!="function"?O:this.composeConfig(O,{onInit:m,onChange:x});return A.view.render(h,f,u,y)},{usage:F.default})};var _,F=(_=H("./block.usage.js"))&&_.__esModule?_:{default:_}},{"./block.usage.js":50}],50:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={beforeDemo:"A block has no its own look. It's using for wrapping some content with a `className` (btw `className` is a common property for any view when appropriate)",demo:{view:"block",className:"foo",content:['text:"Content inside block"']}}},{}],51:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){function w(u,y,S,O){var m=y.content,x=y.disabled,f=x!==void 0&&x,p=y.onClick,g=S||{},d=g.text,l=d===void 0?"":d,c=g.href,v=g.external;if(u.classList.add("view-button"),h.query(f,S,O)?u.disabled=!0:typeof p=="function"?(u.addEventListener("click",function(){return p(u,S,O)}),u.classList.add("onclick")):c&&u.addEventListener("click",function(j){return(0,A.createElement)("a",{href:c,target:v?"_blank":""}).click(j)}),m)return h.view.render(u,m,S,O);u.textContent=l}h.view.define("button",w,{tag:"button",usage:F.default}),h.view.define("button-primary",w,{tag:"button",usage:F.default}),h.view.define("button-danger",w,{tag:"button",usage:F.default}),h.view.define("button-warning",w,{tag:"button",usage:F.default})};var _,F=(_=H("./button.usage.js"))&&_.__esModule?_:{default:_},A=H("../core/utils/dom.js")},{"../core/utils/dom.js":21,"./button.usage.js":52}],52:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default=function(_,F){return{demo:{view:_,onClick:function(){return alert("Hello world!")},data:{text:"Button"}},examples:[{title:"Variations",demo:F.map(function(A){return"".concat(A,':{ text: "').concat(A,'" }')})},{title:"Button as a link",demo:{view:"button",data:{text:"Click me",href:"#url",external:!0}}}]}}},{}],53:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(S){S.view.define("checkbox-list",function(O,m,x,f){var p=m.name,g=p===void 0?"filter":p,d=m.checkbox,l=m.checkboxValue,c=l===void 0?"$":l,v=m.emptyText,j=m.limit,E=m.onChange,L=m.onInit,W=new Set;if(v!==!1&&v!==""&&O.setAttribute("emptyText",v||"Empty list"),!Array.isArray(x)&&x&&(x=[x]),Array.isArray(x))return S.view.renderList(O,this.composeConfig(u(u({view:"checkbox"},d),{},{onInit:function(V,z,I,P){V&&W.add(S.query(c,I,P))},onChange:function(V,z,I,P){var D=W.size,N=S.query(c,I,P);V?W.add(N):W.delete(N),D!==W.size&&typeof E=="function"&&E(A(W),g)}})),x,f,0,S.view.listLimit(j,25)).then(function(){typeof L=="function"&&L(A(W),g)})},{usage:F.default})};var _,F=(_=H("./checkbox-list.usage.js"))&&_.__esModule?_:{default:_};function A(S){return function(O){if(Array.isArray(O))return h(O)}(S)||function(O){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(O))return Array.from(O)}(S)||function(O,m){if(!O)return;if(typeof O=="string")return h(O,m);var x=Object.prototype.toString.call(O).slice(8,-1);if(x==="Object"&&O.constructor&&(x=O.constructor.name),x==="Map"||x==="Set")return Array.from(O);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return h(O,m)}(S)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(S,O){(O==null||O>S.length)&&(O=S.length);for(var m=0,x=new Array(O);m<O;m++)x[m]=S[m];return x}function w(S,O){var m=Object.keys(S);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(S);O&&(x=x.filter(function(f){return Object.getOwnPropertyDescriptor(S,f).enumerable})),m.push.apply(m,x)}return m}function u(S){for(var O=1;O<arguments.length;O++){var m=arguments[O]!=null?arguments[O]:{};O%2?w(Object(m),!0).forEach(function(x){y(S,x,m[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(m)):w(Object(m)).forEach(function(x){Object.defineProperty(S,x,Object.getOwnPropertyDescriptor(m,x))})}return S}function y(S,O,m){return O in S?Object.defineProperty(S,O,{value:m,enumerable:!0,configurable:!0,writable:!0}):S[O]=m,S}},{"./checkbox-list.usage.js":54}],54:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"checkbox-list",checkbox:{content:"text"},data:["one","two","three"]}}},{}],55:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(y){function S(O,m,x,f,p,g){if(O!==null){var d=p?w(w({},f),{},u({},p,g.checked)):f;return O.innerHTML="",y.view.render(O,m,x,d)}}y.view.define("checkbox",function(O,m,x,f){var p=m.name,g=m.checked,d=m.readonly,l=m.content,c=m.onInit,v=m.onChange,j=O.appendChild((0,A.createElement)("input")),E=l?O.appendChild((0,A.createElement)("span","view-checkbox__label")):null;return j.type="checkbox",j.checked=g!==void 0?y.queryBool(g,x,f):Boolean(f[p]),j.readOnly=d,j.addEventListener("click",function(L){d&&L.preventDefault()}),j.addEventListener("change",function(){typeof v=="function"&&(v(j.checked,p,x,f),S(E,l,x,f,p,j))}),typeof c=="function"&&c(j.checked,p,x,f),S(E,l,x,f,p,j)},{tag:"label",usage:F.default})};var _,F=(_=H("./checkbox.usage.js"))&&_.__esModule?_:{default:_},A=H("../core/utils/dom.js");function h(y,S){var O=Object.keys(y);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(y);S&&(m=m.filter(function(x){return Object.getOwnPropertyDescriptor(y,x).enumerable})),O.push.apply(O,m)}return O}function w(y){for(var S=1;S<arguments.length;S++){var O=arguments[S]!=null?arguments[S]:{};S%2?h(Object(O),!0).forEach(function(m){u(y,m,O[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(O)):h(Object(O)).forEach(function(m){Object.defineProperty(y,m,Object.getOwnPropertyDescriptor(O,m))})}return y}function u(y,S,O){return S in y?Object.defineProperty(y,S,{value:O,enumerable:!0,configurable:!0,writable:!0}):y[S]=O,y}},{"../core/utils/dom.js":21,"./checkbox.usage.js":56}],56:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _={demo:{view:"checkbox",content:'text:"checkbox caption"'},examples:[{title:"Checked state",beforeDemo:"Checked state is set up with `checked` property. Its value can be a query",demo:[{view:"checkbox",checked:!0,content:'text:"should be checked"'},{view:"checkbox",checked:"1 > 5",content:`text:"shouldn't be checked"`},{view:"checkbox",checked:"1 < 5",content:'text:"should be checked"'}]},{title:"Readonly checkbox",demo:{view:"checkbox",readonly:!0,content:'text:"checkbox caption"'}},{title:"On change",demo:{view:"checkbox",onChange:new Function("return (value, name, data, context) => alert(`Changed to ${value}!`)")(),content:'text:"click me!"'}}]};k.default=_},{}],57:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("column",function(h,w,u,y){var S=w.content,O=S===void 0?[]:S;return A.view.render(h,O,u,y)},{usage:F.default})};var _,F=(_=H("./columns.usage.js"))&&_.__esModule?_:{default:_}},{"./columns.usage.js":59}],58:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("columns",function(h,w,u,y){var S=w.column,O=w.columnConfig,m=w.emptyText,x=w.limit;if(m!==!1&&m!==""&&h.setAttribute("emptyText",m||"Empty"),!Array.isArray(u)&&u&&(u=[u]),Array.isArray(u))return A.view.renderList(h,this.composeConfig({view:"column",content:S},O),u,y,0,A.view.listLimit(x,25))},{usage:F.default})};var _,F=(_=H("./columns.usage.js"))&&_.__esModule?_:{default:_}},{"./columns.usage.js":59}],59:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"columns",data:["one","two","three","four"],column:"text"}}},{}],60:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("content-filter",function(h,w,u,y){var S=w.name,O=S===void 0?"filter":S,m=w.type,x=m===void 0?"regexp":m,f=w.placeholder,p=w.content,g=w.onInit,d=w.onChange;return A.view.render(h,{view:"context",modifiers:{view:"input",name:O,type:x,placeholder:f||"Filter"},content:{view:"block",className:"content",content:p,onInit:g,onChange:d}},u,y)},{usage:F.default})};var _,F=(_=H("./content-filter.usage.js"))&&_.__esModule?_:{default:_}},{"./content-filter.usage.js":61}],61:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"content-filter",data:["foo","bar","baz"],content:{view:"list",data:".[$ ~= #.filter]"}},examples:[{title:"Using with text-match",demo:{view:"content-filter",data:[{name:"foo"},{name:"bar"},{name:"baz"}],name:"customName",content:{view:"list",data:".[name ~= #.customName]",item:"text-match:{ text: name, match: #.customName }"}}}]}},{}],62:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(u){u.view.define("context",function(y,S,O,m){function x(){for(var V=d.previousSibling;V&&V!==g;)(V=V.previousSibling).nextSibling.remove();var z=l=document.createDocumentFragment();return u.view.render(z,L,O,p).then(function(){z===l&&(u.view.adoptFragment(z,g),g.after(z))})}function f(V,z){!z||hasOwnProperty.call(p,z)&&p[z]===V||(p=h(h({},p),{},w({},z,V)),c&&x())}var p=m,g=null,d=null,l=null,c=!1,v=S.modifiers,j=v===void 0?[]:v,E=S.content,L=E===void 0?[]:E;Array.isArray(j)||(j=[j]);var W=u.view.render(y,this.composeConfig(j,{onInit:f,onChange:f}),O,m);return g=y.appendChild(document.createComment('{ view: "context" } content start')),d=y.appendChild(document.createComment('{ view: "context" } content end')),W.then(function(){return c=!0,x()})},{tag:!1,usage:F.default})};var _,F=(_=H("./context.usage.js"))&&_.__esModule?_:{default:_};function A(u,y){var S=Object.keys(u);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(u);y&&(O=O.filter(function(m){return Object.getOwnPropertyDescriptor(u,m).enumerable})),S.push.apply(S,O)}return S}function h(u){for(var y=1;y<arguments.length;y++){var S=arguments[y]!=null?arguments[y]:{};y%2?A(Object(S),!0).forEach(function(O){w(u,O,S[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(S)):A(Object(S)).forEach(function(O){Object.defineProperty(u,O,Object.getOwnPropertyDescriptor(S,O))})}return u}function w(u,y,S){return y in u?Object.defineProperty(u,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):u[y]=S,u}},{"./context.usage.js":63}],63:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"context",data:{name:"text",demo:123},content:["text:name","table"]},examples:[{title:"Using with modifiers",demo:{view:"context",modifiers:['h2:"Modifiers"',{view:"input",name:"inputValue"},{view:"select",name:"selectValue",data:["foo","bar","baz"]}],content:['h2:"Values"',"struct:#"]}}]}},{}],64:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(S){S.view.define("dropdown",function(O,m,x,f){function p(Y,ee){return typeof z=="function"?z(Y,ee):function(Z,R){if(!Z||!R)return Z===R;if(u(Z)!=="object"||u(R)!=="object")return Z===R;for(var X in Z)if(y.call(Z,X)&&Z[X]!==R[X])return!1;for(var le in R)if(y.call(R,le)&&Z[le]!==R[le])return!1;return!0}(Y,ee)}function g(){return ne.innerHTML="",S.view.render(ne,W||"text",x,h(h({},f),{},w({},v||"__self",D)))}function d(Y){D=Y,typeof P=="function"&&P(D,v,x,f),N.hide(),g()}function l(Y,ee){if(c){var Z={changed:!p(Y,ee)};c.innerHTML="",S.view.render(c,[{view:"button-primary",disabled:"=not changed",content:'text:"Apply"',onClick:function(R,X,le){d(le)}},{view:"button",when:function(){return j&&!p(j,D)},content:'text:"Reset"',onClick:function(){d(j)}},{view:"button",disabled:"=not changed",content:'text:"Cancel"',onClick:function(){N.hide()}}],Z,ee)}}var c,v=m.name,j=m.resetValue,E=m.value,L=m.placeholder,W=m.caption,V=m.content,z=m.compare,I=m.onInit,P=m.onChange,D="value"in m?E:f[v],N=null,ne=O.appendChild(document.createElement("div"));return L&&(O.dataset.placeholder=L),O.tabIndex=0,O.addEventListener("click",function(){N===null&&(N=new S.view.Popup({className:"view-dropdown-popup"}));var Y,ee=h({},D);N.toggle(O,function(Z){return S.view.render(Z,[{view:"block",className:"content",content:S.view.composeConfig(V,{onInit:function(R,X){ee[X]=R},onChange:function(R,X){ee[X]=R,l(Y,ee)}})},{view:"block",className:"confirm",postRender:function(R){c=R}}],x,h(h({},f),D)).then(function(){l(Y=h({},ee),ee)})})}),ne.className="view-dropdown__caption",typeof I=="function"&&I(D,v,x,f),g()},{usage:F.default})};var _,F=(_=H("./dropdown.usage.js"))&&_.__esModule?_:{default:_};function A(S,O){var m=Object.keys(S);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(S);O&&(x=x.filter(function(f){return Object.getOwnPropertyDescriptor(S,f).enumerable})),m.push.apply(m,x)}return m}function h(S){for(var O=1;O<arguments.length;O++){var m=arguments[O]!=null?arguments[O]:{};O%2?A(Object(m),!0).forEach(function(x){w(S,x,m[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(m)):A(Object(m)).forEach(function(x){Object.defineProperty(S,x,Object.getOwnPropertyDescriptor(m,x))})}return S}function w(S,O,m){return O in S?Object.defineProperty(S,O,{value:m,enumerable:!0,configurable:!0,writable:!0}):S[O]=m,S}function u(S){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(S)}var y=Object.prototype.hasOwnProperty},{"./dropdown.usage.js":65}],65:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"context",modifiers:{view:"dropdown",name:"demo",value:{foo:"two",bar:"hello"},resetValue:{foo:"one",bar:""},caption:{view:"struct",expanded:1,data:"#"},content:[{view:"select",name:"foo",data:["one","two","three","four"]},{view:"input",name:"bar"}]},content:{view:"struct",expanded:1,data:"#"}}}},{}],66:[function(H,pe,k){"use strict";var _,F=(_=H("/gen/codemirror.js"))&&_.__esModule?_:{default:_};function A(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function h(l,c){for(var v=0;v<c.length;v++){var j=c[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(l,j.key,j)}}function w(l,c,v){return c&&h(l.prototype,c),v&&h(l,v),l}function u(l,c){var v=Object.keys(l);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(l);c&&(j=j.filter(function(E){return Object.getOwnPropertyDescriptor(l,E).enumerable})),v.push.apply(v,j)}return v}function y(l){for(var c=1;c<arguments.length;c++){var v=arguments[c]!=null?arguments[c]:{};c%2?u(Object(v),!0).forEach(function(j){S(l,j,v[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(v)):u(Object(v)).forEach(function(j){Object.defineProperty(l,j,Object.getOwnPropertyDescriptor(v,j))})}return l}function S(l,c,v){return c in l?Object.defineProperty(l,c,{value:v,enumerable:!0,configurable:!0,writable:!0}):l[c]=v,l}var O="discovery-view-editor-hints-popup",m="active",x=window.requestAnimationFrame||function(l){return setTimeout(l,1e3/60)},f=window.cancelAnimationFrame||clearTimeout;F.default.commands.autocomplete=F.default.showHint,F.default.defineOption("showHintOptions",null),F.default.defineExtension("showHint",function(l){l=y(y({closeOnUnfocus:!0,container:null},this.options.showHintOptions),l),this.state.completionActive&&this.state.completionActive.close(),this.listSelections().length>1||this.somethingSelected()||typeof l.hint=="function"&&(this.state.completionActive=new p(this,l),this.state.completionActive.update(!0),F.default.signal(this,"startCompletion",this))});var p=function(){function l(c,v){var j,E=this;(A(this,l),this.cm=c,this.options=v,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,c.on("cursorActivity",this.activityFunc=function(){return E.cursorActivity()}),v.closeOnUnfocus)&&(this.onFocus=function(){return clearTimeout(j)},this.onBlur=function(){return j=setTimeout(function(){return E.close()},100)},c.on("focus",this.onFocus),c.on("blur",this.onBlur))}return w(l,[{key:"close",value:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.options.closeOnUnfocus&&(this.cm.off("blur",this.onBlur),this.cm.off("focus",this.onFocus)),this.widget&&(this.data&&F.default.signal(this.data,"close"),this.widget.close()),F.default.signal(this.cm,"endCompletion",this.cm))}},{key:"active",value:function(){return this.cm.state.completionActive===this}},{key:"pick",value:function(c,v){var j=c.list[v];j.hint?j.hint(this.cm,c,j):this.cm.replaceRange(g(j),j.from||c.from,j.to||c.to,"complete"),F.default.signal(c,"pick",j),this.close()}},{key:"cursorActivity",value:function(){var c=this;this.debounce&&(f(this.debounce),this.debounce=0);var v=this.cm.getCursor(),j=this.cm.getLine(v.line);v.line!=this.startPos.line||j.length-v.ch!=this.startLen-this.startPos.ch||v.ch<this.startPos.ch||this.cm.somethingSelected()?this.close():(this.debounce=x(function(){return c.update()}),this.widget&&this.widget.disable())}},{key:"update",value:function(c){var v=this;if(this.tick!==null){var j=++this.tick;Promise.resolve(this.options.hint(this.cm,this.options)).then(function(E){v.tick==j&&v.finishUpdate(E,c)})}}},{key:"finishUpdate",value:function(c){this.data&&F.default.signal(this.data,"update");var v=this.widget&&this.widget.picked;this.widget&&this.widget.close(),this.data=c,c&&c.list.length&&(v&&c.list.length==1?this.pick(c,0):(this.widget=new d(this,c),F.default.signal(c,"shown")))}}]),l}();function g(l){return typeof l=="string"?l:l.text}var d=function(){function l(c,v){var j=this;A(this,l);var E=c.cm,L=this.hintsEl=document.createElement("ul"),W=[O,c.cm.options.theme,c.options.isolateStyleMarker,c.options.darkmode].filter(Boolean);this.completion=c,this.data=v,this.picked=!1,this.selectedHint=v.selectedHint||0,W.forEach(function(V){return L.classList.add(V)}),(c.options.container||document.body).appendChild(L),this.items=v.list.map(function(V,z){var I=L.appendChild(document.createElement("li"));return I.className="discovery-view-editor-hint",z===j.selectedHint&&I.classList.add(m),V.render?V.render(I,v,V):I.appendChild(document.createTextNode(V.displayText||g(V))),I}),E.addKeyMap(this.keyMap={Up:function(){return j.changeActive(j.selectedHint-1)},Down:function(){return j.changeActive(j.selectedHint+1)},Enter:function(){return j.pick()},Tab:function(){return j.pick()},Esc:function(){return c.close()}}),this.updatePosSize(),document.addEventListener("scroll",this.onScroll=function(){return j.updatePosSize()},!0),F.default.on(L,"mousedown",function(){return setTimeout(function(){return E.focus()},20)}),F.default.on(L,"click",function(V){var z=function(P,D){for(;D&&D.parentNode!==P;)D=D.parentNode;return D}(L,V.target),I=j.items.indexOf(z);I!==-1&&(j.changeActive(I),j.pick())}),F.default.signal(v,"select",v.list[this.selectedHint],this.items[this.selectedHint])}return w(l,[{key:"close",value:function(){this.completion.widget===this&&(this.completion.widget=null,this.completion.cm.removeKeyMap(this.keyMap),this.hintsEl.remove(),document.removeEventListener("scroll",this.onScroll,!0))}},{key:"disable",value:function(){var c=this;this.completion.cm.removeKeyMap(this.keyMap),this.keyMap={Enter:function(){return c.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)}},{key:"pick",value:function(){this.completion.pick(this.data,this.selectedHint)}},{key:"changeActive",value:function(c,v){c>=this.items.length?c=v?this.items.length-1:0:c<0&&(c=v?0:this.items.length-1);var j=this.items[this.selectedHint],E=this.items[this.selectedHint=c];E!==j&&(j&&j.classList.remove(m),E.classList.add(m),E.offsetTop<this.hintsEl.scrollTop?this.hintsEl.scrollTop=E.offsetTop-3:E.offsetTop+E.offsetHeight>this.hintsEl.scrollTop+this.hintsEl.clientHeight&&(this.hintsEl.scrollTop=E.offsetTop+E.offsetHeight-this.hintsEl.clientHeight+3),F.default.signal(this.data,"select",this.data.list[this.selectedHint],E))}},{key:"updatePosSize",value:function(){var c=this.completion,v=this.hintsEl,j=this.data,E=c.cm,L=E.cursorCoords(),W=L.left,V=L.bottom;v.style.left=W+"px",v.style.top=V+"px";var z=window.innerWidth,I=window.innerHeight,P=v.getBoundingClientRect();if(P.bottom-I>0){var D=P.bottom-P.top;if(L.top-(L.bottom-P.top)-D>0)v.style.top=(V=L.top-D)+"px";else if(D>I){v.style.height=I-5+"px",v.style.top=(V=L.bottom-P.top)+"px";var N=E.getCursor();j.from.ch!=N.ch&&(L=E.cursorCoords(N),v.style.left=(W=L.left)+"px",P=v.getBoundingClientRect())}}var ne=P.right-z;ne>0&&(P.right-P.left>z&&(v.style.width=z-5+"px",ne-=P.right-P.left-z),v.style.left=(W=L.left-ne)+"px")}}]),l}()},{"/gen/codemirror.js":2}],67:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(I){Object.assign(I.view,{QueryEditor:function(P){d(N,P);var D=c(N);function N(){return f(this,N),D.apply(this,arguments)}return g(N,[{key:"isolateStyleMarker",get:function(){return I.isolateStyleMarker}},{key:"darkmode",get:function(){return I.darkmode}}]),N}(V),ViewEditor:function(P){d(N,P);var D=c(N);function N(){return f(this,N),D.apply(this,arguments)}return g(N,[{key:"isViewDefined",value:function(ne){return I.view.isDefined(ne)}},{key:"isolateStyleMarker",get:function(){return I.isolateStyleMarker}},{key:"darkmode",get:function(){return I.darkmode}}]),N}(z)})};var _=H("../core/utils/dom.js"),F=H("../core/utils/html.js"),A=w(H("../core/emitter.js")),h=w(H("/gen/codemirror.js"));function w(I){return I&&I.__esModule?I:{default:I}}function u(I,P){return function(D){if(Array.isArray(D))return D}(I)||function(D,N){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(D)))return;var ne=[],Y=!0,ee=!1,Z=void 0;try{for(var R,X=D[Symbol.iterator]();!(Y=(R=X.next()).done)&&(ne.push(R.value),!N||ne.length!==N);Y=!0);}catch(le){ee=!0,Z=le}finally{try{Y||X.return==null||X.return()}finally{if(ee)throw Z}}return ne}(I,P)||function(D,N){if(!D)return;if(typeof D=="string")return y(D,N);var ne=Object.prototype.toString.call(D).slice(8,-1);if(ne==="Object"&&D.constructor&&(ne=D.constructor.name),ne==="Map"||ne==="Set")return Array.from(D);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return y(D,N)}(I,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(I,P){(P==null||P>I.length)&&(P=I.length);for(var D=0,N=new Array(P);D<P;D++)N[D]=I[D];return N}function S(I,P){var D=Object.keys(I);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(I);P&&(N=N.filter(function(ne){return Object.getOwnPropertyDescriptor(I,ne).enumerable})),D.push.apply(D,N)}return D}function O(I){for(var P=1;P<arguments.length;P++){var D=arguments[P]!=null?arguments[P]:{};P%2?S(Object(D),!0).forEach(function(N){m(I,N,D[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(D)):S(Object(D)).forEach(function(N){Object.defineProperty(I,N,Object.getOwnPropertyDescriptor(D,N))})}return I}function m(I,P,D){return P in I?Object.defineProperty(I,P,{value:D,enumerable:!0,configurable:!0,writable:!0}):I[P]=D,I}function x(I){return(x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(I)}function f(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function p(I,P){for(var D=0;D<P.length;D++){var N=P[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}}function g(I,P,D){return P&&p(I.prototype,P),D&&p(I,D),I}function d(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),P&&l(I,P)}function l(I,P){return(l=Object.setPrototypeOf||function(D,N){return D.__proto__=N,D})(I,P)}function c(I){var P=function(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(D){return!1}}();return function(){var D,N=E(I);if(P){var ne=E(this).constructor;D=Reflect.construct(N,arguments,ne)}else D=N.apply(this,arguments);return v(this,D)}}function v(I,P){return!P||x(P)!=="object"&&typeof P!="function"?j(I):P}function j(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function E(I){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(I)}function L(I,P,D){var N=D.entry,ne=N.value,Y=N.current,ee=N.type,Z=Y[0],R=Y[Y.length-1],X=Z==='"'||Z==="'"?1:0,le=R==='"'||R==="'"?1:0,ue=Y.toLowerCase().substring(X,Y.length-le),Ce=ue?ne.toLowerCase().indexOf(ue,ne[0]==='"'||ne[0]==="'"?1:0):-1;Ce!==-1&&(ne=(0,F.escapeHtml)(ne.substring(0,Ce))+'<span class="match">'+(0,F.escapeHtml)(ne.substr(Ce,ue.length))+"</span>"+(0,F.escapeHtml)(ne.substr(Ce+ue.length))),I.appendChild((0,_.createElement)("span","name",ne)),I.appendChild((0,_.createElement)("span","type",ee))}H("./editors-hint.js");var W=function(I){d(D,I);var P=c(D);function D(N){var ne,Y=N.hint,ee=N.mode;f(this,D),(ne=P.call(this)).el=document.createElement("div"),ne.el.className="discovery-editor";var Z=j(ne),R=(0,h.default)(ne.el,{extraKeys:{"Alt-Space":"autocomplete"},mode:ee||"javascript",theme:"neo",indentUnit:0,showHintOptions:{hint:Y,isolateStyleMarker:ne.isolateStyleMarker,get darkmode(){return!!Z.darkmode.value&&"darkmode"}}});return R.on("change",function(){return ne.emit("change",R.getValue())}),typeof Y=="function"&&(R.on("cursorActivity",function(X){X.state.focused&&X.showHint()}),R.on("focus",function(X){return!X.state.completionActive&&X.showHint()})),ne.cm=R,ne}return g(D,[{key:"getValue",value:function(){return this.cm.getValue()}},{key:"setValue",value:function(N){var ne=this;Promise.resolve().then(function(){return ne.cm.refresh()}),typeof N=="string"&&this.getValue()!==N&&this.cm.setValue(N||"")}},{key:"focus",value:function(){this.cm.focus()}},{key:"isolateStyleMarker",get:function(){}},{key:"darkmode",get:function(){}}]),D}(A.default),V=function(I){d(D,I);var P=c(D);function D(N){return f(this,D),P.call(this,{mode:"discovery-query",hint:function(ne){var Y=ne.getCursor(),ee=N(ne.getValue(),ne.doc.indexFromPos(Y));if(ee)return{list:ee.slice(0,50).map(function(Z){return{entry:Z,text:Z.value,render:L,from:ne.posFromIndex(Z.from),to:ne.posFromIndex(Z.to)}})}}})}return D}(W),z=function(I){d(D,I);var P=c(D);function D(){var N;return f(this,D),N=P.call(this,{mode:{name:"discovery-view",isDiscoveryViewDefined:function(ne){return N.isViewDefined(ne)}}})}return D}(W);h.default.defineMode("discovery-query",function(I){var P=h.default.getMode(I,{name:"javascript",json:!0});return O(O({},P),{},{indent:function(D,N){return D.indented+I.indentUnit*(D.lastType==="{"&&N.trim()[0]!=="}"||D.lastType==="("&&N.trim()[0]!==")"||D.lastType==="["&&N.trim()[0]!=="]")},token:function(D,N){var ne=D.peek();return ne==="#"||ne==="@"?(P.token(new h.default.StringStream("$",4,D.lineOracle),N),D.pos++,"variable"):P.token(D,N)}})}),h.default.defineMode("discovery-view",function(I,P){var D=typeof P.isDiscoveryViewDefined=="function"?P.isDiscoveryViewDefined:function(){},N=h.default.getMode(I,{name:"javascript",json:!0});return O(O({},N),{},{indent:function(ne,Y){return ne.indented+I.indentUnit*(ne.lastType==="{"&&Y.trim()[0]!=="}"||ne.lastType==="("&&Y.trim()[0]!==")"||ne.lastType==="["&&Y.trim()[0]!=="]")},token:function(ne,Y){if(Y.suspendTokens){var ee=Y.suspendTokens.shift(),Z=ee.pos,R=ee.token;return ne.pos=Z,Y.suspendTokens.length===0&&(Y.suspendTokens=null),R}var X=ne.pos,le=N.token(ne,Y);if(le==="string"){var ue=ne.pos,Ce=u(ne.string.slice(X+1,ue-1).match(/^(.+?)([:{]|$)/)||[],2)[1];D(Ce)&&(ne.pos=X+1,Y.suspendTokens=[{pos:X+1+Ce.length,token:"string discovery-view-name"},{pos:ue,token:le}])}return le}})})},{"../core/emitter.js":11,"../core/utils/dom.js":21,"../core/utils/html.js":22,"./editors-hint.js":66,"/gen/codemirror.js":2}],68:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){h.view.define("expand",function(w,u,y,S){function O(){if(w.classList.toggle("expanded",m),m)return l=(0,F.createElement)("div","content"),h.view.render(l,f,y,S).then(function(){return w.appendChild(l)});l!==null&&(l.remove(),l=null)}var m=u.expanded,x=u.header,f=u.content,p=u.onToggle,g=w.appendChild((0,F.createElement)("div","header")),d=g.appendChild((0,F.createElement)("div","header-content")),l=null;return!x&&u.title&&(x=u.title,console.warn("expand.title is deprecated, use expand.header instead")),m=h.queryBool(m,y,S),g.appendChild((0,F.createElement)("div","trigger")),g.addEventListener("click",function(){m=!m,O(),typeof p=="function"&&p(m)}),Promise.all([h.view.render(d,x||'text:"\xA0"',y,S),O()])},{usage:A.default})};var _,F=H("../core/utils/dom.js"),A=(_=H("./expand.usage.js"))&&_.__esModule?_:{default:_}},{"../core/utils/dom.js":21,"./expand.usage.js":69}],69:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"expand",header:'text:"Expand me!"',content:'text:"Content"'}}},{}],70:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){function h(w,u,y,S){var O=u.content;return w.classList.add("view-header"),A.view.render(w,O||"text",y,S)}A.view.define("header",h,{tag:"h4",usage:F.default}),A.view.define("h1",h,{tag:"h1",usage:F.default}),A.view.define("h2",h,{tag:"h2",usage:F.default}),A.view.define("h3",h,{tag:"h3",usage:F.default}),A.view.define("h4",h,{tag:"h4",usage:F.default}),A.view.define("h5",h,{tag:"h5",usage:F.default})};var _,F=(_=H("./headers.usage.js"))&&_.__esModule?_:{default:_}},{"./headers.usage.js":71}],71:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default=function(_,F){return{demo:"".concat(_,':"Header \\"').concat(_,'\\""'),examples:[{title:"Variations",view:F.map(function(A){return"".concat(A,':"Header \\"').concat(A,'\\""')})},{title:"Complex content",demo:{view:_,content:['text:"Text "','link:{text:"Link"}']}}]}}},{}],72:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("hstack",function(h,w,u,y){var S=w.content,O=S===void 0?[]:S;return A.view.render(h,O,u,y)},{usage:F.default})};var _,F=(_=H("./hstack.usage.js"))&&_.__esModule?_:{default:_}},{"./hstack.usage.js":73}],73:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"hstack",content:['button:{text:"First button"}','button-primary:{text:"Second button"}']}}},{}],74:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){var w=document.createElement("div");h.view.define("html",function(u,y,S){var O;w.innerHTML=S,u.append.apply(u,function(m){if(Array.isArray(m))return A(m)}(O=w.childNodes)||function(m){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(m))return Array.from(m)}(O)||function(m,x){if(m){if(typeof m=="string")return A(m,x);var f=Object.prototype.toString.call(m).slice(8,-1);return f==="Object"&&m.constructor&&(f=m.constructor.name),f==="Map"||f==="Set"?Array.from(m):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?A(m,x):void 0}}(O)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())},{tag:null,usage:F.default})};var _,F=(_=H("./html.usage.js"))&&_.__esModule?_:{default:_};function A(h,w){(w==null||w>h.length)&&(w=h.length);for(var u=0,y=new Array(w);u<w;u++)y[u]=h[u];return y}},{"./html.usage.js":75}],75:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"html",data:'"<h1>I am inner HTML</h1>"'}}},{}],76:[function(H,pe,k){"use strict";function _(h){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(h)}Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){h.view.define("image-preview",function(w,u,y){var S=y||{},O=S.content,m=S.binary,x=S.mime;w.hidden=!0,/^image\//i.test(x)&&(w.hidden=!1,m||(O=F.encode(O)),w.innerHTML='<img src="data:'.concat(x,";base64,").concat(O,'">'))})};var F=function(h){if(h&&h.__esModule)return h;if(h===null||_(h)!=="object"&&typeof h!="function")return{default:h};var w=A();if(w&&w.has(h))return w.get(h);var u={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in h)if(Object.prototype.hasOwnProperty.call(h,S)){var O=y?Object.getOwnPropertyDescriptor(h,S):null;O&&(O.get||O.set)?Object.defineProperty(u,S,O):u[S]=h[S]}return u.default=h,w&&w.set(h,u),u}(H("../core/utils/base64.js"));function A(){if(typeof WeakMap!="function")return null;var h=new WeakMap;return A=function(){return h},h}},{"../core/utils/base64.js":17}],77:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"source",{enumerable:!0,get:function(){return F.default}});var _,F=(_=H("./source.js"))&&_.__esModule?_:{default:_}},{"./source.js":109}],78:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"alerts",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(k,"autoLink",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(k,"badges",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(k,"block",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(k,"button",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(k,"checkboxList",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(k,"checkbox",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(k,"column",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(k,"columns",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(k,"contentFilter",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(k,"context",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(k,"dropdown",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(k,"editors",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(k,"expand",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(k,"headers",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(k,"hstack",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(k,"html",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(k,"imagePreview",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(k,"indicator",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(k,"input",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(k,"link",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(k,"listItem",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(k,"lists",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(k,"markdown",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(k,"menu",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(k,"menuItem",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(k,"navButton",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(k,"pageHeader",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(k,"popup",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(k,"section",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(k,"select",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(k,"signature",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(k,"struct",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(k,"switch",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(k,"tableCell",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(k,"tableRow",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(k,"table",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(k,"tab",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(k,"tabs",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(k,"text",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(k,"textMatch",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(k,"tocSection",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(k,"toggle",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(k,"toggleGroup",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(k,"treeItem",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(k,"tree",{enumerable:!0,get:function(){return _e.default}});var _=Ee(H("./alerts.js")),F=Ee(H("./auto-link.js")),A=Ee(H("./badges.js")),h=Ee(H("./block.js")),w=Ee(H("./button.js")),u=Ee(H("./checkbox-list.js")),y=Ee(H("./checkbox.js")),S=Ee(H("./column.js")),O=Ee(H("./columns.js")),m=Ee(H("./content-filter.js")),x=Ee(H("./context.js")),f=Ee(H("./dropdown.js")),p=Ee(H("./editors.js")),g=Ee(H("./expand.js")),d=Ee(H("./headers.js")),l=Ee(H("./hstack.js")),c=Ee(H("./html.js")),v=Ee(H("./image-preview.js")),j=Ee(H("./indicator.js")),E=Ee(H("./input.js")),L=Ee(H("./link.js")),W=Ee(H("./list-item.js")),V=Ee(H("./lists.js")),z=Ee(H("./markdown.js")),I=Ee(H("./menu.js")),P=Ee(H("./menu-item.js")),D=Ee(H("./nav-button.js")),N=Ee(H("./page-header.js")),ne=Ee(H("./popup.js")),Y=Ee(H("./section.js")),ee=Ee(H("./select.js")),Z=Ee(H("./signature.js")),R=Ee(H("./struct.js")),X=Ee(H("./switch.js")),le=Ee(H("./table-cell.js")),ue=Ee(H("./table-row.js")),Ce=Ee(H("./table.js")),ie=Ee(H("./tab.js")),te=Ee(H("./tabs.js")),se=Ee(H("./text.js")),me=Ee(H("./text-match.js")),Pe=Ee(H("./toc-section.js")),Ke=Ee(H("./toggle.js")),oe=Ee(H("./toggle-group.js")),ce=Ee(H("./tree-leaf.js")),_e=Ee(H("./tree.js"));function Ee(Je){return Je&&Je.__esModule?Je:{default:Je}}},{"./alerts.js":44,"./auto-link.js":46,"./badges.js":47,"./block.js":49,"./button.js":51,"./checkbox-list.js":53,"./checkbox.js":55,"./column.js":57,"./columns.js":58,"./content-filter.js":60,"./context.js":62,"./dropdown.js":64,"./editors.js":67,"./expand.js":68,"./headers.js":70,"./hstack.js":72,"./html.js":74,"./image-preview.js":76,"./indicator.js":79,"./input.js":81,"./link.js":83,"./list-item.js":85,"./lists.js":86,"./markdown.js":88,"./menu-item.js":90,"./menu.js":92,"./nav-button.js":94,"./page-header.js":96,"./popup.js":98,"./section.js":99,"./select.js":101,"./signature.js":103,"./struct.js":111,"./switch.js":117,"./tab.js":119,"./table-cell.js":121,"./table-row.js":122,"./table.js":123,"./tabs.js":125,"./text-match.js":127,"./text.js":129,"./toc-section.js":131,"./toggle-group.js":132,"./toggle.js":134,"./tree-leaf.js":135,"./tree.js":136}],79:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("indicator",function(h,w,u,y){var S=w.value,O=w.label,m=(u||{}).href,x=document.createElement("div"),f=document.createElement("div");return x.className="value",f.className="label",m&&(h.href=m),Promise.all([A.view.render(x,S||"text:value",u,y),A.view.render(f,O||"text:label",u,y)]).then(function(){return h.append(x,f)})},{tag:"a",usage:F.default})};var _,F=(_=H("./indicator.usage.js"))&&_.__esModule?_:{default:_}},{"./indicator.usage.js":80}],80:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"indicator",data:{label:"Label",value:"1234"}},examples:[{title:"Indicator as link",demo:{view:"indicator",data:{label:"Label",value:"4321",href:"#"}}}]}},{}],81:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(w){var u={regexp:function(y){return y?(0,F.default)(y):null},text:function(y){return y}};w.view.define("input",function(y,S,O,m){var x=S.name,f=S.value,p=S.type,g=p===void 0?"text":p,d=S.placeholder,l=S.onInit,c=S.onChange,v=S.htmlType,j=v===void 0?"text":v,E=S.htmlMin,L=S.htmlMax,W=S.debounce,V=u[g]||u.text,z=y.appendChild(document.createElement("input")),I=f?w.query(f,O,m):m[x];typeof I!="string"&&(I=""),z.type=j,z.value=I,z.placeholder=[d||"",V!==u.text?"("+g+")":""].filter(Boolean).join(" "),E!==void 0&&(z.min=E),L&&(z.max=L),z.addEventListener("input",(0,A.default)(function(){var P=z.value.trim();I!==P&&(I=P,typeof c=="function"&&c(V(P),x,O,m))},W)),typeof l=="function"&&l(V(z.value.trim()),x,O,m)},{usage:_.default})};var _=h(H("./input.usage.js")),F=h(H("../core/utils/safe-filter-rx.js")),A=h(H("../core/utils/debounce.js"));function h(w){return w&&w.__esModule?w:{default:w}}},{"../core/utils/debounce.js":20,"../core/utils/safe-filter-rx.js":29,"./input.usage.js":82}],82:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _=new Function("return (value) => alert(`Changed to ${value}!`)")(),F={examples:[{title:"Input with value",demo:{view:"input",value:'"value"'}},{title:"Input with placeholder",demo:{view:"input",placeholder:"placeholder"}},{title:"Input type number with min and max",demo:{view:"input",htmlType:"number",htmlMin:10,htmlMax:20}},{title:"Input with onChange",demo:{view:"input",onChange:_}},{title:"Input with onChange debounced",demo:{view:"input",onChange:_,debounce:300}}]};k.default=F},{}],83:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("link",function(h,w,u,y){var S=w.content,O=w.onClick,m=u||{},x=m.href,f=m.text,p=m.external;if(typeof u=="string"&&(x=f=u),f===void 0&&x?f=x:x===void 0&&f&&(x=f),x&&(h.href=x),p&&h.setAttribute("target","_blank"),typeof O=="function"&&(h.classList.add("onclick"),h.addEventListener("click",function(g){g.preventDefault(),O(h,u,y)})),S)return A.view.render(h,S,u,y);h.textContent=f},{tag:"a",usage:F.default})};var _,F=(_=H("./link.usage.js"))&&_.__esModule?_:{default:_}},{"./link.usage.js":84}],84:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"link",data:{text:"I am link",href:"#"}},examples:[{title:"Link opened in new tab",demo:{view:"link",data:{text:"Discovery github",href:"https://github.com/discoveryjs/discovery",external:!0}}}]}},{}],85:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(_){_.view.define("list-item",function(F,A,h,w){var u=A.content,y=u===void 0?"text":u;return _.view.render(F,y,h,w)},{tag:"li"})}},{}],86:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){function h(w,u,y,S){var O=u.item,m=u.itemConfig,x=u.limit,f=u.emptyText;if(f!==!1&&f!==""&&w.setAttribute("emptyText",f||"Empty list"),!Array.isArray(y)&&y&&(y=[y]),Array.isArray(y))return A.view.renderList(w,this.composeConfig({view:"list-item",content:O},m),y,S,0,A.view.listLimit(x,25))}A.view.define("list",h,{usage:F.default}),A.view.define("inline-list",h,{usage:F.default}),A.view.define("comma-list",h,{usage:F.default}),A.view.define("ol",h,{tag:"ol",usage:F.default}),A.view.define("ul",h,{tag:"ul",usage:F.default})};var _,F=(_=H("./lists.usage.js"))&&_.__esModule?_:{default:_}},{"./lists.usage.js":87}],87:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default=function(_,F){return{demo:{view:_,data:["one","two","three","four"]},examples:[{title:"Variations",demo:{view:"context",data:["foo","bar","baz"],content:F.map(function(A){return["header:"+JSON.stringify("# "+A),A]})}},{title:"Configure item's content",demo:[{view:_,data:["one","two","three","four"],item:['text:"<item> "',{view:"link",data:'{ href: "#" + $ }'}]}]},{title:"Configure item's config",demo:{view:_,data:["one","two","three","four"],itemConfig:{className:"special"},item:{view:"text",data:'"prefix-" + $'}}}]}}},{}],88:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(p){var g={highlight:function(l,c,v){var j=document.createDocumentFragment();p.view.render(j,"source",{syntax:c,content:l}).then(function(){return v(null,j.firstChild.outerHTML)})}};function d(l,c,v){var j=c.source;return l.classList.add("view-markdown"),new Promise(function(E){(0,F.default)(typeof v=="string"?v:j||"",g,function(L,W){l.innerHTML=W,E()})})}p.view.define("markdown",d,{usage:_.default}),p.view.define("md",d,{usage:_.default})};var _=h(H("./markdown.usage.js")),F=h(H("/gen/marked.js")),A=H("../core/utils/html.js");function h(p){return p&&p.__esModule?p:{default:p}}function w(p){return(w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function y(p,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(p,l.key,l)}}function S(p,g){return(S=Object.setPrototypeOf||function(d,l){return d.__proto__=l,d})(p,g)}function O(p){var g=function(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(d){return!1}}();return function(){var d,l=x(p);if(g){var c=x(this).constructor;d=Reflect.construct(l,arguments,c)}else d=l.apply(this,arguments);return m(this,d)}}function m(p,g){return!g||w(g)!=="object"&&typeof g!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(p):g}function x(p){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(p)}var f=function(p){!function(j,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(E&&E.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),E&&S(j,E)}(v,p);var g,d,l,c=O(v);function v(){return u(this,v),c.apply(this,arguments)}return g=v,(d=[{key:"heading",value:function(j,E,L,W){var V="";return this.options.headerIds&&(V=' id="'+this.options.headerPrefix+W.slug(L)+'"'),"<h".concat(E,' class="view-header view-h').concat(E,'"').concat(V,">").concat(j,"</h").concat(E,`>
`)}},{key:"link",value:function(j,E,L){if(j===null)return L;var W='<a class="view-link" href="'+(0,A.escapeHtml)(j)+'"';return E&&(W+=' title="'+E+'"'),j.startsWith("#")||(W+=' target="_blank"'),W+=">"+L+"</a>"}},{key:"table",value:function(j,E){return`<table class="view-table">
<thead>
`+j.replace(/ class="view-table-row"/g,"")+`</thead>
`+(E?"<tbody>"+E+"</tbody>":"")+`</table>
`}},{key:"tablerow",value:function(j){return`<tr class="view-table-row">
`+j+`</tr>
`}},{key:"tablecell",value:function(j,E){var L=E.header?"th":"td";return(E.align?"<"+L+' align="'+E.align+'" class="view-table-cell">':"<"+L+">")+j+"</"+L+`>
`}}])&&y(g.prototype,d),l&&y(g,l),v}(F.default.Renderer);F.default.setOptions({smartLists:!0,langPrefix:"discovery-markdown-",renderer:new f})},{"../core/utils/html.js":22,"./markdown.usage.js":89,"/gen/marked.js":6}],89:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"markdown",source:`# Example

> NOTE: That's an experimental view based on [marked](https://github.com/markedjs/marked)

Markdown is good because:
* You'll get **formatted** *text* with _no tags_
* It's much simpler than \`HTML\`

\`\`\`html
<b>bold</b><i>italic</i>
\`\`\`
[Read more](https://guides.github.com/features/mastering-markdown/)`},examples:[{title:"Inline config",demo:'markdown{ source: "**Hello** `world`!" }'},{title:"Shortest example",beforeDemo:['md:"You can use `md` alias for `markdown` with a string as data. That\'s a **shortest** definition for a marked text"'],demo:'md:"**Hello** `world`!"'},{title:"Showcase",demo:{view:"markdown",source:`
# Header
## Header
### Header
#### Header
##### Header
* One
* Two
    * Three

4. Four
5. Five
    6. Six
- [ ] Task 1
- [x] Task 2

Paragraph **bold** __bold__ *italic* _italic_ ~line-through~ \`code\` [link](#href)
>Blockquote
> > Line 2

\`\`\`js
var some = "code";
\`\`\`

foo | bar
----|-----
1 | A
2 | C
3 | E
`}}]}},{}],90:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("menu-item",function(h,w,u,y){var S=w.content,O=w.onClick,m=u||{},x=m.text,f=m.selected,p=f!==void 0&&f,g=m.disabled,d=g!==void 0&&g,l=m.href,c=m.external;if(d?h.classList.add("disabled"):typeof O=="function"?(h.addEventListener("click",function(){return O(u,y)}),h.classList.add("onclick")):l&&(h.href=l,h.target=c?"_blank":""),p&&h.classList.add("selected"),S)return A.view.render(h,S,u,y);h.textContent=typeof u=="string"?u:x||"Untitled item"},{tag:"a",usage:F.default})};var _,F=(_=H("./menu-item.usage.js"))&&_.__esModule?_:{default:_}},{"./menu-item.usage.js":91}],91:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]},examples:[{title:"Preselected item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#",selected:!0},{text:"three",href:"#"}]}},{title:"Disabled item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#",disabled:!0},{text:"three",href:"#"}]}},{title:"External links",demo:{view:"menu",data:[{text:"one",external:!0,href:"https://github.com/discoveryjs/discovery"},{text:"two",external:!0,href:"https://github.com/discoveryjs/discovery"},{text:"three",external:!0,href:"https://github.com/discoveryjs/discovery"}]}}]}},{}],92:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("menu",function(h,w,u,y){var S=w.name,O=S===void 0?"filter":S,m=w.item,x=w.itemConfig,f=w.limit,p=w.emptyText,g=w.onClick,d=w.onInit,l=w.onChange;if(p!==!1&&p!==""&&h.setAttribute("emptyText",p||"No items"),Array.isArray(u)){var c=this.composeConfig({view:"menu-item",content:m,onClick:typeof g=="function"?g:typeof l=="function"?function(v){return l(v,O)}:void 0},x);return A.view.renderList(h,c,u,y,0,A.view.listLimit(f,25)).then(function(){typeof d=="function"&&d(A.query(".[selected].pick()",u,y),O)})}},{usage:F.default})};var _,F=(_=H("./menu.usage.js"))&&_.__esModule?_:{default:_}},{"./menu.usage.js":93}],93:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _={demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]},examples:[{title:"With limit",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}],limit:2}},{title:"With custom item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}],item:"h1:text"}},{title:"On chage handler",demo:{view:"menu",onChange:new Function("return (value) => alert(`Changed to ${value.text}!`)")(),data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]}}]};k.default=_},{}],94:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("nav-button",function(h,w,u,y){var S=w.name,O=w.content,m=w.disabled,x=m!==void 0&&m,f=w.onClick,p=u||{},g=p.text,d=g===void 0?"":g,l=p.href,c=p.external;if(S&&(h.dataset.name=S),A.query(x,u,y)?h.classList.add("disabled"):typeof f=="function"?(h.addEventListener("click",function(){return f(h,u,y)}),h.classList.add("onclick")):l&&(h.href=l,h.target=c?"_blank":""),O)return A.view.render(h,O,u,y);h.textContent=d},{tag:"a",usage:F.default})};var _,F=(_=H("./nav-button.usage.js"))&&_.__esModule?_:{default:_}},{"./nav-button.usage.js":95}],95:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _={demo:{data:{text:"I am nav button"},view:"nav-button"},examples:[{title:"With href",demo:{view:"nav-button",data:{text:"I am nav button",href:"#"}}},{title:"External link",demo:{view:"nav-button",data:{text:"I am nav button",external:!0,href:"https://github.com/discoveryjs/discovery"}}},{title:"On click handler",demo:{view:"nav-button",data:{text:"I am nav button"},onClick:function(){return alert("changed!")}}}]};k.default=_},{}],96:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){h.view.define("page-header",function(w,u,y,S){var O=u.prelude,m=u.content,x=w.appendChild((0,F.createElement)("div","view-page-header__prelude")),f=w.appendChild((0,F.createElement)("div","view-page-header__content"));return Promise.all([h.view.render(x,O||[],y,S),h.view.render(f,m||"text",y,S)])},{usage:A.default})};var _,F=H("../core/utils/dom.js"),A=(_=H("./page-header.usage.js"))&&_.__esModule?_:{default:_}},{"../core/utils/dom.js":21,"./page-header.usage.js":97}],97:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default=function(_){return{demo:"".concat(_,`:"That's a \\"`).concat(_,'\\""'),examples:[{title:"Prelude",demo:{view:_,prelude:['badge:{ text: "demo" }','badge:{ text: "demo", prefix: "prelude", postfix: "postfix" }'],content:'h1:"Header"'}}]}}},{}],98:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(l){var c=[],v=new Set,j=null;A.pointerXY.subscribe(function(){var E,L=S(m);try{for(L.s();!(E=L.n()).done;){var W=E.value;W.options.position!=="pointer"||W.hoverPinned||W.frozen||W.updatePosition()}}catch(V){L.e(V)}finally{L.f()}}),l.inspectMode.subscribe(function(E){return E?m.forEach(function(L){return v.add(L)}):v.clear()}),l.view.Popup=function(){function E(L){!function(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}(this,E),this.options=w(w({},f),L),this.el=document.createElement("div"),this.el.classList.add("discovery-root","discovery-view-popup",l.isolateStyleMarker),this.el.dataset.discoveryInstanceId=l.instanceId,this.hide=this.hide.bind(this),this.hideTimer,this.lastTriggerEl=null,this.lastHoverTriggerEl=null,this.hoverPinned=!1,this.frozen=!1,this.options.className&&this.el.classList.add(this.options.className),x.includes(this.options.hoverPin)||(console.warn("Bad value for `Popup#options.hoverPin` (should be ".concat(x.join(", "),"):"),this.options.hoverPin),this.options.hoverPin=!1),this.options.hoverTriggers&&(this.el.classList.add("show-on-hover"),this.el.dataset.pinMode=this.options.hoverPin||"none",c.push(this),j===null&&(j=[l.addGlobalEventListener("mouseenter",function(W){var V=W.target;if(V!==document){var z,I=S(c);try{for(I.s();!(z=I.n()).done;){var P=z.value,D=p(P,V),N=D?D.el:V.closest(P.options.hoverTriggers);N&&(P.hideTimer=clearTimeout(P.hideTimer),N!==P.lastHoverTriggerEl&&(D&&D.hoverPinned||(P.lastHoverTriggerEl=N),D||(P.hoverPinned=!1,P.el.classList.remove("pinned"),P.show(N))))}}catch(ne){I.e(ne)}finally{I.f()}}},F.passiveCaptureOptions),l.addGlobalEventListener("mouseleave",function(W){var V,z=W.target,I=S(c);try{for(I.s();!(V=I.n()).done;){var P=V.value;P.lastHoverTriggerEl&&P.lastHoverTriggerEl===z&&(P.lastHoverTriggerEl=null,P.hideTimer=setTimeout(P.hide,100))}}catch(D){I.e(D)}finally{I.f()}},F.passiveCaptureOptions),l.addGlobalEventListener("click",function(W){var V,z=S(c);try{for(z.s();!(V=z.n()).done;){var I=V.value;I.options.hoverPin==="trigger-click"&&I.lastHoverTriggerEl&&I.lastTriggerEl.contains(W.target)&&(I.lastHoverTriggerEl=null,I.hoverPinned=!0,I.el.classList.add("pinned"),W.stopPropagation())}}catch(P){z.e(P)}finally{z.f()}},!0)]))}return function(L,W,V){W&&y(L.prototype,W),V&&y(L,V)}(E,[{key:"toggle",value:function(){this.visible?this.hide():this.show.apply(this,arguments)}},{key:"show",value:function(L){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.render,V=document.body;this.hideTimer=clearTimeout(this.hideTimer),this.relatedPopups.forEach(function(z){return z.hide()}),this.el.classList.toggle("discovery-root-darkmode",l.darkmode.value),this.el.classList.toggle("inspect",l.inspectMode.value),typeof W=="function"&&(this.el.innerHTML="",W(this.el,L,this.hide)),this.lastTriggerEl&&this.lastTriggerEl.classList.remove("discovery-view-popup-active"),L&&L.classList.add("discovery-view-popup-active"),this.lastTriggerEl=L||null,this.visible||(m.push(this),l.view.setViewRoot(this.el,"popup",{props:this.options}),m.length===1&&(window.addEventListener("resize",d),document.addEventListener("scroll",g,F.passiveCaptureOptions),document.addEventListener("click",g,!0))),this.updatePosition(),V.appendChild(this.el)}},{key:"updatePosition",value:function(){if(this.visible&&(this.options.position==="pointer"||this.lastTriggerEl)){var L=document.body,W=(0,_.getOffsetParent)(L.firstChild),V=(0,_.getViewportRect)(window,W),z=A.pointerXY.value,I=z.x,P=z.y,D=this.options.position!=="pointer"?(0,_.getBoundingRect)(this.lastTriggerEl,L):{left:I+3,right:I-3,top:P-3,bottom:P+3},N=D.top-V.top-3,ne=V.bottom-D.bottom-3,Y=D.right-V.left-3,ee=V.right-D.left-3;N>ne?(this.el.style.maxHeight=N+"px",this.el.style.top="auto",this.el.style.bottom=V.bottom-D.top+"px",this.el.dataset.vTo="top"):(this.el.style.maxHeight=ne+"px",this.el.style.top=D.bottom-V.top+"px",this.el.style.bottom="auto",this.el.dataset.vTo="bottom"),Y>ee?(this.el.style.left="auto",this.el.style.right=V.right-D.right+"px",this.el.style.maxWidth=Y+"px",this.el.dataset.hTo="left"):(this.el.style.left=D.left-V.left+"px",this.el.style.right="auto",this.el.style.maxWidth=ee+"px",this.el.dataset.hTo="right"),this.relatedPopups.forEach(function(Z){return Z.updatePosition()})}}},{key:"freeze",value:function(){this.frozen=!0,this.el.classList.add("frozen")}},{key:"unfreeze",value:function(){this.frozen=!1,this.el.classList.remove("frozen"),this.updatePosition()}},{key:"hide",value:function(){this.hideTimer=clearTimeout(this.hideTimer),this.visible&&!v.has(this)&&(this.relatedPopups.forEach(function(L){return L.hide()}),m.splice(m.indexOf(this),1),this.el.remove(),this.unfreeze(),this.lastTriggerEl&&(this.lastTriggerEl.classList.remove("discovery-view-popup-active"),this.lastTriggerEl=null),m.length===0&&(window.removeEventListener("resize",d),document.removeEventListener("scroll",g,F.passiveCaptureOptions),document.removeEventListener("click",g,!0)))}},{key:"hideIfEventOutside",value:function(L){var W=L.target;this.options.hideIfEventOutside&&!v.has(this)&&(this.lastTriggerEl&&this.lastTriggerEl.contains(W)||p(this,W)||this.hide())}},{key:"hideOnResize",value:function(){this.options.hideOnResize&&!v.has(this)&&this.hide()}},{key:"relatedPopups",get:function(){var L=this;return m.filter(function(W){return L.el.contains(W.lastTriggerEl)})}},{key:"visible",get:function(){return m.includes(this)}}]),E}()};var _=H("../core/utils/layout.js"),F=H("../core/utils/dom.js"),A=H("../core/utils/pointer.js");function h(l,c){var v=Object.keys(l);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(l);c&&(j=j.filter(function(E){return Object.getOwnPropertyDescriptor(l,E).enumerable})),v.push.apply(v,j)}return v}function w(l){for(var c=1;c<arguments.length;c++){var v=arguments[c]!=null?arguments[c]:{};c%2?h(Object(v),!0).forEach(function(j){u(l,j,v[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(v)):h(Object(v)).forEach(function(j){Object.defineProperty(l,j,Object.getOwnPropertyDescriptor(v,j))})}return l}function u(l,c,v){return c in l?Object.defineProperty(l,c,{value:v,enumerable:!0,configurable:!0,writable:!0}):l[c]=v,l}function y(l,c){for(var v=0;v<c.length;v++){var j=c[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(l,j.key,j)}}function S(l,c){var v;if(typeof Symbol=="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(v=function(z,I){if(!z)return;if(typeof z=="string")return O(z,I);var P=Object.prototype.toString.call(z).slice(8,-1);if(P==="Object"&&z.constructor&&(P=z.constructor.name),P==="Map"||P==="Set")return Array.from(z);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return O(z,I)}(l))||c&&l&&typeof l.length=="number"){v&&(l=v);var j=0,E=function(){};return{s:E,n:function(){return j>=l.length?{done:!0}:{done:!1,value:l[j++]}},e:function(z){throw z},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L,W=!0,V=!1;return{s:function(){v=l[Symbol.iterator]()},n:function(){var z=v.next();return W=z.done,z},e:function(z){V=!0,L=z},f:function(){try{W||v.return==null||v.return()}finally{if(V)throw L}}}}function O(l,c){(c==null||c>l.length)&&(c=l.length);for(var v=0,j=new Array(c);v<c;v++)j[v]=l[v];return j}var m=[],x=[!1,"popup-hover","trigger-click"],f={position:"trigger",hoverTriggers:null,hoverPin:!1,hideIfEventOutside:!0,hideOnResize:!0,render:void 0};function p(l,c){return l.el.contains(c)?l:l.relatedPopups.reduce(function(v,j){return v||p(j,c)},null)}function g(l){m.slice().forEach(function(c){return c.hideIfEventOutside(l)})}function d(l){m.slice().forEach(function(c){return c.hideOnResize(l)})}},{"../core/utils/dom.js":21,"../core/utils/layout.js":25,"../core/utils/pointer.js":28}],99:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("section",function(h,w,u,y){var S=w.header,O=w.content;return A.view.render(h,[{view:"header",content:S},O],u,y)},{usage:F.default})};var _,F=(_=H("./section.usage.js"))&&_.__esModule?_:{default:_}},{"./section.usage.js":100}],100:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"section",header:'text:"I am section"',content:['text:"content"']}}},{}],101:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(u){var y="{ value: $, text: #.selectVariantTextQuery.query($, #) }",S=new u.view.Popup({className:"view-select-popup"});u.view.define("select",function(O,m,x,f){function p(){if(O.innerHTML="",ee!==void 0)return u.view.render(O,u.view.composeConfig({view:"menu-item",data:y,content:I},P),ee,Z)}var g=m.name,d=m.value,l=m.text,c=l===void 0?"$":l,v=m.placeholder,j=m.limit,E=m.minItemsFilter,L=E===void 0?10:E,W=m.resetItem,V=W!==void 0&&W,z=m.item,I=z===void 0?"text-match:{ text, match: #.filter }":z,P=m.itemConfig,D=m.beforeItems,N=m.afterItems,ne=m.onInit,Y=m.onChange,ee=d?u.query(d,x,f):f[g],Z=h(h({},f),{},{selectMinItemsFilter:L,selectCurrentValue:ee,selectVariantTextQuery:c,selectResetItem:V?[h(h({value:void 0,text:""},V),{},{resetItem:!0})]:[]}),R=[];return D&&R.push(u.view.composeConfig(D,{onInit:ne,onChange:Y})),R.push({view:"context",data:".(".concat(y,")"),modifiers:{view:"input",when:"size() >= #.selectMinItemsFilter",type:"regexp",name:"filter",className:"view-select__filter",placeholder:"Filter"},content:{view:"menu",className:"view-select__variants",data:"#.selectResetItem + .[no #.filter or text~=#.filter]",limit:j,itemConfig:u.view.composeConfig({className:[function(X){return X.resetItem?"reset-item":""},function(X){return X.value===ee?"selected":""}]},P),item:I,onClick:function(X){S.hide(),ee!==X.value&&(ee=X.value,Z=h(h({},Z),{},{selectCurrentValue:ee}),p(),typeof Y=="function"&&Y(X.value,g,X,f))}}}),N&&R.push(u.view.composeConfig(N,{onInit:ne,onChange:Y})),v&&(O.dataset.placeholder=v),O.tabIndex=0,O.addEventListener("click",function(){S.toggle(O,function(X){return u.view.render(X,R,x,Z).then(function(){return(X.querySelector(".view-select__filter input")||{focus:function(){}}).focus()})})}),typeof ne=="function"&&ne(ee,g,x,f),p()},{usage:F.default})};var _,F=(_=H("./select.usage.js"))&&_.__esModule?_:{default:_};function A(u,y){var S=Object.keys(u);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(u);y&&(O=O.filter(function(m){return Object.getOwnPropertyDescriptor(u,m).enumerable})),S.push.apply(S,O)}return S}function h(u){for(var y=1;y<arguments.length;y++){var S=arguments[y]!=null?arguments[y]:{};y%2?A(Object(S),!0).forEach(function(O){w(u,O,S[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(S)):A(Object(S)).forEach(function(O){Object.defineProperty(u,O,Object.getOwnPropertyDescriptor(S,O))})}return u}function w(u,y,S){return y in u?Object.defineProperty(u,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):u[y]=S,u}},{"./select.usage.js":102}],102:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _={demo:{view:"select",data:["one","two","three","four"]},examples:[{title:"Select with value",demo:{view:"select",value:'"three"',data:["one","two","three","four"]}},{title:"Select with reset option",demo:{view:"select",resetItem:!0,value:'"three"',data:["one","two","three","four"]}},{title:"Select with placeholder",demo:{view:"select",placeholder:"placeholder",data:["one","two","three","four"]}},{title:"Select with onChange",demo:{view:"select",onChange:new Function("return (value) => alert(`Changed to ${value}!`)")(),data:["one","two","three","four"]}},{title:"Select with custom options",demo:{view:"select",item:"h1:text",data:["one","two","three","four"]}}]};k.default=_},{}],103:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"default",{enumerable:!0,get:function(){return F.default}});var _,F=(_=H("./signature/index.js"))&&_.__esModule?_:{default:_}},{"./signature/index.js":106}],104:[function(H,pe,k){"use strict";function _(h){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(h)}function F(h,w,u){for(var y in h)if(hasOwnProperty.call(h,y)){if(!w){u.properties=null;break}var S=void 0;u.dictMode?((S=u.dictMode).count++,S.keys.add(y)):u.properties.has(y)?(S=u.properties.get(y)).count++:(S={count:1,map:Object.create(null)},u.properties.set(y,S)),A(h[y],w-1,S.map)}}function A(h,w){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.create(null),y=h===null?"null":Array.isArray(h)?"array":_(h);switch(y){default:y in u==!1&&(u[y]=new Map),u[y].set(h,(u[y].get(h)||0)+1);break;case"object":"object"in u==!1&&(u.object=new Map,u.object.count=0,u.object.properties=new Map,u.object.dictMode=null,u.object.sortKeys=!1),u.object.count++,u.object.has(h)?u.object.set(h,u.object.get(h)+1):(u.object.set(h,1),F(h,w,u.object));break;case"array":"array"in u==!1&&(u.array=new Map,u.array.count=0,u.array.map=Object.create(null)),u.array.count++,u.array.set(h,(u.array.get(h)||0)+1);for(var S=0;S<h.length;S++)A(h[S],w,u.array.map)}return u}Object.defineProperty(k,"__esModule",{value:!0}),k.collectObjectMap=F,k.collectStat=A},{}],105:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.typeOrder=k.colors=void 0,k.colors=["rgba(83,211,75,0.75)","rgba(241,235,44,0.75)","rgba(244,152,99,0.75)","rgba(148,99,244,0.75)","rgba(44,132,241,0.75)","rgba(233,117,117,0.75)","rgba(85,187,155,0.75)","rgba(151,147,99,0.75)","rgba(216,107,196,0.75)","rgba(108,204,227,0.75)","rgba(164,164,164,0.75)"],k.typeOrder=["null","undefined","string","number","bigint","boolean","symbol","function","array","object"]},{}],106:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){var w=new WeakMap;document.addEventListener("click",function(u){var y="expand",S=u.target.closest(`
            .view-signature .expand,
            .view-signature [data-action]
        `);if(S){S.dataset.action&&(y=S.dataset.action,S=S.parentNode);var O=w.get(S);if(O){var m=O.path,x=O.map,f=O.offset,p=document.createDocumentFragment();switch(y){case"sort-keys":x.sortKeys=!x.sortKeys;break;case"dict-mode":if(x.dictMode)x.dictMode=null;else{var g=x.dictMode={keys:new Set,count:0,map:Object.create(null)};x.forEach(function(d,l){for(var c in l)hasOwnProperty.call(l,c)&&(g.keys.add(c),g.count++,(0,_.collectStat)(l[c],1,g.map))})}break;default:x.properties===null?(x.properties=new Map,x.forEach(function(d,l){return(0,_.collectObjectMap)(l,1,x)})):x.properties=null}(0,F.renderStat)(p,{object:x},w,m,f),S.replaceWith(p)}}},!1),new h.view.Popup({className:"signature-details",hoverPin:"trigger-click",hoverTriggers:`
            .view-signature .property,
            .view-signature .type
        `,render:function(u,y){var S=w.get(y);switch(S.type){case"property":return(0,A.renderPropertyDetails)(u,S,h);case"type":return(0,A.renderTypeDetails)(u,S,h)}}}),h.view.define("signature",function(u,y,S){var O=y.expanded,m=y.path,x=(0,_.collectStat)(S,O),f=Array.isArray(m)?m:void 0;(0,F.renderStat)(u,x,w,f)})};var _=H("./collect-stat.js"),F=H("./render-stat.js"),A=H("./render-details.js")},{"./collect-stat.js":104,"./render-details.js":107,"./render-stat.js":108}],107:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.renderPropertyDetails=function(d,l,c){var v=l.stat.object.dictMode||l.stat.object.properties.get(l.name),j=v.count,E=v.map,L=(l.stat.object.dictMode||l.stat.object).count,W={name:l.name,path:l.path,total:L,count:j,percent:m(100*j/L,1)+"%"};c.view.render(d,[{view:"block",when:"path",className:"path",data:function(V){return c.pathToQuery(V.path)},content:"text:$"},{view:"h1",className:"property",content:["text:name",{view:"html",when:"count != total",data:`"<span class=\\"usage-stat optional\\">" + (
                        "(in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> objects, <span class=\\"num\\">" + percent + "</span>)"
                    ) + "</span>"`}]}],W),p(d,{map:E,count:j},c)},k.renderTypeDetails=g;var _=H("../../core/utils/html.js"),F=H("./const.js");function A(d,l){var c=Object.keys(d);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);l&&(v=v.filter(function(j){return Object.getOwnPropertyDescriptor(d,j).enumerable})),c.push.apply(c,v)}return c}function h(d){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?A(Object(c),!0).forEach(function(v){w(d,v,c[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(c)):A(Object(c)).forEach(function(v){Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(c,v))})}return d}function w(d,l,c){return l in d?Object.defineProperty(d,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):d[l]=c,d}function u(d,l){return function(c){if(Array.isArray(c))return c}(d)||function(c,v){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))return;var j=[],E=!0,L=!1,W=void 0;try{for(var V,z=c[Symbol.iterator]();!(E=(V=z.next()).done)&&(j.push(V.value),!v||j.length!==v);E=!0);}catch(I){L=!0,W=I}finally{try{E||z.return==null||z.return()}finally{if(L)throw W}}return j}(d,l)||S(d,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(d){return function(l){if(Array.isArray(l))return O(l)}(d)||function(l){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(l))return Array.from(l)}(d)||S(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S(d,l){if(d){if(typeof d=="string")return O(d,l);var c=Object.prototype.toString.call(d).slice(8,-1);return c==="Object"&&d.constructor&&(c=d.constructor.name),c==="Map"||c==="Set"?Array.from(d):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?O(d,l):void 0}}function O(d,l){(l==null||l>d.length)&&(l=d.length);for(var c=0,v=new Array(l);c<l;c++)v[c]=d[c];return v}function m(d,l){return d.toFixed(l).replace(/\.?0+$/,"")}function x(d){return[Math.cos(2*Math.PI*d),Math.sin(2*Math.PI*d)]}function f(d){var l=0;return['<svg viewBox="-1 -1 2 2" class="pie">'].concat(y(d.map(function(c){var v=u(x(l),2),j=v[0],E=v[1],L=u(x(l+=c.percent),2),W=L[0],V=L[1],z=c.percent>.5?1:0,I=["M ".concat(j," ").concat(E),"A 1 1 0 ".concat(z," 1 ").concat(W," ").concat(V),"L 0 0"];return'<path d="'.concat(I.join(" "),'" fill="').concat(c.color,'"/>')})),["</svg>"]).join(`
`)}function p(d,l,c){var v=l.map,j=l.count,E=function(V){var z=Object.create(null),I=function(D){z[D]=0,V[D].forEach(function(N){return z[D]+=N})};for(var P in V)I(P);return z}(v),L=[],W=F.typeOrder.filter(function(V){return V in v});Object.entries(E).sort(function(V,z){return u(V,2)[1]-u(z,2)[1]}).reverse().forEach(function(V,z){var I=u(V,2),P=I[0],D=I[1];L.push({name:(0,_.escapeHtml)(P),count:D,percent:D/j,percent100:m(100*D/j,1),color:F.colors[z]})}),c.view.render(d,{view:"block",when:"typeStat.size() > 1",data:"typeStat",className:"pie-stat",content:[{view:"block",content:{view:"html",data:f}},{view:"block",content:['html:"<span class=\\"list-header\\">Types usage:</span>"',{view:"list",item:`html:
                            "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +
                            "<span class=\\"caption\\">" + name + "</span>" +
                            "<span class=\\"times\\"> \xD7 " + count + " (" + percent100 + "%)</span>"
                        `}]}]},L),W.forEach(function(V){return g(d,{name:V,stat:v},c)})}function g(d,l,c){var v,j=l.stat[l.name],E=function(te){var se=0;for(var me in te)te[me].forEach(function(Pe){return se+=Pe});return se}(l.stat),L=[];switch(l.name){case"number":var W=[],V=0,z=0,I=0,P=1/0,D=-1/0;j.forEach(function(te,se){W.push({count:te,value:se}),V+=se*te,z+=te,te>1&&I++,se<P&&(P=se),se>D&&(D=se)}),(v={type:l.name,count:z,distinct:j.size,duplicated:I,min:P,max:D,sum:V,avg:m(V/z,3),values:W.sort(function(te,se){return se.count-te.count||te.value-se.value})}).distinct>1&&L.push({view:"block",className:"overview-stat",content:`html:
                        "range: (min) <span class=\\"num\\">" + min + "</span> ... " +
                        "<span class=\\"num\\">" + max + "</span> (max), " +
                        "avg: <span class=\\"num\\">" + avg + "</span>"
                    `});break;default:var N=[],ne=0,Y=0;j.forEach(function(te,se){N.push({count:te,value:se}),ne+=te,te>1&&Y++}),v={type:l.name,count:ne,distinct:j.size,duplicated:Y,values:l.name==="object"||l.name==="array"?N.sort(function(te,se){return se.count-te.count}):N.sort(function(te,se){return se.count-te.count||te.value>se.value||-(te.value<se.value)})}}if(l.name!=="undefined"&&l.name!=="null"){if(L.unshift({view:"block",className:"overview-stat",content:['html:"<span class=\\"num\\">" + count + "</span> " + (count > 1 ? "values, " : "value")',{view:"switch",when:"count > 1",content:[{when:"distinct = 1",content:'text:"a single unique value:"'},{when:"distinct = count",content:'text:"all unique, no duplicates"'},{content:['html:"<span class=\\"num\\">" + distinct + "</span> unique, "','html:duplicated = distinct ? "all occur more than once" : "<span class=\\"num\\">" + duplicated + "</span> occur more than once"']}]}]}),v.values.length>1&&v.duplicated&&l.name!=="object"&&l.name!=="array"){for(var ee=[],Z=v.values.length===10?10:Math.min(9,v.values.length),R=0,X=0;X<Z;X++){var le=v.values[X],ue=le.count,Ce=le.value;R+=ue,ee.push({name:(0,_.escapeHtml)(String(Ce)),count:ue,percent:ue/v.count,percent100:m(100*ue/v.count,1),color:F.colors[X]})}if(ee.length){var ie=v.count-R;ie>0&&ee.push({name:"...",count:ie,percent:ie/v.count,percent100:m(100*ie/v.count,1),color:F.colors[ee.length]}),L.push({view:"block",className:"pie-stat",data:ee,content:[{view:"block",content:{view:"html",data:f}},{view:"block",content:['html:"<span class=\\"list-header\\">Dominators:</span>"',{view:"list",item:`html:
                                        "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +
                                        "<span class=\\"caption\\" title=\\"" + name + "\\">" + name + "</span>" +
                                        "<span class=\\"times\\"> \xD7 " + count + " (" + percent100 + "%)</span>"
                                    `}]}]})}}v.values.length>1?l.name!=="number"&&l.name!=="string"||L.push({view:"content-filter",name:"filter",content:{view:"menu",data:"values.[no #.filter or value~=#.filter].sort(<value>)",item:[{view:"block",className:"caption",content:"text-match:{ text: value, match: #.filter }"},{view:"block",when:"count > 1",className:"count",content:'text:" \xD7 " + count'}]}}):l.name!=="number"&&l.name!=="string"&&l.name!=="boolean"||L.push({view:"struct",data:"values.pick().value"}),l.name==="object"&&L.push({view:"list",className:"struct-list",data:"values",item:["struct:value",{view:"block",when:"count > 1",className:"count",content:'text:" \xD7 " + count'}]}),l.name==="array"&&Object.keys(j.map).length&&L.push({view:"block",className:"array-types",content:function(te){return p(te,j,c)}})}c.view.render(d,[{view:"block",when:"path",className:"path",data:function(te){return c.pathToQuery(te.path)},content:"text"},{view:"h1",className:"type",content:["text:name",`html:"<span class=\\"usage-stat\\">" + (
                    count = total
                        ? "only this type is used"
                        : "used in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> cases (<span class=\\"num\\">" + percent + "</span>)"
                ) + "</span>"`]}].concat(L),h(h({},v),{},{name:l.name,path:l.path,total:E,percent:m(100*v.count/E,1)+"%"}),{})}},{"../../core/utils/html.js":22,"./const.js":105}],108:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.renderStat=function S(O,m,x){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"";Object.keys(m).sort(function(g,d){return F.typeOrder.indexOf(g)-F.typeOrder.indexOf(d)}).forEach(function(g,d){switch(d>0&&O.appendChild((0,_.createText)(" | ")),g){default:var l=O.appendChild((0,_.createElement)("span","type",g));x.set(l,{type:"type",path:f,stat:m,name:g});break;case"object":var c=m[g],v=c.properties,j=c.dictMode,E=c.sortKeys;if(v===null){x.set(O.appendChild((0,_.createElement)("span","expand","{\u2026}")),{type:"expand",path:f,map:m[g],offset:p});break}if(v.size===0){O.appendChild((0,_.createElement)("span","object","{}"));break}var L=c.size,W=j?[["[key]",j]]:w(v.entries()),V=p+"    ",z=O.appendChild((0,_.createElement)("span","object",["{",(0,_.createElement)("span",{"data-action":"collapse"})]));v.size>1&&(z.appendChild((0,_.createElement)("span",{title:"Toggle dictionary mode (collapse all the values in a single signature)","data-action":"dict-mode","data-enabled":j!==null})),W.some(function(R,X){var le=h(R,1)[0];return X!==0&&le<W[X-1][0]})&&z.appendChild((0,_.createElement)("span",{title:"Toggle keys sorting","data-action":"sort-keys","data-enabled":E}))),x.set(z,{type:"shape",path:f,map:m[g],offset:p}),L>1&&(z.appendChild((0,_.createElement)("span","count")).dataset.value=String(L)),E&&W.sort(function(R,X){var le=h(R,1)[0],ue=h(X,1)[0];return le<ue?-1:le>ue?1:0});var I,P=A(W);try{for(P.s();!(I=P.n()).done;){var D=h(I.value,2),N=D[0],ne=D[1],Y=ne.count,ee=ne.map,Z=(0,_.createElement)("span","property",[N]);x.set(Z,{type:"property",path:f,stat:m,name:N,map:ee}),z.appendChild((0,_.createText)(`
`.concat(V))),z.appendChild(Z),Y!==L&&j===null&&Z.appendChild((0,_.createElement)("span","optional","?")),z.appendChild((0,_.createText)(": ")),S(z,ee,x,f.concat(j?"*":N),V),z.appendChild((0,_.createText)(";"))}}catch(R){P.e(R)}finally{P.f()}z.lastChild.nodeValue===";"&&z.appendChild((0,_.createText)(`
`.concat(p))),z.appendChild((0,_.createText)("}"));break;case"array":O.appendChild((0,_.createText)("[")),S(O,m[g].map,x,f,p),O.appendChild((0,_.createText)("]"))}})};var _=H("../../core/utils/dom.js"),F=H("./const.js");function A(S,O){var m;if(typeof Symbol=="undefined"||S[Symbol.iterator]==null){if(Array.isArray(S)||(m=u(S))||O&&S&&typeof S.length=="number"){m&&(S=m);var x=0,f=function(){};return{s:f,n:function(){return x>=S.length?{done:!0}:{done:!1,value:S[x++]}},e:function(l){throw l},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,g=!0,d=!1;return{s:function(){m=S[Symbol.iterator]()},n:function(){var l=m.next();return g=l.done,l},e:function(l){d=!0,p=l},f:function(){try{g||m.return==null||m.return()}finally{if(d)throw p}}}}function h(S,O){return function(m){if(Array.isArray(m))return m}(S)||function(m,x){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(m)))return;var f=[],p=!0,g=!1,d=void 0;try{for(var l,c=m[Symbol.iterator]();!(p=(l=c.next()).done)&&(f.push(l.value),!x||f.length!==x);p=!0);}catch(v){g=!0,d=v}finally{try{p||c.return==null||c.return()}finally{if(g)throw d}}return f}(S,O)||u(S,O)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(S){return function(O){if(Array.isArray(O))return y(O)}(S)||function(O){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(O))return Array.from(O)}(S)||u(S)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(S,O){if(S){if(typeof S=="string")return y(S,O);var m=Object.prototype.toString.call(S).slice(8,-1);return m==="Object"&&S.constructor&&(m=S.constructor.name),m==="Map"||m==="Set"?Array.from(S):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?y(S,O):void 0}}function y(S,O){(O==null||O>S.length)&&(O=S.length);for(var m=0,x=new Array(O);m<O;m++)x[m]=S[m];return x}},{"../../core/utils/dom.js":21,"./const.js":105}],109:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(f){f.view.define("source",function(p,g,d){var l=[],c=d.mime,v=d.binary,j=d.size,E=d.syntax,L=d.content,W=d.refs,V=d.error;if(d.disabled)return p.classList.add("disabled"),void(p.textContent=V);if(V)return p.classList.add("error"),void(p.textContent=V);if(typeof L=="string"){if(L.length<102400){var z=E||S.get(c);z&&l.push(z==="discovery-view"||z==="discovery-query"?[O(z,f),{html:{open:function(I){return'<span class="token '+I.data+'">'},close:function(){return"</span>"}}}]:(0,F.default)(z))}Array.isArray(W)&&l.push([function(I,P){return W.forEach(function(D){D.range&&P(D.range[0],D.range[1],function(N){for(var ne=1;ne<arguments.length;ne++){var Y=arguments[ne]!=null?arguments[ne]:{};ne%2?u(Object(Y),!0).forEach(function(ee){y(N,ee,Y[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(Y)):u(Object(Y)).forEach(function(ee){Object.defineProperty(N,ee,Object.getOwnPropertyDescriptor(Y,ee))})}return N}({type:"spotlight"},D))})},x]),p.innerHTML=v?"Binary content"+(typeof j=="number"?" ("+j+" bytes)":""):'<div class="lines">'+L.split(/\r\n?|\n/g).map(function(I,P){return"<span>"+(P+1)+"</span>"}).join("")+"</div><div>"+(0,_.default)(l,"html")(L)+"</div>"}},{usage:h.default})};var _=w(H("/gen/hitext.js")),F=w(H("/gen/hitext-prismjs.js")),A=w(H("/gen/codemirror.js")),h=w(H("./source.usage.js"));function w(f){return f&&f.__esModule?f:{default:f}}function u(f,p){var g=Object.keys(f);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(f);p&&(d=d.filter(function(l){return Object.getOwnPropertyDescriptor(f,l).enumerable})),g.push.apply(g,d)}return g}function y(f,p,g){return p in f?Object.defineProperty(f,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[p]=g,f}var S=new Map(Object.entries({"application/javascript":"javascript","application/x-httpd-php":"php","application/xml":"xml","application/json":"json","text/html":"html","text/css":"css","text/stylus":"stylus","text/yaml":"yaml","image/svg+xml":"svg"}));function O(f,p){var g=A.default.getMode(A.default.defaults,{name:f,isDiscoveryViewDefined:function(d){return p.view.isDefined(d)}});return function(d,l){for(var c=new A.default.StringStream(d,null),v=A.default.startState(g);!c.eol();){var j=g.token(c,v);j&&l(c.start,c.pos,j),c.start=c.pos}}}function m(f,p){var g=f&&f.className,d=[p,Array.isArray(g)?g.join(" "):typeof g=="string"&&g].filter(Boolean).join(" ");return d?' class="'.concat(d,'"'):""}var x={html:{open:function(f){var p=f.data;switch(p.type){case"link":return'<a href="'.concat(p.href,'"').concat(m(p)).concat(p.marker?' data-marker="'.concat(p.marker,'"'):"",">");case"spotlight":return"<span ".concat(m(p,"spotlight")).concat(p.marker?' data-marker="'.concat(p.marker,'"'):"",">")}},close:function(f){switch(f.data.type){case"link":return"</a>";case"spotlight":return"</span>"}}}}},{"./source.usage.js":110,"/gen/codemirror.js":2,"/gen/hitext-prismjs.js":3,"/gen/hitext.js":4}],110:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"source",data:{content:'var hello = "world";',syntax:"js"}}}},{}],111:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"default",{enumerable:!0,get:function(){return F.default}});var _,F=(_=H("./struct/index.js"))&&_.__esModule?_:{default:_}},{"./struct/index.js":113}],112:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.objectKeyProtoEl=k.valueProtoEl=k.entryProtoEl=k.objectValueProto=k.arrayValueProto=k.stringValueProto=void 0;var _=H("../../core/utils/dom.js"),F={get collapse(){return(0,_.createElement)("span",{class:"struct-action-button struct-collapse-value","data-action":"collapse"})},get signature(){return(0,_.createElement)("span",{class:"struct-action-button show-signature","data-action":"show-signature"})},get actions(){return(0,_.createElement)("span",{class:"struct-action-button",title:"Value actions","data-action":"value-actions"})},get stringMode(){return(0,_.createElement)("span",{class:"struct-action-button",title:"Toggle string show mode","data-action":"toggle-string-mode"})},get sortKeys(){return(0,_.createElement)("span",{class:"struct-action-button",title:"Toggle key sorting","data-action":"toggle-sort-keys"})}},A=(0,_.createFragment)('"',F.collapse,F.actions,F.stringMode,(0,_.createElement)("span","string-length"),(0,_.createElement)("span","string-text-wrapper",[(0,_.createElement)("span","string-text")]),'"');k.stringValueProto=A;var h=(0,_.createFragment)("[",F.collapse,F.signature,F.actions,(0,_.createElement)("span","value-size"),"]");k.arrayValueProto=h;var w=(0,_.createFragment)("{",F.collapse,F.signature,F.actions,F.sortKeys,(0,_.createElement)("span","value-size"),"}");k.objectValueProto=w;var u=(0,_.createElement)("div","entry-line");k.entryProtoEl=u;var y=(0,_.createElement)("span","value");k.valueProtoEl=y;var S=(0,_.createElement)("span","label",["\xA0 \xA0 ",(0,_.createElement)("span","property"),":\xA0"]);k.objectKeyProtoEl=S},{"../../core/utils/dom.js":21}],113:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(v){function j(R,X,le){var ue=z.get(R);if(R.classList.remove("struct-expand-value"),typeof ue=="string"){var Ce=y.stringValueProto.cloneNode(!0),ie=Ce.lastChild.previousSibling,te=JSON.stringify(ue);d(ie.firstChild,te.slice(1,-1)),d(ie.previousSibling,"length: ".concat(te.length," chars")),R.innerHTML="",R.appendChild(Ce)}else if(Array.isArray(ue)){var se=I.get(R),me=P.get(R);R.innerHTML="",R.appendChild(y.arrayValueProto.cloneNode(!0)),c(R,ue,"elements"),L(R,R.lastChild,ue,function(ce,_e,Ee){E(ce,_e,X,me,Object.freeze({parent:se,host:ue,key:Ee,index:Ee}))},0,me.limit)}else{var Pe=I.get(R),Ke=P.get(R),oe=Object.entries(ue);R.innerHTML="",R.appendChild(y.objectValueProto.cloneNode(!0)),c(R,oe,"entries"),function(ce,_e,Ee){_e.length<=1||_e.every(function(Je,ft){var be=O(Je,1)[0];return ft===0||be>_e[ft-1][0]})?ce.querySelector('[data-action="toggle-sort-keys"]').remove():Ee&&_e.sort(function(Je,ft){var be=O(Je,1)[0],je=O(ft,1)[0];return be<je?-1:be>je?1:0})}(R,oe,le),L(R,R.lastChild,oe,function(ce,_e,Ee){var Je,ft,be,je=O(_e,2),ye=je[0],ke=je[1];Je=ce,ft=ye,d((be=y.objectKeyProtoEl.cloneNode(!0)).firstElementChild,ft),Je.appendChild(be),E(ce,ke,X,Ke,Object.freeze({parent:Pe,host:ue,key:ye,index:Ee}))},0,Ke.limit)}}function E(R,X,le,ue,Ce){var ie=g(X),te=y.valueProtoEl.cloneNode(!0);z.set(te,X),I.set(te,Ce),P.set(te,ue),ie&&typeof X!="string"&&le?(R.classList.add("struct-expanded-value"),j(te,le-1)):(ie&&te.classList.add("struct-expand-value"),te.innerHTML=(0,h.default)(X,!1,ue)),function(se,me,Pe,Ke){var oe,ce=function(be,je){var ye;if(typeof Symbol=="undefined"||be[Symbol.iterator]==null){if(Array.isArray(be)||(ye=m(be))||je&&be&&typeof be.length=="number"){ye&&(be=ye);var ke=0,dt=function(){};return{s:dt,n:function(){return ke>=be.length?{done:!0}:{done:!1,value:be[ke++]}},e:function(sn){throw sn},f:dt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var kt,pt=!0,Ot=!1;return{s:function(){ye=be[Symbol.iterator]()},n:function(){var sn=ye.next();return pt=sn.done,sn},e:function(sn){Ot=!0,kt=sn},f:function(){try{pt||ye.return==null||ye.return()}finally{if(Ot)throw kt}}}}(Pe.annotations);try{for(ce.s();!(oe=ce.n()).done;){var _e=oe.value;try{var Ee=_e.query,Je=_e.debug,ft=v.query(Ee,me,Ke);Je&&console.info({annotation:_e,value:me,context:Ke,data:ft}),ft&&N.push({el:se,data:ft})}catch(be){console.error(be)}}}catch(be){ce.e(be)}finally{ce.f()}V()}(te,X,ue,Ce),R.appendChild(te)}function L(R,X,le,ue){var Ce=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,ie=arguments.length>5&&arguments[5]!==void 0?arguments[5]:50,te=le.length-Ce-1,se=document.createDocumentFragment();ie===!1&&(ie=le.length),le.slice(Ce,Ce+ie).forEach(function(me,Pe){var Ke=y.entryProtoEl.cloneNode(!0);ue(Ke,me,Ce+Pe),Pe!==te&&d(Ke,","),se.appendChild(Ke)}),R.insertBefore(se,X),v.view.maybeMoreButtons(R,X,le.length,Ce+ie,ie,function(me,Pe){return L(R,X,le,ue,me,Pe)})}function W(R){for(var X=[],le=I.get(R);le!==null&&le.parent!==null;)X.unshift(le.key),le=le.parent;return X}function V(){ne===null&&N.length&&(ne=Promise.resolve().then(function(){ne=null,(0,w.default)(N),N.length&&V()},0))}var z=new WeakMap,I=new WeakMap,P=new WeakMap,D=new WeakSet,N=[],ne=null,Y=new v.view.Popup({className:"view-struct-actions-popup",render:function(R,X){var le=X.parentNode,ue=z.get(le),Ce=[];if(typeof ue=="string")Ce=[{text:"Copy as quoted string",action:function(){return(0,A.default)(JSON.stringify(ue))}},{text:"Copy as unquoted string",action:function(){return(0,A.default)(JSON.stringify(ue).slice(1,-1))}},{text:"Copy a value (unescaped)",action:function(){return(0,A.default)(ue)}}];else{var ie=v.pathToQuery(W(le)),te=1073741824,se=(0,F.jsonStringifyInfo)(ue),me=se.minLength,Pe=!1,Ke=!1,oe=0;se.circular.length?Pe=Ke="Can't be copied: Converting circular structure to JSON":me>te?Pe=Ke="Can't be copied: Resulting JSON is over 1 Gb":(oe=(0,F.jsonStringifyInfo)(ue,null,4).minLength)>te&&(Pe="Can't be copied: Resulting JSON is over 1 Gb"),ie&&Ce.push({text:"Copy path:",notes:(0,_.escapeHtml)(ie),action:function(){return(0,A.default)(ie)}}),Ce.push({text:"Copy as JSON",notes:"(formatted".concat(l(oe),")"),error:Pe,disabled:Boolean(Pe),action:function(){return(0,A.default)(JSON.stringify(ue,null,4))}}),Ce.push({text:"Copy as JSON",notes:"(compact".concat(Ke?"":l(me),")"),error:Ke,disabled:Boolean(Ke),action:function(){return(0,A.default)(JSON.stringify(ue))}})}v.view.render(R,{view:"menu",onClick:function(ce){Y.hide(),ce.action()},item:["html:text",{view:"block",when:"notes",className:"notes",content:"html:notes"},{view:"block",when:"error",className:"error",content:"text:error"}]},Ce)}}),ee=new v.view.Popup({hoverPin:"popup-hover",hoverTriggers:".view-struct .show-signature",render:function(R,X){var le=X.parentNode,ue=z.get(le);v.view.render(R,{view:"signature",expanded:2,path:W(le)},ue)}}),Z=function(R){var X,le,ue,Ce="expand",ie=R.target.closest(`
            .view-struct.struct-expand,
            .view-struct .struct-expand-value,
            .view-struct .struct-action-button
        `);if(ie)switch(ie.dataset.action&&(Ce=ie.dataset.action),Ce){case"expand":ie.classList.contains("struct-expand")&&(ie=ie.lastChild),j(ie,0),V(),ie.parentNode.classList.add("struct-expanded-value"),D.has(ie.parentNode)&&ie.parentNode.classList.remove("struct-expand");break;case"collapse":ie=ie.parentNode,X=ie,le=P.get(X),ue=z.get(X),X.classList.add("struct-expand-value"),X.innerHTML=(0,h.default)(ue,!1,le),V(),ie.parentNode.classList.remove("struct-expanded-value"),D.has(ie.parentNode)&&ie.parentNode.classList.add("struct-expand");break;case"show-signature":ee.show(ie);break;case"value-actions":Y.show(ie);break;case"toggle-sort-keys":j(ie.parentNode,0,ie.parentNode.classList.toggle("sort-keys")),V();break;case"toggle-string-mode":var te=(ie=ie.parentNode).querySelector(".string-text").firstChild;te.nodeValue=ie.classList.toggle("string-value-as-text")?JSON.parse('"'.concat(te.nodeValue,'"')):JSON.stringify(te.nodeValue).slice(1,-1)}};return v.addGlobalEventListener("click",Z,!1),v.view.define("struct",function(R,X,le){var ue=X.expanded,Ce=X.limit,ie=X.limitCollapsed,te=X.annotations,se=g(le),me={limitCollapsed:v.view.listLimit(ie,4),limit:v.view.listLimit(Ce,50),annotations:v.annotations.concat(te||[]),maxStringLength:150,maxLinearStringLength:50};D.add(R),E(R,le,ue,me,{parent:null,host:{"":le},key:"",index:0}),V(),se&&!ue&&R.classList.add("struct-expand")},{usage:u.default}),function(){document.removeEventListener("click",Z,!1)}};var _=H("../../core/utils/html.js"),F=H("../../core/utils/json.js"),A=S(H("../../core/utils/copy-text.js")),h=S(H("./value-to-html.js")),w=S(H("./render-annotations.js")),u=S(H("./struct.usage.js")),y=H("./el-proto.js");function S(v){return v&&v.__esModule?v:{default:v}}function O(v,j){return function(E){if(Array.isArray(E))return E}(v)||function(E,L){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(E)))return;var W=[],V=!0,z=!1,I=void 0;try{for(var P,D=E[Symbol.iterator]();!(V=(P=D.next()).done)&&(W.push(P.value),!L||W.length!==L);V=!0);}catch(N){z=!0,I=N}finally{try{V||D.return==null||D.return()}finally{if(z)throw I}}return W}(v,j)||m(v,j)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(v,j){if(v){if(typeof v=="string")return x(v,j);var E=Object.prototype.toString.call(v).slice(8,-1);return E==="Object"&&v.constructor&&(E=v.constructor.name),E==="Map"||E==="Set"?Array.from(v):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?x(v,j):void 0}}function x(v,j){(j==null||j>v.length)&&(j=v.length);for(var E=0,L=new Array(j);E<j;E++)L[E]=v[E];return L}var f=Object.prototype.hasOwnProperty,p=Object.prototype.toString;function g(v){if(Array.isArray(v))return v.length>0;if(typeof v=="string"&&(v.length>150||/[\r\n\f\t]/.test(v)))return!0;if(v&&p.call(v)==="[object Object]"){for(var j in v)if(f.call(v,j))return!0}return!1}function d(v,j){v.appendChild(document.createTextNode(j))}function l(v){return v?", "+String(v).replace(/\B(?=(\d{3})+$)/g,'<span class="num-delim"></span>')+" bytes":""}function c(v,j,E){j.length>1&&d(v.lastElementChild,j.length+" "+E)}},{"../../core/utils/copy-text.js":19,"../../core/utils/html.js":22,"../../core/utils/json.js":24,"./el-proto.js":112,"./render-annotations.js":114,"./struct.usage.js":115,"./value-to-html.js":116}],114:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){for(var w=Date.now(),u=0;u<h.length&&!(u%20==0&&Date.now()-w>10);u++){var y=h[u],S=y.el,O=y.data,m=O.place,x=m===void 0?"after":m,f=O.className,p=O.text,g=p===void 0?F(O)!=="object"?String(O):"":p,d=O.title,l=O.icon,c=O.href,v=O.external,j=["value-annotation","style-"+(A.includes(O.style)?O.style:x==="before"?"none":"default"),x==="before"?"before":"after",g!==""?"has-text":"",f||""].join(" "),E=(0,_.createElement)(c?"a":"span",{class:j,title:d,href:c,target:v?"_blank":void 0},g!==""?[g]:void 0);l&&(E.classList.add("icon"),/^[a-z_$][a-z0-9_$-]*$/i.test(l)?E.classList.add("icon-"+l):E.style.setProperty("--annotation-image",'url("'.concat(l,'")'))),x==="before"?S.before(E):S.parentNode.append(E)}h.splice(0,u)};var _=H("../../core/utils/dom.js");function F(h){return(F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(h)}var A=["none","default","badge"]},{"../../core/utils/dom.js":21}],115:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"struct",data:{foo:"bar",baz:[1,2,3]}},examples:[{title:"Define expanded levels by default and limit entries when collapsed and expanded",demo:{view:"struct",expanded:2,limit:5,limitCollapsed:1,data:{level1:{level2:{level3:{level4:{}},level3_2:2,level3_3:3,level3_4:4,level3_5:5,level2_6:6},level2_2:2,level2_3:3,level2_4:4,level2_5:5,level2_6:6},level1_2:2,level1_3:3,level1_4:4,level1_5:5,level1_6:6,level1_7:7}}}]}},{}],116:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function u(y,S,O){switch(F(y)){case"boolean":case"undefined":return h("keyword",y);case"number":case"bigint":var m=String(y);return m.length>3&&(m=m.replace(/\..+$|\B(?=(\d{3})+(\D|$))/g,function(E){return E||'<span class="num-delim"></span>'})),h("number",m);case"symbol":return h("symbol",String(y));case"function":return"\u0192n";case"string":var x=S?O.maxLinearStringLength:O.maxStringLength;if(y.length>x+15)return h("string",(0,_.escapeHtml)(JSON.stringify(y.substr(0,x))).replace(/"$/,w(y.length-x)+'"'));var f=(0,_.escapeHtml)(JSON.stringify(y));return h("string",S||y[0]!=="h"&&y[0]!=="/"||!A.test(y)?f:'"<a href="'.concat((0,_.escapeHtml)(y),'" target="_blank">').concat(f.substr(1,f.length-2),'</a>"'));case"object":if(y===null)return h("keyword","null");switch(toString.call(y)){case"[object Array]":var p=O.limitCollapsed===!1?y.length:O.limitCollapsed,g=y.slice(0,p).map(function(E){return u(E,!0,O)});return y.length>p&&g.push("".concat(w(y.length-p)," ")),"[".concat(g.join(", "),"]");case"[object Date]":return h("date",y);case"[object RegExp]":return h("regexp",y)}if(S){for(var d in y)if(hasOwnProperty.call(y,d))return"{\u2026}";return"{}"}var l=O.limitCollapsed===!1?1/0:O.limitCollapsed,c=[],v=0;for(var j in y)hasOwnProperty.call(y,j)&&(v<l&&c.push("".concat(h("property",j),": ").concat(u(y[j],!0,O))),v++);return v>l&&c.push(w(v-l)),c.length?"{ ".concat(c.join(", ")," }"):"{}";default:return'unknown type "'.concat(F(y),'"')}};var _=H("../../core/utils/html.js");function F(u){return(F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(u)}var A=/^(?:https?:)?\/\/(?:[a-z0-9]+(?:\.[a-z0-9]+)+|\d+(?:\.\d+){3})(?:\:\d+)?(?:\/\S*?)?$/i;function h(u,y){return'<span class="'.concat(u,'">').concat(y,"</span>")}function w(u){return h("more","\u2026".concat(u," more\u2026"))}},{"../../core/utils/html.js":22}],117:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("switch",function(h,w,u,y){var S=w.content,O='alert-warning:"No case choosen"';if(Array.isArray(S))for(var m=0;m<S.length;m++){var x=S[m];if(x&&A.queryBool(x.when||!0,u,y)){O="data"in x?{view:"context",data:x.data,content:x.content}:x.content;break}}return A.view.render(h,O,u,y)},{tag:!1,usage:F.default})};var _,F=(_=H("./switch.usage.js"))&&_.__esModule?_:{default:_}},{"./switch.usage.js":118}],118:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"switch",data:{enabled:!0},content:[{when:"not enabled",content:'text:"I am disabled"'},{when:"enabled",content:'text:"I am enabled"'}]},examples:[{title:"Using with tabs",demo:{view:"context",modifiers:{view:"tabs",tabs:["foo","bar","baz"],name:"section"},content:{view:"switch",content:[{when:'#.section="foo"',content:'text:"FOO!"'},{when:'#.section="bar"',content:'text:"BAR!!"'},{content:'text:"When no other conditions are met"'}]}}}]}},{}],119:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("tab",function(h,w,u,y){var S=w.content,O=w.active,m=O!==void 0&&O,x=w.disabled,f=x!==void 0&&x,p=w.onClick,g=w.value,d=w.text,l=d===void 0?String(g).replace(/^./,function(c){return c.toUpperCase()}):d;if(A.query(f,u,y)?h.classList.add("disabled"):typeof p=="function"&&(h.addEventListener("click",function(){return p(g)}),h.classList.add("onclick")),m&&h.classList.add("active"),S)return A.view.render(h,S,u,y);h.textContent=l},{usage:F.default})};var _,F=(_=H("./tab.usage.js"))&&_.__esModule?_:{default:_}},{"./tab.usage.js":120}],120:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _=function(){return alert("clicked!")},F={demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}},examples:[{title:"Active & disabled tab",demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two",active:!0},{value:"three",text:"Three",disabled:!0}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}}},{title:"On click handler",demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One",onClick:_},{value:"two",text:"Two",onClick:_},{value:"three",text:"Three",onClick:_}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}}}]};k.default=F},{}],121:[function(H,pe,k){"use strict";function _(A){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(A)}Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("table-cell",function(h,w,u,y){var S=w.content,O=w.details;if(typeof S=="function"){if(!(S=S(u,y)))return;S=S.content}if((O||!S&&u&&_(u)==="object")&&(h.classList.add("details"),h.addEventListener("click",function(m){var x=m.target;if(x===h){var f=x.parentNode,p=f.parentNode,g=Array.from(p.querySelectorAll(".view-table-cell.details-expanded")).find(function(c){return c.parentNode.parentNode===p}),d=null;if(g){var l=g.parentNode;if(g.classList.remove("details-expanded"),g===h)return void f.parentNode.removeChild(f.nextSibling);l!==f?l.parentNode.removeChild(l.nextSibling):(d=f.nextSibling.firstChild).innerHTML=""}d===null&&((d=f.parentNode.insertBefore(document.createElement("tr"),f.nextSibling).appendChild(document.createElement("td"))).parentNode.className="view-table-cell-details-row",d.className="view-cell-details-content",d.colSpan=1e3),h.classList.add("details-expanded"),A.view.render(d,O||F,u,y)}})),S)return A.view.render(h,S,u,y);!function(m,x){if(Array.isArray(x))return m.classList.add("complex"),void(m.textContent=x.length?"[\u2026]":"[]");if(x&&_(x)==="object"){for(var f in m.classList.add("complex"),x)if(Object.prototype.hasOwnProperty.call(x,f))return void(m.textContent="{\u2026}");return void(m.textContent="{}")}if(x===void 0)return void(m.textContent="");typeof x=="number"&&m.classList.add("number"),m.textContent=x}(h,u)},{tag:"td"})};var F={view:"struct",expanded:1}},{}],122:[function(H,pe,k){"use strict";function _(h,w){var u=Object.keys(h);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(h);w&&(y=y.filter(function(S){return Object.getOwnPropertyDescriptor(h,S).enumerable})),u.push.apply(u,y)}return u}function F(h){for(var w=1;w<arguments.length;w++){var u=arguments[w]!=null?arguments[w]:{};w%2?_(Object(u),!0).forEach(function(y){A(h,y,u[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(u)):_(Object(u)).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(u,y))})}return h}function A(h,w,u){return w in h?Object.defineProperty(h,w,{value:u,enumerable:!0,configurable:!0,writable:!0}):h[w]=u,h}Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(h){h.view.define("table-row",function(w,u,y,S){var O=u.cols;if(Array.isArray(O))return Promise.all(O.map(function(m,x){return h.view.render(w,m,y,F(F({},S),{},{colIndex:x}))}))},{tag:"tr"})}},{}],123:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(p){p.view.define("table",function(g,d,l,c){var v=this,j=d.cols,E=d.rowConfig,L=d.limit,W=j&&O(j)==="object"?j:{},V=!1;Array.isArray(l)||(l=l?[l]:[]);var z=g.appendChild((0,A.createElement)("thead")).appendChild((0,A.createElement)("tr")),I=[],P=g.appendChild((0,A.createElement)("tbody")),D=g.appendChild((0,A.createElement)("tbody")).appendChild((0,A.createElement)("tr")).appendChild((0,A.createElement)("td")),N=function(R){P.innerHTML="",D.innerHTML="";var X,le=h(I);try{for(le.s();!(X=le.n()).done;){var ue=X.value,Ce=f(R,ue.sorting);ue.el.classList.toggle("asc",Ce===1),ue.el.classList.toggle("desc",Ce===-1)}}catch(ie){le.e(ie)}finally{le.f()}return p.view.renderList(P,v.composeConfig({view:"table-row",cols:j},E),R,c,0,p.view.listLimit(L,25),D)};if(Array.isArray(j))j=j.map(function(R,X){return typeof R=="string"?x(R):y({header:"col"+X,view:"table-cell"},R)});else{var ne=new Set;j=[],l.forEach(function(R){if(R&&O(R)==="object")for(var X in R)ne.add(X);else V=!0}),Object.keys(W).forEach(function(R){return W[R]?ne.add(R):ne.delete(R)}),V&&j.push({header:"[value]",view:"table-cell",data:String}),ne.forEach(function(R){return j.push(m.call(W,R)?function(X,le){return typeof le=="string"&&(le={content:le}),m.call(le,"content")||m.call(le,"data")?y({header:X,view:"table-cell"},le):y(y({},x(X)),le)}(R,W[R]):x(R))})}var Y,ee=h(j=j.filter(function(R){return!m.call(R,"when")||p.queryBool(R.when,l,c)}));try{var Z=function(){var R=Y.value;if(m.call(R,"whenData")&&R.whenData!==void 0){var X=R.whenData,le=R.content;R.whenData=void 0,R.content=function(se,me){return p.queryBool(X,se,me)?{content:le}:void 0}}var ue=z.appendChild((0,A.createElement)("th")),Ce={el:ue};I.push(Ce),ue.textContent=R.header;var ie=m.call(R,"sorting")?p.query(R.sorting,null,c):function(se,me,Pe){var Ke="",oe="";if("data"in se&&se.data!==void 0)switch(O(se.data)){case"string":oe="(".concat(se.data,")");break;case"function":Ke="$dataQuery;",oe="$dataQuery(#)";break;default:Ke="$dataQuery;",oe="$dataQuery"}if(typeof se.content=="string"){var ce=se.content.indexOf(":");if(ce===-1)return;var _e=se.content.slice(ce+1);_e&&(oe=oe?"(".concat(oe," | ").concat(_e,")"):"(".concat(_e,")"))}return!!oe&&me.query("".concat(Ke," ").concat(oe," ascN"),{dataQuery:se.data},Pe)}(R,p,c),te=typeof ie=="function"?f(l,ie):0;te!==0?(R.sorting=ie,Ce.sorting=ie,ue.classList.add("sortable"),ue.addEventListener("click",function(){ue.classList.contains("asc")?N(l.slice().sort(function(se,me){return-ie(se,me)})):ue.classList.contains("desc")&&!te?N(l):N(l.slice().sort(ie))})):R.sorting=!1};for(ee.s();!(Y=ee.n()).done;)Z()}catch(R){ee.e(R)}finally{ee.f()}return D.colSpan=j.length,N(l)},{tag:"table",usage:F.default})};var _,F=(_=H("./table.usage.js"))&&_.__esModule?_:{default:_},A=H("../core/utils/dom.js");function h(p,g){var d;if(typeof Symbol=="undefined"||p[Symbol.iterator]==null){if(Array.isArray(p)||(d=function(L,W){if(!L)return;if(typeof L=="string")return w(L,W);var V=Object.prototype.toString.call(L).slice(8,-1);if(V==="Object"&&L.constructor&&(V=L.constructor.name),V==="Map"||V==="Set")return Array.from(L);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return w(L,W)}(p))||g&&p&&typeof p.length=="number"){d&&(p=d);var l=0,c=function(){};return{s:c,n:function(){return l>=p.length?{done:!0}:{done:!1,value:p[l++]}},e:function(L){throw L},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,j=!0,E=!1;return{s:function(){d=p[Symbol.iterator]()},n:function(){var L=d.next();return j=L.done,L},e:function(L){E=!0,v=L},f:function(){try{j||d.return==null||d.return()}finally{if(E)throw v}}}}function w(p,g){(g==null||g>p.length)&&(g=p.length);for(var d=0,l=new Array(g);d<g;d++)l[d]=p[d];return l}function u(p,g){var d=Object.keys(p);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(p);g&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(p,c).enumerable})),d.push.apply(d,l)}return d}function y(p){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?arguments[g]:{};g%2?u(Object(d),!0).forEach(function(l){S(p,l,d[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(d)):u(Object(d)).forEach(function(l){Object.defineProperty(p,l,Object.getOwnPropertyDescriptor(d,l))})}return p}function S(p,g,d){return g in p?Object.defineProperty(p,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[g]=d,p}function O(p){return(O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}var m=Object.hasOwnProperty;function x(p){return{header:p,view:"table-cell",data:function(g){return g[p]},sorting:"$[".concat(JSON.stringify(p),"] ascN")}}function f(p,g){if(typeof g!="function")return!1;var d=0;try{for(var l=1;l<p.length;l++){var c=Math.sign(g(p[l-1],p[l]));if(c){if(d&&c!==d)return!1;d=c}}}catch(v){return console.error("[Discovery] Error on column order detection in table view",v),0}return-d}},{"../core/utils/dom.js":21,"./table.usage.js":124}],124:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"table",data:[{foo:1,bar:"bar",baz:"zab"},{foo:2,baz:"xyz"},{foo:3,bar:"qux",baz:"baz"},{foo:4,bar:"aaa",baz:"abc"}]},examples:[{title:"Columns setup",demo:{view:"table",cols:[{header:"Header Col 1",data:"col1",content:'text:"prefix-" + $'},{header:"Header Col 3",data:"col3",content:'text:$ + "-suffix"'}],data:[{col1:"foo",col2:"bar",col3:"baz"},{col1:"qux",col2:"oof",col3:"zab"}]}}]}},{}],125:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(O){O.view.define("tabs",function(m,x,f,p){function g(ee){return d.apply(this,arguments)}function d(){return(d=S(function*(ee){var Z=N?E:j;if(ne!==ee){var R=c||v||l?h(h({},p),{},w({},L,ee)):null;ne=ee,N=!0,Array.isArray(W)&&(z.innerHTML="",c&&(P.innerHTML="",yield O.view.render(P,c,f,R),z.appendChild(P)),yield Promise.all(W.map(function(X){return O.view.render(z,O.view.composeConfig(X,{active:X.value===ne}),f,p)})),v&&(D.innerHTML="",yield O.view.render(D,v,f,R),z.appendChild(D))),l&&(I.innerHTML="",yield O.view.render(I,l,f,R)),typeof Z=="function"&&Z(ne,L,f,p)}})).apply(this,arguments)}var l=x.content,c=x.beforeTabs,v=x.afterTabs,j=x.onInit,E=x.onChange,L=x.name,W=x.tabs,V=x.tabConfig,z=m.appendChild(document.createElement("div")),I=null,P=null,D=null,N=!1,ne=NaN,Y="value"in x?x.value:L in p?p[L]:void 0;return W=O.query(W,f,p),V=O.view.composeConfig({view:"tab",onClick:g},V),z.className="view-tabs-buttons",c&&((P=document.createElement("div")).className="view-tabs-buttons-before"),v&&((D=document.createElement("div")).className="view-tabs-buttons-after"),l&&((I=m.appendChild(document.createElement("div"))).className="view-tabs-content"),typeof L!="string"&&(L="filter"),W=Array.isArray(W)?W.map(function(ee){var Z=u(ee);return Z!=="string"&&Z!=="number"&&Z!=="boolean"||(ee={value:ee}),(Y===void 0||ee.active)&&(Y=ee.value),O.view.composeConfig(V,ee)}):[],g(Y)},{usage:F.default})};var _,F=(_=H("./tabs.usage.js"))&&_.__esModule?_:{default:_};function A(O,m){var x=Object.keys(O);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(O);m&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(O,p).enumerable})),x.push.apply(x,f)}return x}function h(O){for(var m=1;m<arguments.length;m++){var x=arguments[m]!=null?arguments[m]:{};m%2?A(Object(x),!0).forEach(function(f){w(O,f,x[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(x)):A(Object(x)).forEach(function(f){Object.defineProperty(O,f,Object.getOwnPropertyDescriptor(x,f))})}return O}function w(O,m,x){return m in O?Object.defineProperty(O,m,{value:x,enumerable:!0,configurable:!0,writable:!0}):O[m]=x,O}function u(O){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(O)}function y(O,m,x,f,p,g,d){try{var l=O[g](d),c=l.value}catch(v){return void x(v)}l.done?m(c):Promise.resolve(c).then(f,p)}function S(O){return function(){var m=this,x=arguments;return new Promise(function(f,p){var g=O.apply(m,x);function d(c){y(g,f,p,d,l,"next",c)}function l(c){y(g,f,p,d,l,"throw",c)}d(void 0)})}}},{"./tabs.usage.js":126}],126:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _={demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}},examples:[{title:"With before and after content",demo:{view:"tabs",name:"example",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],beforeTabs:'text:"<Content before tabs>"',afterTabs:'text:"<Content after tabs>"',content:'text:"Selected: " + #.example'}},{title:"On change handler",demo:{view:"tabs",name:"example",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],onChange:new Function('return (value) => alert("changed to " + value)')(),content:'text:"Selected: " + #.example'}}]};k.default=_},{}],127:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(u){u.view.define("text-match",function(y,S,O){var m=O||{},x=m.text,f=m.match,p=m.ignoreCase,g=p!==void 0&&p;(0,A.matchAll)(String(x),f,function(d){return y.appendChild((0,F.createText)(d))},function(d){return y.appendChild(w.cloneNode()).appendChild((0,F.createText)(d))},g)},{tag:!1,usage:h.default})};var _,F=H("../core/utils/dom.js"),A=H("../core/utils/pattern.js"),h=(_=H("./text-match.usage.js"))&&_.__esModule?_:{default:_},w=(0,F.createElement)("span","view-text-match")},{"../core/utils/dom.js":21,"../core/utils/pattern.js":26,"./text-match.usage.js":128}],128:[function(H,pe,k){"use strict";function _(h,w){var u=Object.keys(h);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(h);w&&(y=y.filter(function(S){return Object.getOwnPropertyDescriptor(h,S).enumerable})),u.push.apply(u,y)}return u}function F(h,w,u){return w in h?Object.defineProperty(h,w,{value:u,enumerable:!0,configurable:!0,writable:!0}):h[w]=u,h}Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var A={demo:{view:"text-match",data:{text:"I am matched text or a text with matches!",match:/match/}},examples:[{title:"Raw string as match",demo:{view:"text-match",data:{text:"I am matched text or a text with matches!",match:"match"}}},{title:"Using with a link",demo:{view:"link",data:{href:"#"},content:'text-match:{ text: "Test link", match: /\\w+/i }'}},{title:"Various configurations",demo:{view:"table",cols:[{header:"text-match",content:"text-match"},{header:"Config",content:"struct"}],data:[null,{},{},{match:"test"},{match:"Test"},{match:"test",ignoreCase:!0},{match:"Test",ignoreCase:!0},{match:/test/},{match:/test/g},{match:/test/i},{match:/test/,ignoreCase:!0},{match:/test/g,ignoreCase:!0}].map(function(h,w){return w>1?function(u){for(var y=1;y<arguments.length;y++){var S=arguments[y]!=null?arguments[y]:{};y%2?_(Object(S),!0).forEach(function(O){F(u,O,S[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(S)):_(Object(S)).forEach(function(O){Object.defineProperty(u,O,Object.getOwnPropertyDescriptor(S,O))})}return u}({text:"test Test"},h):h})}}]};k.default=A},{}],129:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("text",function(h,w,u){h.appendChild(document.createTextNode(String(u)))},{tag:!1,usage:F.default})};var _,F=(_=H("./text.usage.js"))&&_.__esModule?_:{default:_}},{"./text.usage.js":130}],130:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default={demo:{view:"text",data:'"Hello world!"'},examples:[{title:"Shorthand usage",view:'text:"Hello world!"'}]}},{}],131:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(_){_.view.define("toc-section",function(F,A,h,w){var u=A.header,y=A.content;return _.view.render(F,[{view:"block",className:"header",content:u},{view:"block",className:"content",content:y}],h,w)},{tag:"section"})}},{}],132:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(O){O.view.define("toggle-group",function(m,x,f,p){function g(N,ne){return d.apply(this,arguments)}function d(){return(d=S(function*(N,ne){var Y=I?j:v;P!==ne&&(P=ne,I=!0,Array.isArray(W)&&(m.innerHTML="",l&&(V.innerHTML="",yield O.view.render(V,l,f,h(h({},p),{},w({},E,ne))),m.appendChild(V)),c&&(z.innerHTML="",yield O.view.render(z,c,f,h(h({},p),{},w({},E,ne))),m.appendChild(z)),yield Promise.all(W.map(function(ee,Z){return O.view.render(m,O.view.composeConfig(ee,{checked:ee.value===P}),f[Z],p)}))),typeof Y=="function"&&Y(P,E,f,p))})).apply(this,arguments)}var l=x.beforeToggles,c=x.afterToggles,v=x.onInit,j=x.onChange,E=x.name,L=x.toggleConfig,W=[],V=null,z=null,I=!1,P=NaN,D="value"in x?x.value:E in p?p[E]:void 0;return L=O.view.composeConfig({view:"toggle",onToggle:g},L),l&&((V=document.createElement("div")).className="view-toggle-group-before"),c&&((z=document.createElement("div")).className="view-toggle-group-after"),typeof E!="string"&&(E="filter"),Array.isArray(f)&&(W=f.map(function(N){var ne=u(N);return ne!=="string"&&ne!=="number"&&ne!=="boolean"||(N={value:N}),(D===void 0||N.active)&&(D=N.value),O.view.composeConfig(L,N)})),g(!0,D)},{usage:F.default})};var _,F=(_=H("./toggle-group.usage.js"))&&_.__esModule?_:{default:_};function A(O,m){var x=Object.keys(O);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(O);m&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(O,p).enumerable})),x.push.apply(x,f)}return x}function h(O){for(var m=1;m<arguments.length;m++){var x=arguments[m]!=null?arguments[m]:{};m%2?A(Object(x),!0).forEach(function(f){w(O,f,x[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(x)):A(Object(x)).forEach(function(f){Object.defineProperty(O,f,Object.getOwnPropertyDescriptor(x,f))})}return O}function w(O,m,x){return m in O?Object.defineProperty(O,m,{value:x,enumerable:!0,configurable:!0,writable:!0}):O[m]=x,O}function u(O){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(O)}function y(O,m,x,f,p,g,d){try{var l=O[g](d),c=l.value}catch(v){return void x(v)}l.done?m(c):Promise.resolve(c).then(f,p)}function S(O){return function(){var m=this,x=arguments;return new Promise(function(f,p){var g=O.apply(m,x);function d(c){y(g,f,p,d,l,"next",c)}function l(c){y(g,f,p,d,l,"throw",c)}d(void 0)})}}},{"./toggle-group.usage.js":133}],133:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _={demo:{view:"context",modifiers:{view:"toggle-group",name:"toggleValue",data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}]},content:{view:"switch",content:[{when:'#.toggleValue="one"',content:'text:"One"'},{when:'#.toggleValue="two"',content:'text:"Two"'},{when:'#.toggleValue="three"',content:'text:"Three"'}]}},examples:[{title:"With before and after content",demo:{view:"toggle-group",data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],beforeToggles:'text:"<Content before toggles>"',afterToggles:'text:"<Content after toggles>"'}},{title:"On change handler",demo:{view:"toggle-group",name:"example",onChange:new Function('return (value) => alert("changed to " + value)')(),data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}]}}]};k.default=_},{}],134:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){A.view.define("toggle",function(h,w,u,y){var S=w.content,O=w.disabled,m=O!==void 0&&O,x=w.onToggle,f=w.value,p=w.text,g=p===void 0?String(f).replace(/^./,function(c){return c.toUpperCase()}):p,d=w.checked,l=d!==void 0&&d;if(m?h.classList.add("disabled"):typeof x=="function"&&(h.addEventListener("click",function(){x(l=!l,f)}),h.classList.add("onclick")),l&&h.classList.add("checked"),S)return A.view.render(h,S,u,y);h.textContent=g},{usage:F.default})};var _,F=(_=H("./toggle-group.usage.js"))&&_.__esModule?_:{default:_}},{"./toggle-group.usage.js":133}],135:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){var h=new WeakMap;A.addGlobalEventListener("click",function(y){var S=y.target.closest(".view-tree-leaf-toggle");if(S){var O=h.get(S),m=!S.parentNode.classList.toggle("collapsed");typeof O.render=="function"&&O.render(),typeof O.onToggle=="function"&&O.onToggle(m,S.parentNode,O.data,O.context)}},!1),A.view.define("tree-leaf",(w=function*(y,S,O,m){var x=this,f=S.expanded,p=S.content,g=p===void 0?"text":p,d=S.itemConfig,l=S.collapsible,c=l===void 0||l,v=S.last,j=S.hasChildren,E=S.children,L=S.limit,W=S.onToggle,V=y.appendChild((0,_.createElement)("span","view-tree-leaf-toggle")),z=y.appendChild((0,_.createElement)("span","view-tree-leaf-content")),I=null,P=j;if(v&&y.classList.add("last"),c||y.classList.add("non-collapsible"),yield this.render(z,g,O,m),E&&(I=A.query(E,O,m),P=Array.isArray(I)&&I.length>0),P){var D=y.appendChild((0,_.createElement)("ul","view-tree-leaf-children")),N={data:O,context:m,onToggle:W,render:null},ne=function(Y,ee){typeof ee=="number"&&ee--,x.renderList(D,x.composeConfig({view:"tree-leaf",expanded:ee,itemConfig:d,content:g,collapsible:c,children:E,limit:L,onToggle:W},d),Y,m,0,x.listLimit(L,25))};y.classList.add("has-children"),h.set(V,N),(typeof f=="function"?f(O,m):f)?I&&(yield ne(I,f)):(y.classList.add("collapsed"),I&&(N.render=function(){N.render=null,ne(I,f||1)}))}},u=function(){var y=this,S=arguments;return new Promise(function(O,m){var x=w.apply(y,S);function f(g){F(x,O,m,f,p,"next",g)}function p(g){F(x,O,m,f,p,"throw",g)}f(void 0)})},function(y,S,O,m){return u.apply(this,arguments)}),{tag:"li"});var w,u};var _=H("../core/utils/dom.js");function F(A,h,w,u,y,S,O){try{var m=A[S](O),x=m.value}catch(f){return void w(f)}m.done?h(x):Promise.resolve(x).then(u,y)}},{"../core/utils/dom.js":21}],136:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(A){function h(w,u,y,S,O,m){return m===!1&&(m=y.length),w.classList.add("incomplete"),y.slice(O,O+m).reduce(function(x,f){return x.then(function(){var p=u,g=p.container,d=p.itemConfig;return A.view.render(g,A.view.composeConfig(d,{expanded:f.expanded,last:f.last,hasChildren:f.hasChildren,children:f.children}),f.data,S).then(function(){if(f.expanded&&f.hasChildren){var l=g.lastChild.querySelector(".view-tree-leaf-children");l.classList.add("incomplete"),u={container:l,itemConfig:A.view.composeConfig(d,d.itemConfig),prev:u}}else for(;f.shift--;)u.container.classList.remove("incomplete"),u=u.prev})})},Promise.resolve()).then(function(){return A.view.maybeMoreButtons(w,null,y.length,O+m,m,function(x,f){return h(w,u,y,S,x,f)})||w.classList.remove("incomplete")})}A.view.define("tree",function(w,u,y,S){var O=u.children,m=O===void 0?"children":O,x=u.item,f=x===void 0?"text":x,p=u.itemConfig,g=u.collapsible,d=u.emptyText,l=u.onToggle,c=u.expanded,v=u.limit,j=u.limitLines,E=j===void 0||j;if(d!==!1&&d!==""&&w.setAttribute("emptyText",d||"Empty tree"),!Array.isArray(y)&&y&&(y=[y]),Array.isArray(y)){if(v=A.view.listLimit(v,25),E=A.view.listLimit(E,25),c=typeof c=="function"?c:A.view.listLimit(c,1),E){var L=function(W,V,z,I){var P=[],D=new Set;return function N(ne,Y,ee){var Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;ne.forEach(function(R,X,le){var ue=A.query(ee.children,R,V),Ce=Array.isArray(ue)&&ue.length>0,ie=X===le.length-1,te=D.has(R)?0:typeof Y=="function"?Y(R,V):Y;D.add(R),P.push({data:R,expanded:te,last:ie,hasChildren:Ce,children:te?null:ee.children,shift:!ie||te&&Ce?0:Z+1}),Ce&&te&&N(ue,typeof Y=="number"?Y-1:Y,A.view.composeConfig(ee,ee.itemConfig),ie?Z+1:0)})}(W,I,z),P}(y,S,this.composeConfig({children:m},p),c);return h(w,{container:w,itemConfig:this.composeConfig({view:"tree-leaf",itemConfig:p,content:f,collapsible:g,onToggle:l},p)},L,S,0,E)}return this.renderList(w,this.composeConfig({view:"tree-leaf",itemConfig:p,content:f,collapsible:g,expanded:c,children:m,limit:v,onToggle:l},p),y,S,0,v)}},{tag:"ul",usage:F.default})};var _,F=(_=H("./tree.usage.js"))&&_.__esModule?_:{default:_}},{"./tree.usage.js":137}],137:[function(H,pe,k){"use strict";function _(h){return function(w){if(Array.isArray(w))return w}(h)||function(w){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(w))return Array.from(w)}(h)||function(w,u){if(!w)return;if(typeof w=="string")return F(w,u);var y=Object.prototype.toString.call(w).slice(8,-1);if(y==="Object"&&w.constructor&&(y=w.constructor.name),y==="Map"||y==="Set")return Array.from(w);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return F(w,u)}(h)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function F(h,w){(w==null||w>h.length)&&(w=h.length);for(var u=0,y=new Array(w);u<w;u++)y[u]=h[u];return y}Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var A={demo:{view:"tree",item:"text:text",data:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},examples:[{title:"Expanded tree",demo:{view:"tree",item:"text:text",expanded:999,data:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}}},{title:"With empty text",demo:{view:"tree",emptyText:"This tree is empty",data:null}},{title:"With toggle handler",demo:{view:"tree",item:"text:text",onToggle:function(){return alert("toggled!")},data:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}}},{title:"limitLines",demo:{view:"tree",item:"text:title",limitLines:7,data:function h(w){for(var u=_(w),y=u[0],S=u.slice(1),O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",m=[],x=0;x<y;x++){var f=O+"."+(x+1);m.push({title:f,children:S.length?h(S,f):null})}return m}([5,3,3])}}]};k.default=A},{}],138:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.DarkModeController=void 0;var _=H("../core/utils/persistent.js");function F(p,g){for(var d=0;d<g.length;d++){var l=g[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(p,l.key,l)}}function A(p,g){var d;if(typeof Symbol=="undefined"||p[Symbol.iterator]==null){if(Array.isArray(p)||(d=function(L,W){if(!L)return;if(typeof L=="string")return h(L,W);var V=Object.prototype.toString.call(L).slice(8,-1);if(V==="Object"&&L.constructor&&(V=L.constructor.name),V==="Map"||V==="Set")return Array.from(L);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return h(L,W)}(p))||g&&p&&typeof p.length=="number"){d&&(p=d);var l=0,c=function(){};return{s:c,n:function(){return l>=p.length?{done:!0}:{done:!1,value:p[l++]}},e:function(L){throw L},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,j=!0,E=!1;return{s:function(){d=p[Symbol.iterator]()},n:function(){var L=d.next();return j=L.done,L},e:function(L){E=!0,v=L},f:function(){try{j||d.return==null||d.return()}finally{if(E)throw v}}}}function h(p,g){(g==null||g>p.length)&&(g=p.length);for(var d=0,l=new Array(g);d<g;d++)l[d]=p[d];return l}var w=new Set([!0,!1,"auto","disabled"]),u=new Set,y=matchMedia("(prefers-color-scheme:dark)"),S=(0,_.localStorageEntry)("discoveryjs:darkmode"),O=new Map([["true",!0],["false",!1],["auto","auto"]]),m=null;function x(p){var g=O.has(p)?O.get(p):null;if(m!==g){m=g;var d,l=A(u);try{for(l.s();!(d=l.n()).done;){var c=d.value;c.persistent&&c.mode!=="disabled"&&c.set(g!==null?g:"auto")}}catch(v){l.e(v)}finally{l.f()}}}x(S.value),S.on(x),y.addListener(function(){var p,g=A(u);try{for(g.s();!(p=g.n()).done;){var d=p.value;d.mode==="auto"&&d.set("auto")}}catch(l){g.e(l)}finally{g.f()}});var f=function(){function p(c,v){!function(j,E){if(!(j instanceof E))throw new TypeError("Cannot call a class as a function")}(this,p),this.persistent=v?S:null,this.handlers=[],this.set(c!=="disabled"&&this.persistent!==null&&m!==null?m:c,!0),u.add(this)}var g,d,l;return g=p,(d=[{key:"on",value:function(c,v){var j=this,E={fn:c};return this.handlers.push(E),v&&E.fn(this.value,this.mode),function(){var L=j.handlers.indexOf(E);E=null,L!==-1&&j.handlers.splice(L,1)}}},{key:"destroy",value:function(){u.delete(this)}},{key:"set",value:function(c,v){var j=this,E=this.value,L=this.mode;w.has(c)||(console.warn('Bad value "'+c+'" for darkmode, fallback to "disabled"'),c="disabled"),this.mode=typeof c=="boolean"?"manual":c,this.value=this.mode==="auto"?y.matches:c===!0,this.mode!=="disabled"&&(this.persistent&&!v&&this.persistent.set(this.mode==="auto"?"auto":this.value),this.value===E&&this.mode===L||this.handlers.forEach(function(W){return(0,W.fn)(j.value,j.mode)}))}},{key:"toggle",value:function(c){switch(this.mode){case"auto":this.set(!y.matches);break;case"manual":this.set(c&&this.value!==y.matches?"auto":!this.value)}}}])&&F(g.prototype,d),l&&F(g,l),p}();k.DarkModeController=f},{"../core/utils/persistent.js":27}],139:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var _=v(H("../core/emitter.js")),F=v(H("../core/view.js")),A=v(H("../core/preset.js")),h=v(H("../core/page.js")),w=v(H("../core/object-marker.js")),u=v(H("../core/publisher.js")),y=c(H("../views/index.js")),S=c(H("../pages/index.js")),O=H("../core/utils/dom.js"),m=v(H("../inspector/index.js")),x=H("../core/utils/compare.js"),f=H("./darkmode.js"),p=H("./nav.js"),g=c(H("../lib.js")),d=v(H("/gen/jora.js"));function l(){if(typeof WeakMap!="function")return null;var oe=new WeakMap;return l=function(){return oe},oe}function c(oe){if(oe&&oe.__esModule)return oe;if(oe===null||I(oe)!=="object"&&typeof oe!="function")return{default:oe};var ce=l();if(ce&&ce.has(oe))return ce.get(oe);var _e={},Ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Je in oe)if(Object.prototype.hasOwnProperty.call(oe,Je)){var ft=Ee?Object.getOwnPropertyDescriptor(oe,Je):null;ft&&(ft.get||ft.set)?Object.defineProperty(_e,Je,ft):_e[Je]=oe[Je]}return _e.default=oe,ce&&ce.set(oe,_e),_e}function v(oe){return oe&&oe.__esModule?oe:{default:oe}}function j(oe,ce){return function(_e){if(Array.isArray(_e))return _e}(oe)||function(_e,Ee){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(_e)))return;var Je=[],ft=!0,be=!1,je=void 0;try{for(var ye,ke=_e[Symbol.iterator]();!(ft=(ye=ke.next()).done)&&(Je.push(ye.value),!Ee||Je.length!==Ee);ft=!0);}catch(dt){be=!0,je=dt}finally{try{ft||ke.return==null||ke.return()}finally{if(be)throw je}}return Je}(oe,ce)||V(oe,ce)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function E(oe,ce,_e,Ee,Je,ft,be){try{var je=oe[ft](be),ye=je.value}catch(ke){return void _e(ke)}je.done?ce(ye):Promise.resolve(ye).then(Ee,Je)}function L(oe){return function(ce){if(Array.isArray(ce))return z(ce)}(oe)||function(ce){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(ce))return Array.from(ce)}(oe)||V(oe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function W(oe,ce){var _e;if(typeof Symbol=="undefined"||oe[Symbol.iterator]==null){if(Array.isArray(oe)||(_e=V(oe))||ce&&oe&&typeof oe.length=="number"){_e&&(oe=_e);var Ee=0,Je=function(){};return{s:Je,n:function(){return Ee>=oe.length?{done:!0}:{done:!1,value:oe[Ee++]}},e:function(ye){throw ye},f:Je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ft,be=!0,je=!1;return{s:function(){_e=oe[Symbol.iterator]()},n:function(){var ye=_e.next();return be=ye.done,ye},e:function(ye){je=!0,ft=ye},f:function(){try{be||_e.return==null||_e.return()}finally{if(je)throw ft}}}}function V(oe,ce){if(oe){if(typeof oe=="string")return z(oe,ce);var _e=Object.prototype.toString.call(oe).slice(8,-1);return _e==="Object"&&oe.constructor&&(_e=oe.constructor.name),_e==="Map"||_e==="Set"?Array.from(oe):_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e)?z(oe,ce):void 0}}function z(oe,ce){(ce==null||ce>oe.length)&&(ce=oe.length);for(var _e=0,Ee=new Array(ce);_e<ce;_e++)Ee[_e]=oe[_e];return Ee}function I(oe){return(I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(oe)}function P(oe,ce){for(var _e=0;_e<ce.length;_e++){var Ee=ce[_e];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(oe,Ee.key,Ee)}}function D(oe,ce){return(D=Object.setPrototypeOf||function(_e,Ee){return _e.__proto__=Ee,_e})(oe,ce)}function N(oe){var ce=function(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(_e){return!1}}();return function(){var _e,Ee=ee(oe);if(ce){var Je=ee(this).constructor;_e=Reflect.construct(Ee,arguments,Je)}else _e=Ee.apply(this,arguments);return ne(this,_e)}}function ne(oe,ce){return!ce||I(ce)!=="object"&&typeof ce!="function"?Y(oe):ce}function Y(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function ee(oe){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(ce){return ce.__proto__||Object.getPrototypeOf(ce)})(oe)}function Z(oe,ce){var _e=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(oe);ce&&(Ee=Ee.filter(function(Je){return Object.getOwnPropertyDescriptor(oe,Je).enumerable})),_e.push.apply(_e,Ee)}return _e}function R(oe){for(var ce=1;ce<arguments.length;ce++){var _e=arguments[ce]!=null?arguments[ce]:{};ce%2?Z(Object(_e),!0).forEach(function(Ee){X(oe,Ee,_e[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(_e)):Z(Object(_e)).forEach(function(Ee){Object.defineProperty(oe,Ee,Object.getOwnPropertyDescriptor(_e,Ee))})}return oe}function X(oe,ce,_e){return ce in oe?Object.defineProperty(oe,ce,{value:_e,enumerable:!0,configurable:!0,writable:!0}):oe[ce]=_e,oe}var le=new WeakMap,ue=new WeakMap,Ce=new WeakMap,ie=function(oe){return oe},te=function(oe){return Object.fromEntries(oe)};function se(oe,ce,_e){_e?oe.dataset[ce]=!0:delete oe.dataset[ce]}function me(oe,ce,_e,Ee){var Je=function(ft,be,je,ye){var ke=ft.page.get(be);return ke&&Object.hasOwnProperty.call(ke.options,je)?ke.options[je]:ye}(oe,ce,_e,Ee);return typeof Je=="function"?Je:Ee}function Pe(oe){var ce=new w.default,_e=[],Ee=[],Je=function(ye,ke){return ce.lookup(ye,ke)},ft=function(ye){return ce.lookupAll(ye)},be={query:function(){return oe.query.apply(oe,arguments)},pageLink:function(ye,ke,dt){return oe.encodePageHash(ke,ye,dt)},marker:Je,markerAll:ft},je=function(ye){var ke=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof ke=="boolean"&&(ke={debug:ke}),Ee.push(R({query:ye},ke))};return{apply:function(){Object.assign(oe,{objectMarkers:ce,linkResolvers:_e,annotations:Ee,queryFnFromString:d.default.setup(be)})},methods:{lookupObjectMarker:Je,lookupObjectMarkerAll:ft,defineObjectMarker:function(ye,ke){var dt=ce.define(ye,ke)||{},kt=dt.page,pt=dt.mark,Ot=dt.lookup;if(!Ot)return function(){};if(kt!==null){if(!oe.page.isDefined(ke.page))return void console.error('[Discovery] Page reference "'.concat(ke.page,`" doesn't exist`));_e.push(function(sn){var Vt=Ot(sn);if(Vt!==null)return{type:kt,text:Vt.title,href:Vt.href,entity:Vt.object}}),je(function(sn,Vt){var Mt=Ot(sn);if(Mt&&Mt.object!==Vt.host)return{place:"before",style:"badge",text:kt,href:Mt.href}})}else je(function(sn,Vt){var Mt=Ot(sn);if(Mt&&Mt.object!==Vt.host)return{place:"before",style:"badge",text:ye}});return pt},addValueAnnotation:je,addQueryHelpers:function(ye){Object.assign(be,ye)}}}}var Ke=function(oe){!function(be,je){if(typeof je!="function"&&je!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(je&&je.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),je&&D(be,je)}(ft,oe);var ce,_e,Ee,Je=N(ft);function ft(be,je,ye){var ke;!function(Vt,Mt){if(!(Vt instanceof Mt))throw new TypeError("Cannot call a class as a function")}(this,ft),(ke=Je.call(this)).lib=g,ke.options=ye||{},ke.view=new F.default(Y(ke)),ke.nav=new p.WidgetNavigation(Y(ke)),ke.preset=new A.default(ke.view),ke.page=new h.default(Y(ke)),ke.page.on("define",function(Vt,Mt){if(Mt.options.resolveLink!==void 0&&console.warn('"resolveLink" in "page.define()" options is deprecated, use "page" option for "defineObjectMarker()" method in prepare function'),ke.pageId===Vt&&ke.pageHash!=="#"){var Me=ke.pageHash;ke.pageHash="#",ke.setPageHash(Me),ke.cancelScheduledRender()}}),Ce.set(Y(ke),new Set),ke.prepare=function(Vt){return Vt},Pe(Y(ke)).apply(),ke.defaultPageId=ke.options.defaultPageId||"default",ke.reportPageId=ke.options.reportPageId||"report",ke.pageId=ke.defaultPageId,ke.pageRef=null,ke.pageParams={},ke.pageHash=ke.encodePageHash(ke.pageId,ke.pageRef,ke.pageParams);var dt=ke.options,kt=dt.darkmode,pt=kt===void 0?"disabled":kt,Ot=dt.darkmodePersistent,sn=Ot!==void 0&&Ot;return ke.darkmode=new f.DarkModeController(pt,sn),ke.instanceId=function(){for(var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,Mt=function(ge){return Math.round(ge).toString(36)},Me=Mt(10+25*Math.random());Me.length<Vt;)Me+=Mt(Date.now()*Math.random());return Me.substr(0,Vt)}(),ke.isolateStyleMarker=ke.options.isolateStyleMarker||"style-boundary-8H37xEyN",ke.inspectMode=new u.default(!1),ke.dom={},ke.apply(y),ke.apply(S),je&&ke.page.define(ke.defaultPageId,je),ke.options.extensions&&ke.apply(ke.options.extensions),ke.setContainer(be),ke}return ce=ft,(_e=[{key:"apply",value:function(be){var je=this;Array.isArray(be)?be.forEach(function(ye){return je.apply(ye)}):typeof be=="function"?be.call(window,this):be?this.apply(Object.values(be)):console.error("Bad type of extension:",be)}},{key:"setPrepare",value:function(be){if(typeof be!="function")throw new Error("An argument should be a function");this.prepare=be}},{key:"setData",value:function(be){var je=this,ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=Date.now(),dt=Pe(this),kt=function(){if(le.get(je)!==pt)throw new Error("Prevented by another setData()")},pt=Promise.resolve(be).then(function(Ot){return kt(),je.prepare(Ot,dt.methods)||Ot}).then(function(Ot){kt(),je.data=Ot,je.context=ye,dt.apply(),je.emit("data"),console.log("[Discovery] Data prepared in ".concat(Date.now()-ke,"ms"))});return le.set(this,pt),pt.then(function(){je.scheduleRender("sidebar"),je.scheduleRender("page")}),pt}},{key:"addEntityResolver",value:function(){console.error('[Discovery] "Widget#addEntityResolver()" method was removed, use "defineObjectMarker()" instead, i.e. setPrepare((data, { defineObjectMarker }) => objects.forEach(defineObjectMarker(...)))')}},{key:"addValueLinkResolver",value:function(){console.error('[Discovery] "Widget#addValueLinkResolver()" method was removed, use "defineObjectMarker()" with "page" option instead, i.e. setPrepare((data, { defineObjectMarker }) => objects.forEach(defineObjectMarker("marker-name", { ..., page: "page-name" })))')}},{key:"resolveValueLinks",value:function(be){var je=[],ye=I(be);if(be&&(ye==="object"||ye==="string")){var ke,dt=W(this.linkResolvers);try{for(dt.s();!(ke=dt.n()).done;){var kt=(0,ke.value)(be);kt&&je.push(kt)}}catch(pt){dt.e(pt)}finally{dt.f()}}return je.length?je:null}},{key:"queryFn",value:function(be){switch(I(be)){case"function":return be;case"string":return this.queryFnFromString(be)}}},{key:"query",value:function(be,je,ye){switch(I(be)){case"function":return be(je,ye);case"string":return this.queryFn(be)(je,ye);default:return be}}},{key:"queryBool",value:function(){return d.default.buildin.bool(this.query.apply(this,arguments))}},{key:"queryToConfig",value:function(be,je){var ye=d.default.syntax.parse(je).ast,ke={view:be};if(ye.type!=="Block")throw new SyntaxError('[Discovery] Widget#queryToConfig(): query root must be a "Block"');if(ye.body.type!=="Object")throw new SyntaxError('[Discovery] Widget#queryToConfig(): query root must return an "Object"');var dt,kt=W(ye.body.properties);try{for(kt.s();!(dt=kt.n()).done;){var pt=dt.value;if(pt.type!=="ObjectEntry")throw new SyntaxError('[Discovery] Widget#queryToConfig(): unsupported object entry type "'+pt.type+'"');var Ot=void 0;switch(pt.key.type){case"Literal":Ot=pt.key.value;break;case"Identifier":Ot=pt.key.name,pt.value=pt.value||pt.key;break;case"Reference":Ot=pt.key.name.name,pt.value=pt.value||pt.key;break;default:throw new SyntaxError('[Discovery] Widget#queryToConfig(): unsupported object key type "'+pt.key.type+'"')}if(Ot==="view"||Ot==="postRender"||Ot==="className")throw new SyntaxError('[Discovery] Widget#queryToConfig(): set a value for "'+Ot+'" property via query is prohibited');Ot==="when"||Ot==="data"||Ot==="whenData"?pt.value.type==="Literal"?ke[Ot]=typeof pt.value.value=="string"?JSON.stringify(pt.value.value):pt.value.value:ke[Ot]=d.default.syntax.stringify(pt.value):ke[Ot]=pt.value.type!=="Literal"||typeof pt.value.value=="string"&&pt.value.value[0]==="="?"="+d.default.syntax.stringify(pt.value):pt.value.value}}catch(sn){kt.e(sn)}finally{kt.f()}return ke}},{key:"querySuggestions",value:function(be,je,ye,ke){var dt,kt=["property","value","method"];try{var pt=ue.get(this);if(pt&&pt.query===be&&pt.data===ye&&pt.context===ke||(ue.set(this,pt={query:be,data:ye,context:ke,suggestion:function(){}}),Object.assign(pt,this.queryFnFromString(be,{tolerant:!0,stat:!0})(ye,ke))),dt=pt.suggestion(je))return dt.filter(function(Ot){return Ot.value!==Ot.current&&(0,x.fuzzyStringCompare)(Ot.current,Ot.value)}).sort(function(Ot,sn){return kt.indexOf(Ot.type)-kt.indexOf(sn.type)||(Ot.value<sn.value?-1:1)})}catch(Ot){return console.groupCollapsed("[Discovery] Error on getting suggestions for query"),console.error(Ot),void console.groupEnd()}}},{key:"pathToQuery",value:function(be){return be.map(function(je,ye){return je==="*"?ye===0?"values()":".values()":typeof je!="number"&&/^[a-zA-Z_][a-zA-Z_$0-9]*$/.test(je)?ye===0?je:"."+je:ye===0?"$[".concat(JSON.stringify(je),"]"):"[".concat(JSON.stringify(je),"]")}).join("")}},{key:"getQueryEngineInfo",value:function(){return{name:"jora",version:d.default.version,link:"https://github.com/discoveryjs/jora"}}},{key:"addQueryHelpers",value:function(){console.error('[Discovery] "Widget#addQueryHelpers()" method was removed, use "addQueryHelpers()" instead, i.e. setPrepare((data, { addQueryHelpers }) => addQueryHelpers(...))')}},{key:"getDomRoots",value:function(){return L(document.querySelectorAll("[data-discovery-instance-id=".concat(JSON.stringify(this.instanceId),"]")))}},{key:"setContainer",value:function(be){var je=this,ye=be||null,ke=this.dom;if(this.dom.container!==ye){if(this.dom={},typeof ke.detachDarkMode=="function"&&ke.detachDarkMode(),ye!==null)this.dom.container=ye,this.dom.detachDarkMode=this.darkmode.on(function(kt){return new Set([ye].concat(L(je.getDomRoots()))).forEach(function(pt){return pt.classList.toggle("discovery-root-darkmode",kt)})}),ye.classList.add("discovery-root","discovery",this.isolateStyleMarker),ye.classList.toggle("discovery-root-darkmode",this.darkmode.value),ye.dataset.discoveryInstanceId=this.instanceId,ye.append(this.dom.sidebar=(0,O.createElement)("nav","discovery-sidebar"),this.dom.content=(0,O.createElement)("main","discovery-content",[this.dom.nav=(0,O.createElement)("div","discovery-nav"),this.dom.pageContent=(0,O.createElement)("article")])),ye.style.transition="none",requestAnimationFrame(function(){return ye.style.transition=""}),this.nav.render(this.dom.nav),(0,m.default)(this);else for(var dt in this.dom)this.dom[dt]=null;this.emit("container-changed",this.dom,ke)}}},{key:"addGlobalEventListener",value:function(be,je,ye){var ke=this.instanceId,dt=function(kt){var pt=kt.target!==document?kt.target.closest("[data-discovery-instance-id]"):null;pt&&pt.dataset.discoveryInstanceId===ke&&je.call(this,kt)};return document.addEventListener(be,dt,ye),function(){return document.removeEventListener(be,dt,ye)}}},{key:"addBadge",value:function(){console.error("Widget#addBadge() is obsoleted, use Widget#nav API instead")}},{key:"scheduleRender",value:function(be){var je,ye=this,ke=Ce.get(this);ke.has(be)||(ke.add(be),ke.timer||(ke.timer=Promise.resolve().then((je=function*(){var dt,kt=W(ke);try{for(kt.s();!(dt=kt.n()).done;)switch(dt.value){case"sidebar":yield ye.renderSidebar();break;case"page":yield ye.renderPage()}}catch(pt){kt.e(pt)}finally{kt.f()}ke.timer=null},function(){var dt=this,kt=arguments;return new Promise(function(pt,Ot){var sn=je.apply(dt,kt);function Vt(Me){E(sn,pt,Ot,Vt,Mt,"next",Me)}function Mt(Me){E(sn,pt,Ot,Vt,Mt,"throw",Me)}Vt(void 0)})}))))}},{key:"cancelScheduledRender",value:function(be){var je=Ce.get(this);je&&(be?je.delete(be):je.clear())}},{key:"getRenderContext",value:function(){return R({page:this.pageId,id:this.pageRef,params:this.pageParams},this.context)}},{key:"renderSidebar",value:function(){if(Ce.get(this).delete("sidebar"),this.view.isDefined("sidebar")){var be=Date.now(),je=this.data,ye=this.getRenderContext();return this.view.setViewRoot(this.dom.sidebar,"sidebar",{data:je,context:ye}),this.dom.sidebar.innerHTML="",this.view.render(this.dom.sidebar,"sidebar",je,ye).then(function(){return console.log("[Discovery] Sidebar rendered in ".concat(Date.now()-be,"ms"))})}}},{key:"encodePageHash",value:function(be,je,ye){var ke=me(this,be,"encodeParams",ie)(ye||{});return ke&&typeof ke!="string"&&(Array.isArray(ke)||(ke=Object.entries(ke)),ke=ke.map(function(dt){return dt.map(encodeURIComponent).join("=")}).join("&")),"#".concat(be!==this.defaultPageId?encodeURIComponent(be):"").concat(typeof je=="string"&&je||typeof je=="number"?":"+encodeURIComponent(je):"").concat(ke?"&"+ke:"")}},{key:"decodePageHash",value:function(be){var je=(be.indexOf("&")+1||be.length+1)-1,ye=j(be.substring(1,je).split(":").map(decodeURIComponent),2),ke=ye[0],dt=ye[1],kt=me(this,ke||this.defaultPageId,"decodeParams",te),pt=be.substr(je+1).split("&").filter(Boolean).map(function(Ot){var sn=Ot.indexOf("=");return sn!==-1?[decodeURIComponent(Ot.slice(0,sn)),decodeURIComponent(Ot.slice(sn+1))]:[decodeURIComponent(Ot),!0]});return{pageId:ke||this.defaultPageId,pageRef:dt,pageParams:kt(pt)}}},{key:"setPage",value:function(be,je,ye){var ke=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return this.setPageHash(this.encodePageHash(be||this.defaultPageId,je,ye),ke)}},{key:"setPageRef",value:function(be){var je=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.setPage(this.pageId,be,this.pageParams,je)}},{key:"setPageParams",value:function(be){var je=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.setPage(this.pageId,this.pageRef,be,je)}},{key:"setPageHash",value:function(be){var je=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ye=this.decodePageHash(be),ke=ye.pageId,dt=ye.pageRef,kt=ye.pageParams;return!(this.pageId===ke&&this.pageRef===dt&&(0,x.equal)(this.pageParams,kt)||(this.pageId=ke,this.pageRef=dt,this.pageParams=kt,this.scheduleRender("page"),be===this.pageHash)||(this.pageHash=be,this.emit("pageHashChange",je),0))}},{key:"renderPage",value:function(){Ce.get(this).delete("page");var be=this.data,je=this.getRenderContext(),ye=this.page.render(this.dom.pageContent,this.pageId,be,je),ke=ye.pageEl,dt=ye.renderState,kt=ye.config;return this.view.setViewRoot(ke,"Page: "+this.pageId,{config:kt,data:be,context:je}),this.dom.pageContent=ke,this.nav.render(this.dom.nav),se(this.dom.container,"dzen",this.pageParams.dzen),se(this.dom.container,"compact",this.options.compact),dt}}])&&P(ce.prototype,_e),Ee&&P(ce,Ee),ft}(_.default);k.default=Ke},{"../core/emitter.js":11,"../core/object-marker.js":12,"../core/page.js":13,"../core/preset.js":14,"../core/publisher.js":15,"../core/utils/compare.js":18,"../core/utils/dom.js":21,"../core/view.js":31,"../inspector/index.js":32,"../lib.js":33,"../pages/index.js":35,"../views/index.js":78,"./darkmode.js":138,"./nav.js":140,"/gen/jora.js":5}],140:[function(H,pe,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.WidgetNavigation=void 0;var _=H("../core/utils/dom.js"),F=H("../core/utils/size.js");function A(x){return function(f){if(Array.isArray(f))return h(f)}(x)||function(f){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(f))return Array.from(f)}(x)||function(f,p){if(!f)return;if(typeof f=="string")return h(f,p);var g=Object.prototype.toString.call(f).slice(8,-1);if(g==="Object"&&f.constructor&&(g=f.constructor.name),g==="Map"||g==="Set")return Array.from(f);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return h(f,p)}(x)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(x,f){(f==null||f>x.length)&&(f=x.length);for(var p=0,g=new Array(f);p<f;p++)g[p]=x[p];return g}function w(x,f){var p=Object.keys(x);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(x);f&&(g=g.filter(function(d){return Object.getOwnPropertyDescriptor(x,d).enumerable})),p.push.apply(p,g)}return p}function u(x){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?w(Object(p),!0).forEach(function(g){y(x,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(p)):w(Object(p)).forEach(function(g){Object.defineProperty(x,g,Object.getOwnPropertyDescriptor(p,g))})}return x}function y(x,f,p){return f in x?Object.defineProperty(x,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):x[f]=p,x}function S(x,f){for(var p=0;p<f.length;p++){var g=f[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(x,g.key,g)}}function O(x,f){var p=[],g=function(d,l,c){switch(l){case"after":(l=p.findIndex(function(v){return v.name===c}))===-1?l=p.length:l++;break;case"before":(l=p.findIndex(function(v){return v.name===c}))===-1&&(l=p.length);break;default:l!==void 0&&!isNaN(l)&&isFinite(l)||(l=p.length)}p.splice(Math.max(0,Math.min(p.length,l)),0,x.view.composeConfig(f,d))};return Object.assign(p,{insert:g,prepend:function(d){g(d,0)},append:function(d){g(d)},before:function(d,l){g(l,"before",d)},after:function(d,l){g(l,"after",d)},remove:function(d){var l=p.findIndex(function(c){return c.name===d});return l!==-1?p.splice(l,1)[0]:null}})}var m=function(){function x(d){var l=this;!function(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}(this,x),this.host=d,this.popup=null,this.primary=O(d,"nav-button"),this.secondary=O(d,"nav-button"),this.menu=O(d,"menu-item"),this.config=[this.secondary,{view:"nav-button",name:"burger",data:function(){var c=(0,_.createFragment)();return l.host.view.render(c,l.menu,l.host.data,u(u({},l.host.context),{},{widget:l.host,hide:function(){return l.popup&&l.popup.hide()}})).then(function(){return A(c.childNodes)})},whenData:!0,onClick:function(c,v){l.popup||(l.popup=new l.host.view.Popup({className:"discovery-nav-popup"})),l.popup.toggle(c,function(j){return j.append.apply(j,A(v))})}},this.primary],Object.assign(this,this.secondary),this.contentRect=new F.ContentRect,this.contentRect.subscribe(function(c){var v=c.width;d.dom.container&&d.dom.container.style.setProperty("--discovery-nav-width",v+"px")})}var f,p,g;return f=x,(p=[{key:"render",value:function(){var d=this.host,l=d.data,c=d.dom,v=c&&c.nav;if(this.contentRect.observe(v),v){var j=u(u({},this.host.getRenderContext()),{},{widget:this.host});this.host.view.setViewRoot(v,"nav",{config:this.config,data:l,context:j}),v.innerHTML="",this.host.view.render(v,this.config,l,j)}}}])&&S(f.prototype,p),g&&S(f,g),x}();k.WidgetNavigation=m},{"../core/utils/dom.js":21,"../core/utils/size.js":30}]},{},[33])(33)})}),Us=Ws(wl=>{bl(wl,{default:()=>xl});var xl=H=>{H.view.define("label",function(A,h={}){let{text:w}=h;A.appendChild(document.createTextNode(String(w)))},{tag:"label"}),H.view.define("fieldset",function(A,h,w,u){let{onChange:y,onInit:S}=h,{content:O}=h,{label:m}=O;Array.isArray(O)||(O=[O,{view:"label",text:m}]),O.forEach(x=>{x.onInit=S,x.onChange=y}),H.view.render(A,O,w,u)});let pe=()=>{},k=[{view:"block",className:"dark-mode-switcher",name:"darkmode",label:"Color schema",postRender:(A,h,w,u)=>{let y;pe(),pe=H.darkmode.on((S,O)=>{let m=O==="auto"?"auto":S;if(m===y)return;A.innerHTML="",y=m,H.view.render(A,{view:"toggle-group",onChange:x=>{y=x,H.darkmode.set(x),_(Object.assign(u,{darkmode:x}))},value:m,data:[{value:!1,text:"Light"},{value:!0,text:"Dark"},{value:"auto",text:"Auto"}]},null,{widget:H})},!0)}},{view:"input",htmlType:"number",htmlMin:0,name:"expandLevel",label:"Expand Level"}].map(A=>({view:"fieldset",content:A}));H.page.define("settings",function(A,h,w){let{settings:u}=w;H.view.render(A,['h1:"Settings"',{view:"context",modifiers:k,content:[{view:"button-primary",content:'text:"Save"',onClick:(y,S,O)=>{_(O)}}]}],{},u)});function _(A){let{valid:h,errors:w}=F(A);h?(typeof chrome!="undefined"?chrome.storage.sync.set(A):typeof safari!="undefined"&&safari.extension.dispatchMessage("setSettings",A),H.flashMessage("Options saved.","success")):H.flashMessage(w.join(" "),"danger")}function F(A){let{expandLevel:h,darkmode:w}=A,u=!0,y=[];return(!h||!Number.isInteger(Number(h)))&&(u=!1,y.push("Expand level must be an integer number!")),(typeof w=="undefined"||!(typeof w=="boolean"||w==="auto"))&&(u=!1,y.push("Darkmode must be a true, false or auto")),{valid:u,errors:y}}}});function Vs(H){let pe=document.readyState==="completed",k=null,_=null;requestAnimationFrame(function F(){if(document.body&&document.body.firstElementChild&&document.body.firstElementChild.tagName==="PRE"&&_===null&&(k=document.body.firstElementChild,_=window.getComputedStyle(k).display,k.style.display="none"),pe||requestAnimationFrame(F),k!==null&&pe){let A,h=k.textContent.trim();if(!h.startsWith("{")&&!h.startsWith("[")){k.style.display=_;return}try{A=JSON.parse(h)}catch(u){k.style.display=_,console.error(u.message)}if(!A){k.style.display=_;return}document.body.innerHTML="",document.body.style.margin=0,document.body.style.padding=0,document.body.style.height="100%",document.body.style.border="none";let w=document.createElement("div");w.style.height="100%",document.body.appendChild(w),H(u=>{kl({discoveryNode:w,raw:h,data:A,settings:u})})}}),window.addEventListener("DOMContentLoaded",()=>pe=!0,!1)}function kl(H){let{Widget:pe,router:k,complexViews:_,utils:F}=qs(),A=Us().default,{settings:h}=H,{darkmode:w="auto"}=h,u=new pe(H.discoveryNode,null,{isolateStyleMarker:"xxx",darkmode:w});return u.apply(k),u.apply(_),u.flashMessagesContainer=F.createElement("div","flash-messages-container"),u.dom.container.append(u.flashMessagesContainer),u.flashMessage=(y,S)=>{let O=document.createDocumentFragment();u.view.render(O,{view:`alert-${S}`,content:"text"},y).then(()=>{let m=O.firstChild;u.flashMessagesContainer.append(m),setTimeout(()=>m.remove(),750)})},A(u),u.page.define("default",[{view:"struct",expanded:parseInt(h.expandLevel,10)||0}]),u.view.define("raw",y=>{let{raw:S}=u.context;y.classList.add("user-select"),y.textContent=S},{tag:"pre"}),u.page.define("raw","raw"),u.nav.append({content:'text:"Index"',onClick:()=>{u.setPage("default"),history.replaceState(null,null," ")},when:()=>u.pageId!=="default"}),u.nav.append({content:'text:"Make report"',onClick:()=>u.setPage("report"),when:()=>u.pageId!=="report"}),u.nav.append({content:'text:"Save"',onClick:y=>{let S=new Blob([H.raw],{type:"application/json"}),O=(window.location.hostname+window.location.pathname).replace(/[^a-z0-9]/gi,"-").replace(/-$/,"");y.download=O.endsWith("-json")?O.replace(/-json$/,".json"):O+".json",y.href=window.URL.createObjectURL(S)}}),u.nav.append({content:'text:"Raw"',onClick:()=>u.setPage("raw"),when:()=>u.pageId!=="raw"}),u.nav.append({content:'text:"Copy raw"',onClick:async function(){let{raw:y}=u.context;try{await navigator.clipboard.writeText(y)}catch(S){console.error(S)}u.flashMessage("Copied!","success")},when:()=>(u.pageId==="raw"?document.body.classList.add("no-user-select"):document.body.classList.remove("no-user-select"),u.pageId==="raw")}),u.nav.append({content:'text:"Settings"',onClick:()=>u.setPage("settings")}),u.setData(H.data,{name:H.title,raw:H.raw,settings:h,createdAt:new Date().toISOString()}),u}function Gs(H){chrome.storage.sync.get({expandLevel:3,darkmode:"auto"},pe=>{H(pe)})}Vs(Gs);})();
/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */
